(this["webpackJsonpgmp-frontend"]=this["webpackJsonpgmp-frontend"]||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"x",(function(){return u})),n.d(t,"F",(function(){return l})),n.d(t,"v",(function(){return d})),n.d(t,"E",(function(){return b})),n.d(t,"G",(function(){return j})),n.d(t,"H",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"e",(function(){return f})),n.d(t,"t",(function(){return x})),n.d(t,"b",(function(){return h})),n.d(t,"k",(function(){return O})),n.d(t,"q",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"z",(function(){return y})),n.d(t,"c",(function(){return C})),n.d(t,"a",(function(){return w})),n.d(t,"D",(function(){return N})),n.d(t,"f",(function(){return k})),n.d(t,"r",(function(){return F})),n.d(t,"w",(function(){return E})),n.d(t,"i",(function(){return P})),n.d(t,"l",(function(){return S})),n.d(t,"m",(function(){return R})),n.d(t,"y",(function(){return M})),n.d(t,"h",(function(){return A})),n.d(t,"C",(function(){return Q})),n.d(t,"I",(function(){return I})),n.d(t,"g",(function(){return z})),n.d(t,"s",(function(){return U})),n.d(t,"n",(function(){return D})),n.d(t,"o",(function(){return q})),n.d(t,"p",(function(){return T})),n.d(t,"B",(function(){return L})),n.d(t,"A",(function(){return B})),n.d(t,"u",(function(){return _}));var a=n(23),r=n.n(a),o=window.host,c=window.port,i={withCredentials:!0},s=window.location.href.split("/")[0];function u(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/auth"),i)}function l(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/auth/logout"),i)}function d(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/auth/").concat(e,"/profilepic"),i)}function b(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/auth/login"),{username:e,password:t},i)}function j(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/auth/").concat(e,"/profilepic/new"),t,i)}function m(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/auth/").concat(e,"/changepwd"),{passwords:t},i)}function p(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/auth/profilepic/remove"),i)}function f(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/auth/addnewprof"),{username:e,password:t},i)}function x(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/categories"),i)}function h(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/categories/new"),t,i)}function O(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/delete"),i)}function g(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/modele"),i)}function v(e){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/modele/new"),{nommodele:e},i)}function y(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/etudiant/").concat(e,"/modeles"),i)}function C(e){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/architecture/").concat(e.sujet,"/modeles/new"),e.images,i)}function w(e){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/architecture/new"),e,i)}function N(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/architecture/attribued_without_modeles/excel"),i)}function k(e){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/promo/new"),{nomPromo:e},i)}function F(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/promo/"),i)}function E(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/promo/").concat(e),i)}function P(e,t){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/promo/").concat(e,"/").concat(t,"/attribution"),i)}function S(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/promo/").concat(e,"/delete"),i)}function R(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/promo/").concat(e,"/desatribution"),i)}function M(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/promo/modele"),i)}function A(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/variables/new"),t,i)}function Q(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/variables"),i)}function I(e,t,n){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/questions/new"),{tabQuestions:n,enonce:t},i)}function z(e){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/unite/new"),{tabUnites:e},i)}function U(){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/unite/"),i)}function D(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/etudiant/").concat(e,"/new"),t,i)}function q(e){return r.a.post("".concat(s,"//").concat(o,":").concat(c,"/etudiant/reponses/new"),{tabQuestions:e},i)}function T(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/etudiant/").concat(e,"/variables"),i)}function L(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/modele/").concat(e,"/sujet"),i)}function B(e,t){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/correction/").concat(e,"/").concat(t),i)}function _(e){return r.a.get("".concat(s,"//").concat(o,":").concat(c,"/etudiant/").concat(e,"/reponses"),i)}},284:function(e,t,n){},31:function(e,t,n){"use strict";(function(e){n.d(t,"n",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return b})),n.d(t,"m",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"j",(function(){return C})),n.d(t,"g",(function(){return w})),n.d(t,"f",(function(){return N})),n.d(t,"h",(function(){return k})),n.d(t,"i",(function(){return F}));var a,r=n(12),o=n(11),c=n.n(o),i=n(18),s=n(15),u=n(14),l=Object(s.b)("users/getInfoUser",Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.x)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),d=Object(s.b)("users/logout",Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.F)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),b=Object(s.b)("users/login",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.E)(t.name,t.password);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j=Object(s.b)("users/setUserImage",function(){var e=Object(i.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("profilePic",t.image),e.next=4,Object(u.G)(t.name,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(s.b)("users/deleteUserImage",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.j)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(s.b)("users/getUserImage",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.v)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=window.localStorage,x=Object(s.c)({name:"user",initialState:{name:"",password:"",image:void 0,isProf:!1,isLogin:void 0,error:!1,justLogin:!1},reducers:{setUser:function(e,t){var n=t.payload,a=n.name,r=n.password,o=n.isProf;e.name=a,e.password=r,e.isProf=o},setError:function(e,t){e.error=t.payload},setJustLogin:function(e,t){e.justLogin=t.payload}},extraReducers:(a={},Object(r.a)(a,l.rejected,(function(e){h(e)})),Object(r.a)(a,l.fulfilled,(function(e,t){O(e,t)})),Object(r.a)(a,m.fulfilled,(function(e,t){e.image=void 0,f.setItem(e.name,"")})),Object(r.a)(a,b.rejected,(function(e){e.error=!0})),Object(r.a)(a,b.fulfilled,(function(e,t){O(e,t),e.justLogin=!0})),Object(r.a)(a,d.rejected,(function(e){h(e)})),Object(r.a)(a,d.fulfilled,(function(e){h(e)})),Object(r.a)(a,j.pending,(function(e,t){e.image=URL.createObjectURL(t.meta.arg.image);var n=new FileReader,a=e.name;n.readAsDataURL(t.meta.arg.image),n.onloadend=function(){var e=n.result;f.setItem(a,e)}})),Object(r.a)(a,p.fulfilled,(function(t,n){var a="data:image/jpeg;base64,"+e.from(n.payload.profilepic).toString("base64");t.image=a,f.setItem(t.name,a)})),a)}),h=function(e){e.name="",e.password="",e.isLogin=!1,e.isProf=void 0,e.image=void 0},O=function(e,t){e.name=t.payload.username,e.isProf=1===t.payload.isProf,e.isLogin=!0,void 0===e.image&&(e.image=null===f.getItem(t.payload.username)?void 0:f.getItem(t.payload.username))},g=x.actions,v=(g.setUser,g.changeUserName,g.setError),y=g.setJustLogin,C=function(e){return e.user},w=function(e){return e.user.isLogin},N=function(e){return e.user.error},k=function(e){return e.user.isProf},F=function(e){return e.user.justLogin};t.a=x.reducer}).call(this,n(126).Buffer)},32:function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return O})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"n",(function(){return y})),n.d(t,"b",(function(){return C})),n.d(t,"l",(function(){return w})),n.d(t,"k",(function(){return N})),n.d(t,"m",(function(){return k}));var a,r=n(12),o=n(11),c=n.n(o),i=n(18),s=n(15),u=n(14),l=n(38),d=n.n(l),b=Object(s.b)("etudiant/getEtudiantModele",Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.y)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),j=Object(s.b)("etudiant/getSujet",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.B)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(s.b)("etudiant/enregistrerReponses",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.o)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(s.b)("etudiant/etudiantVariables",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.p)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(s.b)("etudiant/getModele3D",function(){var e=Object(i.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.z)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(s.c)({name:"reponse",initialState:{tabQuestions:[{indexQuestion:0,enonce:"",justification:"",nbMaxReponses:5,tabReponses:[{value:"",tabUnite:[{abr:" ",puissance:1}]}]}],sujet:"",sujetEnregistre:!1,id_auth:"",image1:"",image2:""},reducers:{addReponse:function(e,t){var n=t.payload,a=e.tabQuestions[t.payload].tabReponses.length-1;e.tabQuestions[n].tabReponses.push({value:"",tabUnite:d.a.cloneDeep(e.tabQuestions[n].tabReponses[a].tabUnite)})},changeReponse:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse,o=n.value;isNaN(o)&&"-"!==o||(e.tabQuestions[a].tabReponses[r].value=o)},deleteReponse:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse;e.tabQuestions[a].tabReponses.length>1&&e.tabQuestions[a].tabReponses.splice(r,1)},changeUniteForAllReponses:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.tab;e.tabQuestions[a].tabReponses.map((function(e){return e.tabUnite=d.a.cloneDeep(r)}))},changeUniteReponses:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse,o=n.tab;e.tabQuestions[a].tabReponses[r].tabUnite=o},changeJustification:function(e,t){e.tabQuestions[t.payload.indexQuestion].justification=t.payload.justif},setUnite:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse,o=n.newTab;e.tabQuestions[a].tabReponses[r].tabUnite=o}},extraReducers:(a={},Object(r.a)(a,j.fulfilled,(function(e,t){e.tabQuestions=[],e.sujet=t.payload.enonce,t.payload.questions.forEach((function(t){var n=[];void 0!==t.reponse?t.reponses.forEach((function(e){n.push({value:e.value,tabUnite:e.tabUnite})})):n.push({value:"",tabUnite:[]}),e.tabQuestions.push({indexQuestion:t.id_question,enonce:t.contenu,nbMaxReponses:5,justification:"",tabReponses:n})})),e.id_auth=t.payload.id_auth,e.sujetEnregistre=!0})),Object(r.a)(a,m.fulfilled,(function(e){e.sujetEnregistre=!0})),Object(r.a)(a,p.fulfilled,(function(e,t){var n=e.sujet;t.payload.forEach((function(t){var a=new RegExp("\\$\\{\\s*"+t.nom+"\\s*\\}","g");n=n.replaceAll(a,t.valeur),e.tabQuestions.forEach((function(e){e.enonce=e.enonce.replaceAll(a,t.valeur)}))})),e.sujet=n})),Object(r.a)(a,f.fulfilled,(function(t,n){t.image1="data:image/jpeg;base64,"+e.from(n.payload.image1).toString("base64"),t.image2="data:image/jpeg;base64,"+e.from(n.payload.image2).toString("base64")})),a)}),h=x.actions,O=h.addReponse,g=h.changeReponse,v=h.deleteReponse,y=(h.changeUniteReponses,h.changeUniteForAllReponses,h.setUnite),C=h.changeJustification,w=function(e){return e.reponse},N=function(e){return function(t){return t.reponse.tabQuestions[e].tabReponses.length>1}},k=function(e){return e.reponse.sujetEnregistre};t.d=x.reducer}).call(this,n(126).Buffer)},607:function(e,t){},628:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),c=n.n(o),i=(n(284),n(58)),s=n(37),u=n(706),l=n(707),d=n(259),b=n.n(d),j=n(10),m=n(678),p=n(85),f=n(681),x=n(77),h=n.n(x),O=n(96),g=n.n(O),v=n(680),y=n(682),C=n(683),w=n(684),N=n(685),k=n(686),F=n(718),E=n(688),P=n(689),S=n(94),R=n.n(S),M=n(95),A=n.n(M),Q=n(137),I=n.n(Q),z=n(715),U=n(38),D=n.n(U),q=n(1);function T(e){var t=e.label,n=e.typeNumber,r=e.onChange,o=e.delay,c=e.value,i=e.style,s=e.rows,u=Object(a.useState)(c),l=Object(j.a)(u,2),d=l[0],b=l[1],m=Object(a.useRef)(D.a.debounce((function(e){return r(e)}),o)).current,p=function(e){b(e.target.value),m(e.target.value)};return Object(q.jsx)(z.a,{style:i,multiline:!0,rows:s,variant:"outlined",size:"small",label:t,onChange:function(e){void 0===n||!1===n?p(e):isNaN(e.target.value)&&"-"!==e.target.value||p(e)},value:d})}var L,B=n(12),_=n(157),W=n.n(_),V=n(42),J=n.n(V),G=n(229),H=n.n(G),K=n(230),Y=n.n(K),X=n(679),$=n(11),Z=n.n($),ee=n(18),te=n(15),ne=n(14),ae=Object(te.b)("formule/getCategoriesFormules",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.t)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re=Object(te.b)("formule/enregistrerFormules",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.b)(t.idModele,t.tab);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=Object(te.c)({name:"formule",initialState:{tab:[{nom:"",modif:!0,tabFormule:[{nomFormule:"",formule:"",modif:!0}],saveElement:{elem:null,indexCategorie:void 0,indexFormule:void 0}}],actualise:!1,enregistre:!1,changement:!1},reducers:{addCategorie:function(e){e.tab.push({nom:"",modif:!0,tabFormule:[{nomFormule:"",formule:"",modif:!0}]}),e.enregistre=!1},changeNom:function(e,t){e.tab[t.payload.index].nom=t.payload.event,e.enregistre=!1},removeCategorie:function(e,t){e.tab.splice(t.payload,1),e.enregistre=!1,e.changement=!0},changeModifCategorie:function(e,t){e.tab[t.payload].modif=!e.tab[t.payload].modif,e.enregistre=!1},addFormule:function(e,t){e.tab[t.payload].tabFormule[e.tab[t.payload].tabFormule.length-1].modif=!1,e.tab[t.payload].tabFormule.push({nomFormule:"",formule:"",modif:!0}),e.enregistre=!1},changeNomFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule,o=n.event;e.tab[a].tabFormule[r].nomFormule=o},changeFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule,o=n.event;e.tab[a].tabFormule[r].formule=o},changeModifFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule;e.tab[a].tabFormule[r].modif=!e.tab[a].tabFormule[r].modif,e.enregistre=!1},removeFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule;e.saveElement={elem:e.tab[a].tabFormule[r],indexCategorie:a,indexFormule:r},e.tab[a].tabFormule.splice(r,1),e.enregistre=!1,e.changement=!0},undoFormule:function(e){e.tab[e.saveElement.indexCategorie].tabFormule.splice(e.saveElement.indexFormule,0,{nomFormule:e.saveElement.elem.nomFormule,formule:e.saveElement.elem.formule,modif:e.saveElement.elem.modif}),e.changement=!0},changePositionFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule,o=n.up;if(o&&r>0||!o&&r<e.tab[a].tabFormule.length-1){var c=o?-1:1,i=e.tab[a].tabFormule[r+c];e.tab[a].tabFormule[r+c]=e.tab[a].tabFormule[r],e.tab[a].tabFormule[r]=i}e.enregistre=!1,e.changement=!0},enregistre:function(e){e.enregistre=!0}},extraReducers:(L={},Object(B.a)(L,ae.pending,(function(e){e.actualise=!1})),Object(B.a)(L,ae.rejected,(function(e,t){"Request failed with status code 404"===t.error.message&&(e.tab=[{nom:"",modif:!0,tabFormule:[{nomFormule:"",formule:"",modif:!0}]}],e.actualise=!0,e.enregistre=!0,e.changement=!1)})),Object(B.a)(L,ae.fulfilled,(function(e,t){var n=[];t.payload.forEach((function(e){var t=[];e.formules.forEach((function(e){t.push({nomFormule:e.nom,formule:e.contenu,modif:!1})})),n.push({nom:e.nom,modif:!1,tabFormule:t,saveTabFormule:t})})),e.actualise=!0,e.enregistre=!0,e.changement=!1,e.tab=n})),Object(B.a)(L,re.fulfilled,(function(e){e.enregistre=!0})),L)}),ce=oe.actions,ie=(ce.setActualise,ce.changeNom),se=ce.addCategorie,ue=ce.removeCategorie,le=ce.changeModifCategorie,de=ce.addFormule,be=ce.undoFormule,je=ce.changeNomFormule,me=ce.changeFormule,pe=ce.changeModifFormule,fe=ce.removeFormule,xe=ce.changePositionFormule,he=function(e){return e.formule.tab},Oe=function(e){return e.formule.actualise},ge=function(e){return e.formule.enregistre},ve=function(e){return e.formule.tab.length},ye=function(e){return e.formule.tab[0].tabFormule[0].nomFormule},Ce=function(e){return e.formule.changement},we=oe.reducer,Ne=n(5),ke=n(4),Fe=function(e){var t=e.indexCategorie,n=e.indexFormule,a=e.length,r=e.onRemove,o=Object(m.a)((function(e){return{affichageFormule:{display:"flex"},nomForm:{width:"30%"},center:{display:"block",margin:"auto"},formule:{width:"40%",marginLeft:"2%"},buttonSave:{backgroundColor:e.palette.primary.light},typoNomFormule:{overflowWrap:"break-word",width:"30%"},typoFormule:{overflowWrap:"break-word",width:"40%",marginLeft:"2%"},buttonModif:{backgroundColor:e.palette.primary.light},containerFormules:Object(B.a)({display:"grid",gridTemplateColumns:"0.5fr 3.5fr 2fr 0.75fr 0.75fr",gridTemplateRows:"1fr",gap:"0px 15px",margin:"0px 1% 3%"},e.breakpoints.down("sm"),{gridTemplateColumns:"0.5fr 3.5fr 2fr",gap:"0, 10px"}),fabDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}}}}))(),c=Object(Ne.b)(),i=Object(X.a)("(min-width:960px)"),s=Object(Ne.c)(function(e,t){return function(n){return n.formule.tab[e].tabFormule[t]}}(t,n)),u=function(){c(pe({indexCategorie:t,indexFormule:n}))};return Object(q.jsxs)("div",{className:o.containerFormules,children:[Object(q.jsx)(f.a,{className:Object(ke.a)(o.fabDelete,o.center),disabled:1===a,size:"small","aria-label":"add",onClick:function(){c(fe({indexCategorie:t,indexFormule:n})),r()},children:Object(q.jsx)(J.a,{className:o.center})}),s.modif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:o.affichageFormule,children:[Object(q.jsx)(T,{label:"Nom formule",delay:300,value:s.nomFormule,onChange:function(e){return c(je({indexCategorie:t,indexFormule:n,event:e}))}}),Object(q.jsx)(W.a,{className:o.center}),Object(q.jsx)(T,{label:"Formule",delay:250,value:s.formule,onChange:function(e){return c(me({indexCategorie:t,indexFormule:n,event:e}))}})]}),Object(q.jsx)(v.a,{className:Object(ke.a)(o.buttonSave,o.center),variant:"contained",onClick:function(){return u()},disabled:""===s.nomFormule||""===s.formule,children:"Enregistrer"})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:o.affichageFormule,children:[Object(q.jsx)(p.a,{className:Object(ke.a)(o.typoNomFormule,o.center),children:s.nomFormule}),Object(q.jsx)(W.a,{className:o.center}),Object(q.jsx)(p.a,{className:Object(ke.a)(o.typoFormule,o.center),children:s.formule})]}),Object(q.jsx)(v.a,{className:Object(ke.a)(o.buttonModif,o.center),variant:"contained",onClick:function(){return u()},children:"Modifier"})]}),i?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{color:"primary",variant:"extended",size:"small",onClick:function(e){return c(xe({indexCategorie:t,indexFormule:n,up:!0}))},children:Object(q.jsx)(H.a,{})}),Object(q.jsx)(f.a,{color:"primary",variant:"extended",size:"small",onClick:function(){return c(xe({indexCategorie:t,indexFormule:n,up:!1}))},children:Object(q.jsx)(Y.a,{})})]}):null]})},Ee=r.a.memo(Fe),Pe=n(714),Se=n(631),Re=n(710),Me=n(93),Ae=n.n(Me);function Qe(e){var t=e.open,n=e.handleClose,a=e.actionName,r=e.severity,o=e.pos,c=e.action,i=e.message,s=e.disabled,u=Object(m.a)((function(){return{snackbar:{zIndex:10}}}))();return Object(q.jsx)("div",{children:Object(q.jsx)(Pe.a,{className:u.snackbar,anchorOrigin:{vertical:"bottom",horizontal:void 0!==o?o:"left"},open:t,autoHideDuration:6e3,onClose:n,children:Object(q.jsx)(Re.a,{onClose:n,severity:r,action:null!==a?Object(q.jsx)(v.a,{disabled:null!==s&&s,color:"primary",onClick:function(){return c()},children:a}):Object(q.jsx)(Se.a,{color:"inherit",size:"small",onClick:function(){return n()},children:Object(q.jsx)(Ae.a,{fontSize:"inherit"})}),children:i})})})}var Ie=function(e){var t,n=e.indexCategorie,r=Object(m.a)((function(){return{buttonAjouterFormule:{display:"block",margin:"6% auto 0 auto"}}}))(),o=Object(a.useState)(!1),c=Object(j.a)(o,2),i=c[0],s=c[1],u=Object(Ne.b)(),l=Object(Ne.c)((t=n,function(e){return e.formule.tab[t].tabFormule.length})),d=window.max_formule,b=Object(a.useCallback)((function(){u(de(n))}),[u,n]);return Object(q.jsxs)("div",{children:[Array(l).fill(0).map((function(e,t){return Object(q.jsx)(Ee,{onRemove:function(){return s(!0)},indexFormule:t,length:l,indexCategorie:n},t)})),Object(q.jsx)(v.a,{className:r.buttonAjouterFormule,disabled:l>=d,variant:"contained",color:"primary",onClick:function(){return b()},children:"Ajouter des formules"}),Object(q.jsx)(Qe,{message:"Formule supprim\xe9e",actionName:"RETOUR",action:function(){return u(be()),void s(!1)},open:i,handleClose:function(){return s(!1)},pos:"right"})]})},ze=r.a.memo(Ie),Ue=function(e){var t=e.index,n=e.length,r=Object(m.a)((function(e){return{fieldNomCategorie:{width:"30%"},textNomCategorie:{width:"30%",marginTop:"8px"},fabModif:{backgroundColor:e.palette.primary.light},divItemAccordeon:{display:"block",margin:"0 auto 2% auto",width:"70%",minWidth:"420px",borderRadius:"3px",padding:"2% 3%",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},enteteItemAccordeon:{display:"flex",justifyContent:"space-between"},buttonDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},accordion:{marginTop:15},accordionDetails:{display:"flex",flexDirection:"column"}}}))(),o=Object(a.useState)(!0),c=Object(j.a)(o,2),i=c[0],s=c[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],x=Object(Ne.b)(),h=Object(Ne.c)(function(e){return function(t){return t.formule.tab[e]}}(t)),O=Object(a.useCallback)((function(){x(le(t))}),[x,t]),g=Object(a.useCallback)((function(){b(!1),d&&x(ue(t))}),[x,t,d]);return Object(q.jsxs)("div",{className:r.divItemAccordeon,children:[Object(q.jsxs)("div",{className:r.enteteItemAccordeon,children:[h.modif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(T,{label:"Nom Cat\xe9gorie",delayTimeout:250,value:h.nom,onChange:function(e){return x(ie({index:t,event:e}))}}),Object(q.jsx)(f.a,{disabled:""===h.nom,size:"small",color:"primary","aria-label":"add",onClick:function(){return O()},children:Object(q.jsx)(R.a,{})})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{className:r.textNomCategorie,children:h.nom}),Object(q.jsx)(f.a,{className:r.fabModif,size:"small","aria-label":"add",onClick:function(){return O()},children:Object(q.jsx)(A.a,{})})]}),Object(q.jsx)(v.a,{className:r.buttonDelete,disabled:1===n,variant:"contained",onClick:function(e){return b(!0)},children:"Supprimer la cat\xe9gorie"}),Object(q.jsxs)(y.a,{open:d,onClose:function(){return b(!1)},children:[Object(q.jsx)(C.a,{children:"Suppression"}),Object(q.jsx)(w.a,{children:Object(q.jsx)(N.a,{children:"Voulez-vous vraiment supprimer la cat\xe9gorie ?"})}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return b(!1)},color:"primary",children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){return g()},color:"primary",autoFocus:!0,children:"OK"})]})]})]}),Object(q.jsxs)(F.a,{className:r.accordion,square:!0,expanded:i,onChange:function(){return s(!i)},children:[Object(q.jsx)(E.a,{expandIcon:Object(q.jsx)(I.a,{})}),Object(q.jsx)(P.a,{className:r.accordionDetails,children:Object(q.jsx)(ze,{indexCategorie:t})})]})]})},De=r.a.memo(Ue);function qe(e){Object(a.useState)(e)}function Te(e){var t=function(t){e&&t.preventDefault()};Object(a.useEffect)((function(){return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}))}var Le,Be,_e,We,Ve=n(674),Je=n(717),Ge=n(711),He=n(671),Ke=n(690),Ye=n(76),Xe=n.n(Ye),$e=Object(te.b)("variable/getAllVariables",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.C)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ze=Object(te.b)("variable/setVariables",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.h)(t.idModele,t.tab);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),et=Object(te.c)({name:"variableAleatoire",initialState:{tab:[{nom:"",min:0,max:0,precision:0,modif:!0}],saveElement:{elem:null,index:void 0},actualise:!1,enregistre:!1},reducers:{addVariable:function(e){e.tab.push({nom:"",min:0,max:0,precision:0,modif:!0}),e.enregistre=!1},changeNom:function(e,t){e.tab[t.payload.index].nom=t.payload.event},changeMin:function(e,t){e.tab[t.payload.index].min=t.payload.event},changeMax:function(e,t){e.tab[t.payload.index].max=t.payload.event},removeVariable:function(e,t){e.tab.length>1&&(e.saveElement={elem:e.tab[t.payload],index:t.payload},e.tab.splice(t.payload,1),e.enregistre=!1)},changeModif:function(e,t){e.tab[t.payload].modif=!e.tab[t.payload].modif,e.enregistre=!1},changePrecision:function(e,t){e.tab[t.payload.index].precision=t.payload.precision},undoVariable:function(e){e.tab.splice(e.saveElement.index,0,{nom:e.saveElement.elem.nom,min:e.saveElement.elem.min,max:e.saveElement.elem.max,precision:e.saveElement.elem.precision,modif:e.saveElement.elem.modif})}},extraReducers:(Le={},Object(B.a)(Le,$e.pending,(function(e){e.actualise=!1})),Object(B.a)(Le,$e.rejected,(function(e,t){"Request failed with status code 404"===t.error.message&&(e.tab=[{nom:"",min:0,max:0,precision:0,modif:!0}],e.actualise=!0,e.enregistre=!0)})),Object(B.a)(Le,$e.fulfilled,(function(e,t){var n=[];t.payload.forEach((function(e){n.push({nom:e.nom,min:e.min,max:e.max,precision:e.precision,modif:!1})})),e.actualise=!0,e.enregistre=!0,e.tab=n})),Object(B.a)(Le,Ze.fulfilled,(function(e){e.enregistre=!0})),Le)}),tt=et.actions,nt=tt.addVariable,at=tt.changeNom,rt=tt.removeVariable,ot=tt.changeModif,ct=tt.changePrecision,it=tt.changeMin,st=tt.changeMax,ut=tt.undoVariable,lt=function(e){return e.variableAleatoire.tab},dt=function(e){return e.variableAleatoire.actualise},bt=function(e){return e.variableAleatoire.enregistre},jt=function(e){return e.variableAleatoire.tab.length},mt=et.reducer,pt=Object(te.b)("enonce/getSujet",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.B)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ft=Object(te.b)("enonce/setQuestions",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.I)(t.idModele,t.enonce,t.tabQuestions);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xt=Object(te.c)({name:"enonce",initialState:{enonceContenu:"",question:[{contenu:void 0,reponse:[{selectCat:"",selectForm:"",margeErreur:5,unite:[{abr:"",puissance:1}]}]}],actualise:!1,enregistre:!1},reducers:{addQuestion:function(e,t){e.question.push({contenu:"",reponse:[{selectCat:0,selectForm:t.payload,margeErreur:5,unite:[{abr:"",puissance:1}]}]})},removeQuestion:function(e,t){e.question.splice(t.payload,1),e.enregistre=!1},handleChangeQuestion:function(e,t){e.question[t.payload.index].contenu=t.payload.contenu,e.enregistre=!1},handleChangeSelect:function(e,t){e.question[t.payload.index].reponse=t.payload.reponse,e.enregistre=!1},handleChangeUnite:function(e,t){e.question[t.payload.idQuestion].reponse[t.payload.idReponse].unite=t.payload.tabUnite,e.enregistre=!1},addReponse:function(e,t){e.question[t.payload.id].reponse.push({selectCat:0,selectForm:t.payload.formule1,margeErreur:5,unite:[{abr:"",puissance:1}]}),e.enregistre=!1},enregistre:function(e){e.enregistre=!0},handleChangeCat:function(e,t){e.question[t.payload.idQuestion].reponse[t.payload.idReponse].selectCat=t.payload.value,e.question[t.payload.idQuestion].reponse[t.payload.idReponse].selectForm=t.payload.formule1,e.enregistre=!1},handleChangeForm:function(e,t){e.question[t.payload.idQuestion].reponse[t.payload.idReponse].selectForm=t.payload.value,e.enregistre=!1},handleChangeMargeErreur:function(e,t){e.question[t.payload.indexQuestion].reponse[t.payload.indexReponse].margeErreur=t.payload.marge,e.enregistre=!1},handleChangeEnonce:function(e,t){e.enonceContenu=t.payload,e.enregistre=!1},removeReponse:function(e,t){e.question[t.payload.indexQuestion].reponse.splice(t.payload.indexReponse,1),e.enregistre=!1}},extraReducers:(Be={},Object(B.a)(Be,pt.pending,(function(e){e.actualise=!1})),Object(B.a)(Be,pt.rejected,(function(e){e.enonceContenu="",e.question=[{contenu:"",reponse:[{selectCat:"",selectForm:"",margeErreur:5,unite:[{abr:"",puissance:1}]}]}],e.actualise=!0,e.enregistre=!0})),Object(B.a)(Be,pt.fulfilled,(function(e,t){var n=[];e.enonceContenu=t.payload.enonce,t.payload.questions.forEach((function(e){var t=[];e.reponses.forEach((function(e){t.push({selectCat:e.selectCat,selectForm:e.selectForm,margeErreur:e.margeErreur,unite:e.unite})})),n.push({contenu:e.contenu,reponse:t})})),e.question=n,e.actualise=!0,e.enregistre=!0})),Object(B.a)(Be,ft.fulfilled,(function(e){e.enregistre=!0})),Be)}),ht=xt.actions,Ot=ht.handleChangeEnonce,gt=ht.removeReponse,vt=ht.handleChangeMargeErreur,yt=ht.addQuestion,Ct=ht.removeQuestion,wt=ht.handleChangeQuestion,Nt=(ht.handleChangeSelect,ht.addReponse),kt=ht.handleChangeUnite,Ft=ht.handleChangeCat,Et=ht.handleChangeForm,Pt=function(e){return e.enonce},St=function(e){return e.enonce.actualise},Rt=function(e){return e.enonce.enregistre},Mt=function(e){return e.enonce.question.length},At=function(e){return e.enonce.enonceContenu},Qt=xt.reducer,It=Object(te.b)("unite/getAllUnite",Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.s)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),zt=Object(te.b)("unite/addunite",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.g)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ut=Object(te.c)({name:"unite",initialState:{tabUnites:[],indexEnModif:-1,actualise:!1,enregistre:!1},reducers:{addUnite:function(e){var t=e.tabUnites.push({nom:"",abrev:""});e.indexEnModif=t-1,e.enregistre=!1},changeNomComplet:function(e,t){var n=t.payload,a=n.index,r=n.value;e.tabUnites[a].nom=r,e.enregistre=!1},changeAbreviation:function(e,t){var n=t.payload,a=n.index,r=n.value;e.tabUnites[a].abrev=r,e.enregistre=!1},deleteUnite:function(e,t){var n=t.payload;e.indexEnModif=-1,e.enregistre=!1,e.tabUnites.splice(n,1)},setIndexEnModif:function(e,t){e.indexEnModif=t.payload},setEnregistre:function(e,t){e.enregistre=t.payload},setTest:function(e){e.tabUnites=[{nom:"Sans Unit\xe9",abrev:" "},{nom:"Gramme",abrev:"g"},{nom:"Newton",abrev:"N"}]}},extraReducers:(_e={},Object(B.a)(_e,It.fulfilled,(function(e,t){e.tabUnites=[];var n=D.a.remove(t.payload,(function(e){return"Sans Unit\xe9"===e.nom}));0!==n.length?e.tabUnites.push(n[0]):e.tabUnites.push({nom:"Sans Unit\xe9",abrev:""}),t.payload.forEach((function(t){e.tabUnites.push({nom:t.nom,abrev:t.abrev})})),e.actualise=!0,e.enregistre=!0})),Object(B.a)(_e,It.pending,(function(e,t){e.actualise=!1})),Object(B.a)(_e,zt.fulfilled,(function(e,t){e.indexEnModif=-1,e.enregistre=!0})),_e)}),Dt=Ut.actions,qt=(Dt.setTest,Dt.addUnite),Tt=Dt.changeNomComplet,Lt=Dt.changeAbreviation,Bt=Dt.deleteUnite,_t=Dt.setIndexEnModif,Wt=Dt.setEnregistre,Vt=function(e){return e.unite.tabUnites},Jt=function(e){return e.unite.actualise},Gt=function(e){return e.unite.indexEnModif},Ht=function(e){return e.unite.enregistre},Kt=Ut.reducer,Yt=Object(te.b)("modele/getAllModele",Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.q)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Xt=Object(te.b)("modele/removeModele",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.k)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$t=Object(te.b)("modele/new",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Zt=window.localStorage,en=Object(te.c)({name:"modele",initialState:{tabName:[],idModeleSelectionne:Zt.getItem("modele"),actualise:!1},reducers:{selectionnerModele:function(e,t){e.idModeleSelectionne=t.payload,Zt.setItem("modele",t.payload)}},extraReducers:(We={},Object(B.a)(We,Yt.rejected,(function(e){e.actualise=!0})),Object(B.a)(We,Yt.fulfilled,(function(e,t){if(!e.actualise){var n=t.payload;n.forEach((function(t){e.tabName[t.id_modele]={nom:t.nom_modele,index:t.id_modele}})),e.actualise=!0,e.chargementSuppression=!1,n.some((function(t){return Number(t.id_modele)===Number(e.idModeleSelectionne)}))||(e.idModeleSelectionne=n[0].id_modele,Zt.setItem("modele",n[0].id_modele))}})),Object(B.a)(We,Xt.pending,(function(e,t){e.tabName.splice(t.meta.arg,1)})),Object(B.a)(We,$t.fulfilled,(function(e,t){e.tabName[t.payload.insertId]={nom:t.meta.arg,index:t.payload.insertId}})),We)}),tn=en.actions.selectionnerModele,nn=function(e){return e.modele},an=function(e){return e.modele.actualise},rn=function(e){return e.modele.idModeleSelectionne},on=function(e){return e.modele.tabName[e.modele.idModeleSelectionne]},cn=en.reducer,sn=function(e){var t=e.setClose,n=e.open,r=e.tard,o=Object(m.a)((function(e){return{divNouveauModele:{display:"grid",gridTemplateColumns:"80% 20%",gridGap:"7%",marginTop:30},fabAdd:{marginLeft:"5%"},form:{display:"flex",justifyContent:"center",marginBottom:20},divSelectModele:{display:"grid",gridTemplateColumns:"80% 20%",gridGap:"7%",marginTop:15},selectModele:{width:200},menuItem:{color:e.palette.primary.main},fabDelete:{margin:"5%",color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},dialogActions:{marginBottom:"3%",justifyContent:"space-around"},buttonLater:{backgroundColor:e.palette.primary.light}}}))(),c=Object(Ne.b)(),i=Object(Ne.c)(nn),s=Object(Ne.c)(an),u=Object(a.useState)(null===i.idModeleSelectionne?"":i.idModeleSelectionne),l=Object(j.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)({etat:!1,nom:"",error:!1}),x=Object(j.a)(p,2),h=x[0],O=x[1],F=Object(a.useState)(!1),E=Object(j.a)(F,2),P=E[0],S=E[1];return Object(q.jsxs)("div",{children:[Object(q.jsxs)(y.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:n,onClose:function(){return t()},children:[Object(q.jsx)(C.a,{children:"Selection du mod\xe8le de sujet"}),Object(q.jsx)(w.a,{children:Object(q.jsx)("form",{className:o.form,children:Object(q.jsxs)(Ve.a,{children:[Object(q.jsx)(Je.a,{children:"Mod\xe8le"}),Object(q.jsxs)("div",{className:o.divSelectModele,children:[Object(q.jsxs)(Ge.a,{className:o.selectModele,value:d,onChange:function(e){b(e.target.value),"Cr\xe9er nouveau mod\xe8le"===e.target.value?O({etat:!0,nom:h.nom,error:!1}):O({etat:!1,nom:h.nom,error:!1})},input:Object(q.jsx)(He.a,{}),children:[Object(q.jsx)(Ke.a,{className:o.menuItem,value:"Cr\xe9er nouveau mod\xe8le",children:"Cr\xe9er nouveau mod\xe8le"}),s?i.tabName.map((function(e){return Object(q.jsx)(Ke.a,{value:e.index,children:e.nom},e.index)})):Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}})]}),Object(q.jsx)(f.a,{className:o.fabDelete,size:"small","aria-label":"delete",disabled:""===d||h.etat,onClick:function(){return S(!0)},children:Object(q.jsx)(J.a,{})})]}),h.etat?Object(q.jsxs)("div",{className:o.divNouveauModele,children:[Object(q.jsx)(z.a,{autoFocus:!0,size:"small",label:"Nom du mod\xe8le",variant:"outlined",required:!0,error:h.error,value:h.nom,onChange:function(e){return function(e){O({etat:!0,nom:e.target.value,error:!1})}(e)}}),Object(q.jsx)(f.a,{className:o.fabAdd,size:"small",color:"primary","aria-label":"add",disabled:""===h.nom,onClick:function(){i.tabName.includes(h.nom)?O({etat:!0,nom:h.nom,error:!0}):(c($t(h.nom)),O({etat:!0,nom:"",error:!1}))},children:Object(q.jsx)(g.a,{})})]}):null]})})}),Object(q.jsxs)(k.a,{className:o.dialogActions,children:[r?Object(q.jsx)(v.a,{className:o.buttonLater,variant:"contained",onClick:function(){return t()},children:"Choisir plus tard"}):null,Object(q.jsx)(v.a,{disabled:""===d||"Cr\xe9er nouveau mod\xe8le"===d,onClick:function(e){return d!==i.idModeleSelectionne&&(c(tn(d)),c(ae(d)),c($e(d)),c(pt(d)),c(It())),void t()},variant:"contained",color:"primary",children:"Ok"})]})]}),Object(q.jsxs)(y.a,{open:P,onClose:function(){return S(!1)},children:[Object(q.jsx)(C.a,{children:"Suppression"}),Object(q.jsx)(w.a,{children:Object(q.jsx)(N.a,{children:"Voulez-vous vraiment supprimer ce mod\xe8le ?"})}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return S(!1)},color:"primary",children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){return c(Xt(d)),void S(!1)},disabled:""===d,color:"primary",autoFocus:!0,children:"OK"})]})]})]})},un=r.a.memo(sn),ln=n(84);var dn=function(e){var t=e.isEnregistre,n=e.action,r=e.disabled,o=Object(a.useState)(!0),c=Object(j.a)(o,2),i=c[0],s=c[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],m=Object(a.useState)([]),p=Object(j.a)(m,2),f=p[0],x=p[1],h=Object(Ne.b)(),O=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],o=function(e){(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&83===e.keyCode?(e.preventDefault(),r(!0),setInterval((function(){r(!1)}),500)):r(!1)};return Object(a.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}})),n}();Te(!t),Object(a.useEffect)((function(){return s(!0)}),[t]);var g=Object(a.useCallback)((function(){t||r||h(n).then((function(e){"rejected"===e.meta.requestStatus&&"Request failed with status code 405"===e.error.message&&(0===f.length&&Object(ne.y)().then((function(e){x(e.data)})),b(!0))}))}),[h,n,t,r,f]);return Object(a.useEffect)((function(){O&&g()}),[O,g]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Qe,{severity:t?"success":"warning",message:t?"Enregistr\xe9":"Enregistrer les modifications",actionName:t?null:"Enregistrer",action:function(){t||g()},disabled:r,open:i,handleClose:function(){t&&s(!1)},pos:"left"}),Object(q.jsxs)(y.a,{open:d,onClose:function(){return b(!1)},children:[Object(q.jsx)(C.a,{children:"Attention"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)(N.a,{children:"Le sujet est associ\xe9 \xe0 une architecture, que voulez-vous faire ?"}),f.map((function(e,t){return Object(q.jsxs)("div",{style:{display:"flex"},children:[Object(q.jsxs)("p",{style:{margin:"auto 0"},children:["Promotion : ",e.nom_promo]}),Object(q.jsx)(v.a,{onClick:function(){return function(e){Object(ne.m)(e.id_promo).then().catch();var t=Object(ln.a)(f);t.splice(f.indexOf(e),1),x(t)}(e)},size:"small",variant:"contained",style:{marginLeft:20},children:"Supprimer l'association"})]},t)}))]}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return b(!1)},color:"primary",children:"Abandonner"}),Object(q.jsx)(v.a,{onClick:function(){g(),b(!1)},disabled:f.length>0,color:"primary",autoFocus:!0,children:"Enregistrer"})]})]})]})},bn=r.a.memo(dn),jn=function(){var e=Object(Ne.c)(ge),t=Object(Ne.c)(rn),n=Object(Ne.c)(he);return Object(q.jsx)(bn,{isEnregistre:e,action:re({tab:n,idModele:t}),disabled:n.some((function(e){return e.modif}))||n.some((function(e){return e.tabFormule.some((function(e){return e.modif}))}))})},mn=r.a.memo(jn);function pn(){var e=Object(m.a)((function(){return{hr:{width:"80%",marginBottom:"2%"},fab:{marginLeft:"3%",marginBottom:"2%"}}}))(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(Ne.b)(),i=Object(Ne.c)(ve),s=Object(Ne.c)(Oe),u=Object(Ne.c)(ge),l=Object(Ne.c)(rn),d=window.max_catformule;qe((function(){u||(null===l?o(!0):c(ae(l)))})),Te(!u);return null===l?Object(q.jsx)(un,{tard:!1,setClose:function(){return o(!1)},open:r}):s?Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"FORMULES"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(f.a,{className:e.fab,disabled:i>=d,size:"small",color:"primary","aria-label":"add",onClick:function(){return c(se())},children:Object(q.jsx)(g.a,{})}),Array(i).fill(0).map((function(e,t){return Object(q.jsx)(De,{index:t,length:i},t)})),Object(q.jsx)(mn,{})]}):Object(q.jsx)(h.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var fn=n(138),xn=n.n(fn);function hn(){return Object(q.jsx)(xn.a,{style:{position:"absolute",opacity:"0.6",top:0},height:"100vh",width:"100%",params:{particles:{number:{value:35,density:{enable:!0,value_area:1969.2792437967696}},color:{value:"#043f4f"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:6},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:4,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:126.03387160299326,color:"#00ff74",opacity:1,width:1.7329657345411573},move:{enable:!0,speed:.8,direction:"bottom-left",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:1024.0252067743202,rotateY:945.2540370224496}}}}})}var On=n(691),gn=n(709);function vn(e){return Object(q.jsx)(q.Fragment,{children:Object(q.jsxs)(gn.a,{position:"relative",display:"inline-flex",children:[Object(q.jsx)(On.a,{variant:"determinate",value:e.value/e.valueMax*100}),Object(q.jsx)(gn.a,{top:0,left:0,bottom:0,right:0,position:"absolute",display:"flex",alignItems:"center",justifyContent:"center",children:Object(q.jsx)(p.a,{variant:"caption",component:"div",color:"textSecondary",children:"".concat(e.value)})})]})})}var yn=n(692),Cn=n(693);function wn(){var e=Object(m.a)((function(){return{rootCard:{margin:"auto",width:"40%"},rootSkeleton:{margin:"auto"},element:{display:"flex",width:"80%",justifyContent:"space-between",marginTop:"2%"},marginElement:{marginTop:10}}}))(),t=Object(Ne.b)(),n=Object(a.useState)(!1),r=Object(j.a)(n,2),o=r[0],c=r[1],i=Object(Ne.c)(on),s=Object(Ne.c)(bt),u=Object(Ne.c)(ge),l=Object(Ne.c)(Rt),d=Object(Ne.c)(Ht),b=Object(Ne.c)(ve),p=Object(Ne.c)(jt),f=Object(Ne.c)(Mt),x=window,h=x.max_variable,O=x.max_catformule,g=x.max_question;return qe(Object(ee.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(Yt()),d||t(It());case 2:case"end":return e.stop()}}),e)})))),Object(a.useEffect)((function(){i&&(u||t(ae(i.index)),s||t($e(i.index)),l||t(pt(i.index)),c(!0))}),[i,t,u,s,l,d]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(hn,{}),o?Object(q.jsx)(yn.a,{className:e.rootCard,children:Object(q.jsxs)(Cn.a,{children:[Object(q.jsxs)("p",{children:["Mod\xe8le selectionn\xe9 : ",Object(q.jsx)("strong",{children:i?i.nom:""})]}),Object(q.jsxs)("div",{className:e.element,children:[Object(q.jsx)("p",{className:e.marginElement,children:"Nombre de variables cr\xe9\xe9es pour le mod\xe8le actuel"}),Object(q.jsx)(vn,{value:p,valueMax:h})]}),Object(q.jsxs)("div",{className:e.element,children:[Object(q.jsx)("p",{className:e.marginElement,children:"Nombre de cat\xe9gories de formules cr\xe9\xe9es pour le mod\xe8le actuel"}),Object(q.jsx)(vn,{value:b,valueMax:O})]}),Object(q.jsxs)("div",{className:e.element,children:[Object(q.jsx)("p",{className:e.marginElement,children:"Nombre de questions cr\xe9\xe9es pour le mod\xe8le actuel"}),Object(q.jsx)(vn,{value:f,valueMax:g})]})]})}):null]})}var Nn,kn=n(79),Fn=n(260),En=n(233),Pn=n.n(En),Sn=n(232);function Rn(e){var t=Object(m.a)((function(e){return{divDrop:Object(B.a)({"&:hover":{backgroundColor:e.palette.secondary.light},border:"dashed 2px",borderColor:e.palette.primary.main,textAlign:"center",cursor:"pointer",padding:"0 2%",width:"40%",minWidth:"250px",margin:"auto",height:175,position:"relative",zIndex:10},e.breakpoints.down("sm"),{width:"90%",marginBottom:"2%"}),cloudIcon:{fontSize:"400%"}}}))(),n=Object(a.useCallback)((function(t){t.forEach(function(){var t=Object(ee.a)(Z.a.mark((function t(n){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.compressImage){t.next=8;break}return t.next=3,Object(Sn.a)(n,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0});case 3:return a=t.sent,t.next=6,e.changeFile(a);case 6:t.next=9;break;case 8:e.changeFile(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e]),r=Object(Fn.a)({onDrop:n,accept:e.typeFile,maxFiles:1}),o=r.acceptedFiles,c=r.getRootProps,i=r.getInputProps,s=o.map((function(e){return Object(q.jsx)("p",{children:e.path.length>20?e.path.substring(0,20)+"...":e.path},e.path)}));return Object(q.jsxs)("div",Object(kn.a)(Object(kn.a)({},c()),{},{className:t.divDrop,children:[Object(q.jsx)("input",Object(kn.a)({},i())),Object(q.jsx)("p",{children:e.message}),Object(q.jsx)(Pn.a,{className:t.cloudIcon}),s]}))}function Mn(){var e=Object(m.a)((function(e){return{root:{paddingBottom:"2%"},hr:{width:"80%",marginBottom:"2%"},divImportModele:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",width:"80%",margin:"auto",padding:"2%"},divDropModele:Object(B.a)({display:"flex",justifyContent:"space-around"},e.breakpoints.down("sm"),{flexWrap:"wrap"}),divNumSujet:{display:"flex",justifyContent:"center",marginTop:"3%"},saveButton1:{display:"block",margin:"20px auto"},saveButton2:{marginLeft:20},button:{marginLeft:20},buttonVariable:{display:"block",margin:"0 auto 2%"}}}))(),t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(""),i=Object(j.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(""),d=Object(j.a)(l,2),b=d[0],f=d[1],x=Object(a.useState)(""),h=Object(j.a)(x,2),O=h[0],g=h[1],y=Object(a.useState)(!1),C=Object(j.a)(y,2),w=C[0],N=C[1],k=Object(a.useState)(!1),F=Object(j.a)(k,2),E=F[0],P=F[1],S=Object(a.useState)(!1),R=Object(j.a)(S,2),M=R[0],A=R[1],Q=Object(a.useState)(!1),I=Object(j.a)(Q,2),U=I[0],D=I[1];return Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(p.a,{variant:"h1",children:"Architecture"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(v.a,{className:e.buttonVariable,variant:"contained",color:"primary",onClick:function(){Object(ne.D)().then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"R\xe9cupere la liste des variables d'architecture"}),Object(q.jsxs)("div",{children:[Object(q.jsx)(Rn,{typeFile:".xlsx",compressImage:!1,changeFile:function(e){return g(e)},message:"Charger la liste des architectures"}),Object(q.jsx)(v.a,{className:e.saveButton1,disabled:""===O,variant:"contained",color:"primary",onClick:function(){return function(){var e=new FormData;e.append("excel",O),Object(ne.a)(e).then((function(){N(!0)})).catch((function(){P(!0)}))}()},children:"Enregistrer"})]}),Object(q.jsxs)("div",{className:e.divImportModele,children:[Object(q.jsxs)("div",{className:e.divDropModele,children:[Object(q.jsx)(Rn,{typeFile:"image/*",compressImage:!1,changeFile:function(e){return u(e)},message:"Importer la PREMIERE image du mod\xe8le 3D"}),Object(q.jsx)(Rn,{typeFile:"image/*",compressImage:!0,changeFile:function(e){return f(e)},message:"Importer la SECONDE image du mod\xe8le 3D"})]}),Object(q.jsxs)("div",{className:e.divNumSujet,children:[Object(q.jsx)(z.a,{autoFocus:!0,size:"small",label:"Num\xe9ro du sujet",variant:"outlined",required:!0,value:r,onChange:function(e){return function(e){isNaN(e.target.value)||o(e.target.value)}(e)}}),Object(q.jsx)(v.a,{className:e.saveButton2,disabled:""===s||""===b||""===r,variant:"contained",color:"primary",onClick:function(){return function(){var e=new FormData;e.append("image1",s),e.append("image2",b),Object(ne.c)({sujet:r,images:e}).then((function(){A(!0)})).catch((function(e){D(!0)}))}()},children:"Enregistrer"})]})]}),Object(q.jsx)(Qe,{severity:"success",message:"Architecture ajout\xe9e",open:w,handleClose:function(){return N(!1)}}),Object(q.jsx)(Qe,{severity:"error",message:"L'ajout de l'architecture a \xe9chou\xe9",open:E,handleClose:function(){return P(!1)}}),Object(q.jsx)(Qe,{severity:"success",message:"Images ajout\xe9es",open:M,handleClose:function(){return A(!1)}}),Object(q.jsx)(Qe,{severity:"error",message:"L'ajout des images a \xe9chou\xe9",open:U,handleClose:function(){return D(!1)}})]})}var An,Qn=Object(te.b)("promo/getEtudiants",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.w)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),In=Object(te.b)("promo/getAllPromo",Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.r)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),zn=Object(te.b)("promo/addPromo",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.f)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Un=Object(te.b)("promo/remove",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.l)(t.idPromo);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Dn=Object(te.c)({name:"promo",initialState:{tabPromo:[],tabEtudiants:[],idPromo:void 0,enregistre:!1},reducers:{setIdPromo:function(e,t){e.idPromo=t.payload}},extraReducers:(Nn={},Object(B.a)(Nn,Qn.fulfilled,(function(e,t){e.tabEtudiants=[],t.payload.forEach((function(t){e.tabEtudiants.push({id:t.id_auth,prenom:t.prenom,nom:t.nom,sujet:t.id_architecture,image1:t.image1,image2:t.image2})}))})),Object(B.a)(Nn,In.fulfilled,(function(e,t){var n=[];t.payload.forEach((function(e){return n.push({idPromo:e.id_promo,nom:e.nom_promo})})),e.tabPromo=n,e.enregistre=!0})),Nn)}),qn=Dn.actions.setIdPromo,Tn=function(e){return e.promo.tabEtudiants},Ln=function(e){return e.promo.idPromo},Bn=function(e){return e.promo.tabPromo},_n=function(e){return e.promo.enregistre},Wn=Dn.reducer,Vn=n(265),Jn=n(694),Gn=n(695),Hn=n(696),Kn=n(697),Yn=n(698),Xn=n(699),$n=n(713),Zn=Object(te.b)("correction/getReponsesCorDB",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.A)(t.idPromo,t.idEtudiant);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ea=Object(te.b)("correction/getEssaisDB",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.u)(t.idEtudiant);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ta=Object(te.c)({name:"consulter",initialState:{etudiant:{id_promo:void 0,nom:"",prenom:"",id_etudiant:void 0},tabEssais:void 0,tabReponsesJustes:void 0,message:""},reducers:{changeReponseJuste:function(e,t){var n=t.payload,a=n.indexE,r=n.indexQ,o=n.indexR;e.tabEssais[a].tabQuestions[r].tabReponses[o].justeProf=!e.tabEssais[a].tabQuestions[r].tabReponses[o].justeProf},setEssaisForTest:function(e){e.tabEssais=[{dateEssai:"05/01/2020",corrige:!1,tabQuestions:[{num:1,justif:"Scotland Forever\udb40\udc67\udb40\udc62",commentProf:"",note:"",tabReponses:[{justeApp:!0,justeProf:!1,value:12,unite:"N^12",valueCorrection:"0.3"}]}]},{dateEssai:"05/01/2020",corrige:!1,tabQuestions:[{num:1,justif:"",commentProf:"",note:"",tabReponses:[{justeApp:!1,justeProf:!1,value:11,unite:"N^11",valueCorrection:"1.3"}]}]}]},changeMessage:function(e,t){e.message=t.payload},changeCommentaire:function(e,t){var n=t.payload,a=n.indexE,r=n.indexQ,o=n.commentaire;e.tabEssais[a].tabQuestions[r].commentProf=o},changeNote:function(e,t){var n=t.payload,a=n.indexE,r=n.indexQ,o=n.note;(!isNaN(o)&&o<=100&&o>=0||""===o)&&(e.tabEssais[a].tabQuestions[r].note=o)},setCorrigeTrue:function(e,t){var n=t.payload;e.tabEssais[n].corrige=!0},setEtudiantConsulter:function(e,t){var n=t.payload,a=n.id_promo,r=n.id_etudiant,o=n.prenom,c=n.nom;e.etudiant={id_promo:a,id_etudiant:r,prenom:o,nom:c}},setAvisApplication:function(e){console.log(e.tabReponsesJustes),e.tabEssais.forEach((function(t){t.tabQuestions.forEach((function(t){var n=D.a.find(e.tabReponsesJustes,(function(e){return e.num===t.num}));void 0!==n?(n.tabReponses.forEach((function(e){var n=D.a.find(t.tabReponses,(function(t){return!t.justeApp&&t.value>=e.value*(1-e.margeErreur/100)&&t.value<=e.value*(1+e.margeErreur/100)}));void 0!==n&&(n.justeApp=!0,n.valueCorrection=e.value,n.uniteCorrection=e.unite)})),D.a.filter(t.tabReponses,(function(e){return!e.justeApp})).forEach((function(e){var t=void 0;n.tabReponses.forEach((function(n){t=void 0===t?Math.abs(e.value-n.value):Math.min(t,Math.abs(e.value-n.value))})),e.valueCorrection=t}))):console.error("Pobl\xe8me dans le calcul des avis de l'application 'Consulter Slice'")}))}))}},extraReducers:(An={},Object(B.a)(An,Zn.fulfilled,(function(e,t){e.tabReponsesJustes=[],t.payload.forEach((function(t){var n=e.tabReponsesJustes.push({contenu:t.contenu,num:t.id_question,tabReponses:[]})-1;t.reponses.forEach((function(t){e.tabReponsesJustes[n].tabReponses.push({value:t.value,margeErreur:t.margeErreur,tabUnites:t.tabUnites})}))}))})),Object(B.a)(An,Zn.rejected,(function(e,t){e.tabReponsesJustes=void 0})),Object(B.a)(An,ea.fulfilled,(function(e,t){var n=t.payload;e.tabEssais=[],n.forEach((function(t){var n=D.a.find(e.tabEssais,(function(e){return e.dateEssai===t.date}));if(void 0===n){var a=e.tabEssais.push({corrige:!1,dateEssai:t.date,tabQuestions:[]});n=e.tabEssais[a-1]}var r=n.tabQuestions.push({justif:"",commentProf:"",note:"",num:t.id_question,tabReponses:[]})-1,o=n.tabQuestions[r];t.reponses.forEach((function(e){o.tabReponses.push({justeApp:!1,justeProf:!1,valueCorrection:"",value:e.value,unite:e.tabUnite,uniteCorrection:[]})}))}))})),Object(B.a)(An,ea.rejected,(function(e,t){e.tabEssais=void 0})),An)}),na=ta.actions,aa=(na.setEssaisForTest,na.changeReponseJuste),ra=na.changeMessage,oa=na.changeCommentaire,ca=na.changeNote,ia=na.setCorrigeTrue,sa=na.setEtudiantConsulter,ua=na.setAvisApplication,la=function(e){return e.consulter.tabEssais},da=function(e){return e.consulter.message},ba=function(e){return e.consulter.tabReponsesJustes},ja=function(e){return e.consulter.etudiant},ma=ta.reducer;function pa(){var e=Object(m.a)((function(){return{linkConsulter:{textDecoration:"none",color:"white"}}}))(),t=Object(Ne.b)(),n=Object(a.useState)(0),r=Object(j.a)(n,2),o=r[0],c=r[1],s=Object(Ne.c)(Tn),u=Object(Ne.c)(Ln),l=[{id:"nom",label:"Nom",minWidth:170},{id:"prenom",label:"Pr\xe9nom",minWidth:170},{id:"avancement",label:"Avancement",minWidth:170,align:"right"},{id:"note",label:"Note actuelle",minWidth:170,align:"right"},{id:"sujet",label:"Sujet de l'\xe9leve",minWidth:170,align:"right"}],d=l[l.length-1],b=function(e){var t;switch(e){case"note":t="/20";break;case"avancement":t="%";break;default:t=""}return t};return Object(q.jsxs)(Vn.a,{children:[Object(q.jsx)(Jn.a,{children:Object(q.jsxs)(Gn.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(q.jsx)(Hn.a,{children:Object(q.jsx)(Kn.a,{children:l.map((function(e){return Object(q.jsx)(Yn.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(q.jsx)(Xn.a,{children:s.slice(10*o,10*o+10).map((function(n){return Object(q.jsx)(Kn.a,{hover:!0,tabIndex:-1,children:l.map((function(a){return"sujet"!==a.id?Object(q.jsxs)(Yn.a,{align:a.align,children:[n[a.id],b(a.id)]},a.id):Object(q.jsx)(Yn.a,{align:d.align,children:Object(q.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(e){var a;t(sa({id_promo:u,id_etudiant:(a=n).id,prenom:a.prenom,nom:a.nom}))},children:Object(q.jsx)(i.b,{className:e.linkConsulter,to:"/prof/correction/"+n.id,children:"Consulter"})})},"sujet")}))},n.nom)}))})]})}),Object(q.jsx)($n.a,{rowsPerPageOptions:[],component:"div",count:s.length,rowsPerPage:10,page:o,onChangePage:function(e,t){c(t)}})]})}function fa(){var e=Object(m.a)((function(){return{hr:{width:"80%",marginBottom:"2%"},divTable:{width:"90%",margin:"0 auto 2% auto",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},choixPromoDiv:{width:"200px",margin:"auto"},choixPromoField:{width:"100%"}}}))(),t=Object(Ne.c)(Ln),n=Object(Ne.c)(_n),a=Object(Ne.c)(Bn),r=Object(Ne.b)();qe((function(){n||r(In())}));return Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"Correction"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)("div",{className:e.choixPromoDiv,children:Object(q.jsx)(z.a,{select:!0,value:t,onChange:function(e){return function(e){r(qn(e.target.value)),r(Qn(e.target.value))}(e)},className:e.choixPromoField,helperText:"Choisissez la promotion",children:a.map((function(e){return Object(q.jsx)(Ke.a,{value:e.idPromo,children:e.nom},e.idPromo)}))})}),void 0!==t?Object(q.jsx)("div",{className:e.divTable,children:Object(q.jsx)(pa,{})}):null]})}var xa=n(140),ha=n.n(xa);n(211);function Oa(e){var t=e.index,n=e.handleChange,a=Object(m.a)((function(){return{divQuestion:{display:"block",margin:"auto",width:"100%",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.3)"}}}))(),r=Object(Ne.c)(function(e){return function(t){return t.enonce.question[e].contenu}}(t));return Object(q.jsx)("div",{className:a.divQuestion,children:Object(q.jsx)(ha.a,{defaultValue:r,onChange:n,setOptions:{buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["table","list"],["removeFormat"]]},lang:"fr",placeholder:"Tapez votre question ici...",height:"200",setDefaultStyle:"background-color: lightgrey"})})}function ga(e){return Object(q.jsx)("div",{children:e.map((function(e,t){return Object(q.jsxs)("var",{children:[e.abr,Object(q.jsxs)("sup",{children:[" ",1!==e.puissance&&" "!==e.abr?e.puissance:null," "]})]},t)}))})}var va=n(701),ya=n(235),Ca=n.n(ya);function wa(e){var t=Object(m.a)((function(e){return{alignementHorizontal:{display:"flex",flexDirection:"row",justifyContent:"center",columnGap:"20px",alignItems:"center",flexWrap:"wrap"},buttonDelete:{color:e.palette.error.main,"&:hover":{color:e.palette.error.dark}},buttonGap:{display:"flex",justifyContent:"center",columnGap:"10px"},choixInput:{marginBottom:"10px"},puissance:{width:"40px"}}}))(),n=Object(a.useState)(!1),r=Object(j.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)([{index:0,puissance:1}]),s=Object(j.a)(i,2),u=s[0],l=s[1],d=Object(Ne.b)(),b=Object(Ne.c)(Vt);qe((function(){0===b.length&&d(It())}));var p=function(e,t){var n=Object(ln.a)(u);n[e].puissance=t,l(n)},f=function(){D.a.remove(u,(function(e){return 0===e.index})),0===u.length&&u.push({index:0,puissance:1})},x=function(e,n){return Object(q.jsxs)("div",{className:t.choixInput,children:[Object(q.jsx)("div",{className:t.buttonGap,children:u.length>1?Object(q.jsx)(Se.a,{className:t.buttonDelete,size:"small",onClick:function(e){return function(e){var t=Object(ln.a)(u);t.splice(e,1),l(t)}(n)},children:Object(q.jsx)(J.a,{})}):null}),Object(q.jsx)(z.a,{select:!0,value:e.index,onChange:function(e){return function(e,t){var n=Object(ln.a)(u);n[e].index=t.target.value,l(n)}(n,e)},children:b.map((function(e,t){return Object(q.jsx)(Ke.a,{value:t,children:e.nom},t)}))}),0!==e.index?Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(z.a,{value:e.puissance,className:t.puissance,onChange:function(e){return function(e,t){var n=t.target.value;(!isNaN(n)&&Math.abs(n)<100||"-"===n)&&p(e,n)}(n,e)},onBlur:function(e){return function(e){var t=u[e].puissance;0!==parseInt(t)&&"-"!==t&&""!==t||p(e,1)}(n)},InputProps:{startAdornment:Object(q.jsx)(va.a,{position:"start",children:"^"})}})}):null]})};return Object(q.jsxs)(y.a,{open:e.open,maxWidth:"lg",fullWidth:!1,children:[function(){if(e.open&&!o&&0!==e.unite.length){var t=[];e.unite.forEach((function(e){t.push({index:D.a.findIndex(b,(function(t){return t.abrev===e.abr})),puissance:e.puissance})})),l(t),c(!0)}else!e.open&&o&&c(!1)}(),Object(q.jsx)(C.a,{className:t.alignementHorizontal,children:"Choix de l'unit\xe9"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)("div",{className:t.alignementHorizontal,children:u.map((function(e,t){return Object(q.jsx)("div",{children:x(e,t)},t)}))}),Object(q.jsxs)("div",{className:t.alignementHorizontal,children:[Object(q.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){var e=[].concat(Object(ln.a)(u),[{index:0,puissance:1}]);l(e)},disabled:u.length>=6,children:"Ajouter Unite"}),Object(q.jsx)(Se.a,{size:"small",color:"primary",onClick:function(){l([{index:0,puissance:1}])},title:"remettre \xe0 0",children:Object(q.jsx)(Ca.a,{})})]})]}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){e.handleClose()},children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){f();var t=[];u.forEach((function(e){t.push({abr:b[e.index].abrev,puissance:e.puissance})})),e.setTabUnite(t),e.handleClose()},children:"Appliquer"})]})]})}var Na=n(719),ka=function(e){var t=e.indexQuestion,n=e.indexReponse,r=Object(m.a)((function(){return{divSlideBar:{width:"70%",margin:"5% auto 0 auto"}}}))(),o=Object(Ne.b)(),c=Object(Ne.c)(function(e,t){return function(n){return n.enonce.question[e].reponse[t].margeErreur}}(t,n)),i=Object(a.useCallback)((function(e){o(vt({indexQuestion:t,indexReponse:n,marge:e}))}),[o,t,n]);return Object(q.jsxs)("div",{className:r.divSlideBar,children:[Object(q.jsx)(p.a,{variant:"caption",gutterBottom:!0,children:"Marge d'erreur autoris\xe9e"}),Object(q.jsx)(Na.a,{defaultValue:c,marks:[{value:0,label:"0%"},{value:100,label:"100%"}],step:5,min:0,max:100,onChangeCommitted:function(e,t){return i(t)},valueLabelDisplay:"auto","aria-labelledby":"discrete-slider-always"})]})},Fa=r.a.memo(ka),Ea=function(e){var t=e.indexReponse,n=e.indexQuestion,r=Object(m.a)((function(e){return{divReponse:{marginTop:20,display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"0 1%",border:"solid 1px",borderColor:e.palette.primary.light,borderRadius:3,padding:"2% 1% 2% 2%"},select:{width:200,maxHeight:"38px !important",top:26},divUniteMarge:{height:40,position:"relative",margin:"auto",gridColumn:3,marginLeft:"15%"},affichageUnite:{textAlign:"center",position:"relative",bottom:10},divMarge:{gridColumn:4},buttonAjouterUnite:{display:"block",backgroundColor:e.palette.primary.light},center:{textAlign:"center"}}}))(),o=Object(Ne.c)(Oe),c=Object(Ne.b)(),i=Object(a.useState)(!1),s=Object(j.a)(i,2),u=s[0],l=s[1],d=Object(Ne.c)(function(e,t){return function(n){return n.enonce.question[e].reponse[t]}}(n,t)),b=Object(Ne.c)(he),p=Object(a.useCallback)((function(e){c(Ft({idQuestion:n,idReponse:t,value:e.target.value,formule1:b[e.target.value].tabFormule[0].nomFormule}))}),[c,n,t,b]),f=Object(a.useCallback)((function(e){c(Et({idQuestion:n,idReponse:t,value:e.target.value}))}),[c,n,t]);return Object(q.jsxs)("div",{className:r.divReponse,children:[Object(q.jsx)(Ge.a,{className:r.select,value:d.selectCat,onChange:function(e){return p(e)},input:Object(q.jsx)(He.a,{}),children:o?b.map((function(e,t){return Object(q.jsx)(Ke.a,{value:t,children:e.nom},t)})):Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}})}),Object(q.jsx)(Ge.a,{className:r.select,value:d.selectForm,onChange:function(e){return f(e)},input:Object(q.jsx)(He.a,{}),children:void 0===b[d.selectCat]?null:b[d.selectCat].tabFormule.map((function(e,t){return Object(q.jsx)(Ke.a,{value:e.nomFormule,children:e.nomFormule},t)}))}),Object(q.jsxs)("div",{className:r.divUniteMarge,children:[Object(q.jsx)(v.a,{variant:"contained",className:r.buttonAjouterUnite,onClick:function(){return l(!0)},children:"Choisir les unit\xe9s"}),Object(q.jsx)("div",{className:r.center,children:ga(d.unite)})]}),Object(q.jsx)(wa,{open:u,handleClose:function(){return l(!1)},unite:d.unite,setTabUnite:function(e){return c(kt({idQuestion:n,idReponse:t,tabUnite:e}))}}),Object(q.jsx)("div",{className:r.divMarge,children:Object(q.jsx)(Fa,{indexQuestion:n,indexReponse:t},t)})]},t)},Pa=r.a.memo(Ea),Sa=function(e){var t=e.index,n=Object(m.a)((function(e){return{divListeReponses:{width:"100%",marginTop:"1%"},buttonSupprimerReponse:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},"&:disabled":{backgroundColor:e.palette.secondary.main},position:"absolute",right:"2.5%"},accordionDetails:{display:"flex",flexDirection:"column",justifyContent:"space-around"},divReponse:{marginTop:20}}}))(),r=Object(Ne.b)(),o=Object(Ne.c)(ge),c=Object(Ne.c)(function(e){return function(t){return t.enonce.question[e].reponse}}(t)),i=Object(a.useState)(!0),s=Object(j.a)(i,2),u=s[0],l=s[1],d=Object(Ne.c)(function(e){return function(t){return t.enonce.question[e].reponse.length}}(t)),b=Object(Ne.c)(ye),p=window.max_reponse,x=Object(a.useCallback)((function(){r(Nt({id:t,formule1:b}))}),[r,t,b]),h=Object(a.useCallback)((function(e){r(gt({indexQuestion:t,indexReponse:e}))}),[r,t]);return Object(q.jsx)("div",{className:n.divListeReponses,children:Object(q.jsxs)(F.a,{square:!0,expanded:u,onChange:function(){return l(!u)},children:[Object(q.jsxs)(E.a,{expandIcon:Object(q.jsx)(I.a,{}),children:["R\xe9ponses \xe0 la question ",t+1]}),Object(q.jsxs)(P.a,{className:n.accordionDetails,children:[Object(q.jsx)(v.a,{disabled:c.length>=p,variant:"contained",color:"primary",onClick:function(){return x()},children:"Ajouter une r\xe9ponse"}),o?Array(d).fill(0).map((function(e,a){return Object(q.jsxs)("div",{className:n.divReponse,children:[Object(q.jsx)(f.a,{className:n.buttonSupprimerReponse,size:"small","aria-label":"delete",disabled:1===c.length,onClick:function(){return h(a)},children:Object(q.jsx)(J.a,{})}),Object(q.jsx)(Pa,{indexReponse:a,indexQuestion:t},a)]},a)})):Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}})]})]})})},Ra=r.a.memo(Sa),Ma=function(e){var t=e.handleChange,n=e.value;return Object(q.jsx)("div",{children:Object(q.jsx)(ha.a,{onChange:t,defaultValue:n,setOptions:{buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["table","list"],["removeFormat"],["outdent","indent"],["fullScreen"]]},lang:"fr",placeholder:""===n?null:"Tapez votre \xe9nonc\xe9 ici...",height:"300",setDefaultStyle:"background-color: lightgrey"})})},Aa=function(){var e=Object(Ne.c)(Rt),t=Object(Ne.c)(rn),n=Object(Ne.c)(Pt);return Object(q.jsx)(bn,{isEnregistre:e,action:ft({idModele:t,enonce:n.enonceContenu,tabQuestions:n.question})})},Qa=r.a.memo(Aa);function Ia(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(m.a)((function(e){return{hr:{width:"80%",marginBottom:"2%"},enonceSujet:{width:"70%",margin:"auto"},divQuestion:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",width:"80%",margin:"40px auto",padding:"1% 2% 2%"},divQuestionReponse:{marginTop:40,display:"flex",justifyContent:"space-around",flexWrap:"wrap"},buttonAddQuestion:{display:"block",margin:"50px auto"},fabDelete:{float:"right",marginLeft:20,color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}}}}))(),c=Object(Ne.b)(),i=Object(Ne.c)(rn),s=Object(Ne.c)(St),u=Object(Ne.c)(Rt),l=Object(Ne.c)(ge),d=Object(Ne.c)(ye),b=Object(Ne.c)(Mt),x=Object(Ne.c)(At),O=Object(Ne.c)(Ce),g=window.max_question;qe((function(){u||(null===i&&r(!0),l||c(ae(i)),u||c(pt(i)))})),Object(a.useEffect)((function(){O&&c(ae(i))}),[O,c,i]),Te(!u);var y=Object(a.useCallback)((function(e){c(Ct(e))}),[c]);return null===i?Object(q.jsx)(un,{tard:!1,setClose:function(){return r(!1)},open:n}):s?Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"\xe9nonc\xe9"}),Object(q.jsx)("hr",{className:o.hr}),Object(q.jsx)("div",{className:o.enonceSujet,children:Object(q.jsx)(Ma,{value:x,handleChange:function(e){return c(Ot(e))}})}),Array(b).fill(0).map((function(e,t){return Object(q.jsxs)("div",{className:o.divQuestion,children:[Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(q.jsxs)("p",{style:{fontSize:"200%",margin:"auto 0"},children:["Question ",t+1]}),Object(q.jsx)(f.a,{className:o.fabDelete,size:"small","aria-label":"delete",disabled:1===b,onClick:function(){return y()},children:Object(q.jsx)(J.a,{})})]}),Object(q.jsxs)("div",{className:o.divQuestionReponse,children:[Object(q.jsx)(Oa,{index:t,handleChange:function(e){return c(wt({contenu:e,index:t}))}}),Object(q.jsx)(Ra,{index:t,idModele:i})]})]},t)})),Object(q.jsx)(v.a,{disabled:b>=g,className:o.buttonAddQuestion,variant:"contained",color:"primary",onClick:function(){return c(yt(d))},children:"Ajouter une question"}),Object(q.jsx)(Qa,{})]}):Object(q.jsx)(h.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var za=n(160),Ua=n.n(za),Da=function(e){var t=e.index,n=Object(m.a)((function(){return{root:{width:120}}}))(),r=Object(Ne.b)(),o=Object(Ne.c)(function(e){return function(t){return t.variableAleatoire.tab[e].precision}}(t)),c=function(e){return 0!==e?"10^".concat(e):0},i=Object(a.useCallback)((function(e){r(ct({index:t,precision:e}))}),[r,t]);return Object(q.jsxs)("div",{className:n.root,children:[Object(q.jsx)(Na.a,{defaultValue:o,min:-6,step:1,max:6,getAriaValueText:c,valueLabelFormat:c,onChangeCommitted:function(e,t){return i(t)},valueLabelDisplay:"auto","aria-labelledby":"non-linear-slider"}),Object(q.jsx)(p.a,{gutterBottom:!0,children:"Pr\xe9cision"})]})},qa=r.a.memo(Da),Ta=function(e){var t=e.index,n=e.length,r=e.onRemove,o=Object(m.a)((function(e){return{typo:{marginTop:8},containerVariables:Object(B.a)({display:"grid",gridTemplateColumns:"0.25fr 1fr 0.10fr 0.5fr 0.5fr 0.5fr 0.25fr",gridTemplateRows:"1fr",gap:"0px 30px",margin:"auto",width:"90%",marginTop:"3%"},e.breakpoints.down("sm"),{gap:"0px 12px",width:"95%",marginTop:"5%"}),center:{margin:"auto",display:"block"},fabDelete:{backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},color:"white"},fabSave:{backgroundColor:e.palette.primary.light},fabModif:{backgroundColor:e.palette.primary.light}}}))(),c=Object(Ne.b)(),i=Object(Ne.c)(function(e){return function(t){return t.variableAleatoire.tab[e]}}(t)),s=Object(a.useCallback)((function(){c(rt(t)),r()}),[c,t,r]),u=Object(a.useCallback)((function(){return c(ot(t))}),[c,t]);return Object(q.jsxs)("div",{className:o.containerVariables,children:[i.modif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{className:o.fabSave,size:"small","aria-label":"add",disabled:""===i.nom||parseFloat(i.min)>parseFloat(i.max),onClick:function(){return u()},children:Object(q.jsx)(R.a,{})}),Object(q.jsx)(T,{label:"Nom formule",delay:300,value:i.nom,onChange:function(e){return c(at({index:t,event:e}))}}),Object(q.jsx)(Ua.a,{fontSize:"large"}),Object(q.jsx)(T,{typeNumber:!0,label:"Min",delayTimeout:300,value:i.min,onChange:function(e){return c(it({index:t,event:e}))}}),Object(q.jsx)(T,{typeNumber:!0,label:"Max",delayTimeout:300,value:i.max,onChange:function(e){return c(st({index:t,event:e}))}}),Object(q.jsx)(qa,{index:t})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{className:o.fabModif,size:"small","aria-label":"add",onClick:function(){return u()},children:Object(q.jsx)(A.a,{})}),Object(q.jsx)(p.a,{className:o.typo,children:i.nom}),Object(q.jsx)(Ua.a,{fontSize:"large"}),Object(q.jsxs)(p.a,{align:"center",children:["Min ",Object(q.jsx)("br",{}),i.min]}),Object(q.jsxs)(p.a,{align:"center",children:["Max ",Object(q.jsx)("br",{}),i.max," "]}),Object(q.jsxs)(p.a,{align:"center",children:["Pr\xe9cision ",Object(q.jsx)("br",{}),"10^",i.precision]})]}),Object(q.jsx)(f.a,{className:o.fabDelete,disabled:n<=1,size:"small","aria-label":"add",onClick:function(){return s()},children:Object(q.jsx)(J.a,{className:o.center})})]})},La=r.a.memo(Ta),Ba=function(){var e=Object(Ne.c)(lt),t=Object(Ne.c)(rn),n=Object(Ne.c)(bt);return Object(q.jsx)(bn,{isEnregistre:n,action:Ze({tab:e,idModele:t}),disabled:e.some((function(e){return e.modif}))})},_a=r.a.memo(Ba);function Wa(){var e=Object(m.a)((function(e){return{root:{paddingBottom:"2%"},hr:{width:"80%",marginBottom:"2%"},fab:{marginLeft:"3%",marginBottom:"2%"},divItemvariable:Object(B.a)({boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"2% 3% 4% 3%",width:"80%",margin:"auto"},e.breakpoints.down("sm"),{width:"90%"})}}))(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),i=Object(j.a)(c,2),s=i[0],u=i[1],l=Object(Ne.b)(),d=Object(Ne.c)(jt),b=Object(Ne.c)(bt),x=Object(Ne.c)(dt),O=Object(Ne.c)(rn),v=window.max_variable;qe((function(){b||(null===O?u(!0):l($e(O)))}));return null===O?Object(q.jsx)(un,{tard:!1,setClose:function(){return u(!1)},open:s}):x?Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(p.a,{variant:"h1",children:"Variables al\xe9atoires"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(f.a,{className:e.fab,disabled:d>=v,size:"small",color:"primary","aria-label":"add",onClick:function(){return l(nt())},children:Object(q.jsx)(g.a,{})}),Object(q.jsxs)("div",{className:e.divItemvariable,children:[Array(d).fill(0).map((function(e,t){return Object(q.jsx)(La,{onRemove:function(){return o(!0)},length:d,index:t},t)})),Object(q.jsx)(Qe,{message:"Variable supprim\xe9e",actionName:"RETOUR",action:function(){return l(ut()),void o(!1)},open:r,handleClose:function(){return o(!1)},pos:"right"})]}),Object(q.jsx)(_a,{})]}):Object(q.jsx)(h.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var Va=n(143),Ja=n.n(Va),Ga=n(720),Ha=n(677),Ka=n(702),Ya=n(633),Xa=n(703),$a=n(704),Za=n(239),er=n.n(Za),tr=n(100),nr=n.n(tr),ar=n(99),rr=n.n(ar),or=n(687),cr=n(236),ir=n.n(cr),sr=n(238),ur=n.n(sr),lr=n(237),dr=n.n(lr),br=Object(m.a)((function(){return{boxReponses:{paddingBottom:0,paddingTop:0,backgroundColor:"#f2f2f2"},commentaire:{width:"100%"},noteTextField:{width:"30px"},noteInput:{textAlign:"center",fontWeight:"bold"}}}));function jr(e){var t,n=Object(Ne.c)((t=e.indexEssai,function(e){return e.consulter.tabEssais[t]})),r=Object(Ne.b)(),o=Object(a.useState)(!1),c=Object(j.a)(o,2),i=c[0],s=c[1];Object(a.useEffect)((function(){e.open&&(i||(r(ua()),s(!0)))}),[i,r,e.open]);var u=function(){s(!1),e.setOpen(!1)};return void 0===n?null:Object(q.jsxs)(y.a,{open:e.open,maxWidth:"md",fullWidth:!0,onClose:u,children:[Object(q.jsxs)(C.a,{children:["Essai du ",Ja()(n.dateEssai).format("DD/MM/YYYY")]}),Object(q.jsx)(w.a,{children:Object(q.jsx)(Jn.a,{component:Vn.a,children:Object(q.jsxs)(Gn.a,{children:[Object(q.jsx)(Hn.a,{children:Object(q.jsxs)(Kn.a,{children:[Object(q.jsx)(Yn.a,{align:"center"}),Object(q.jsx)(Yn.a,{align:"center",children:"Num\xe9ro Question"}),Object(q.jsx)(Yn.a,{align:"center",children:"R\xe9ponses Justes"}),Object(q.jsx)(Yn.a,{align:"center",children:"R\xe9ponses Attendues"}),Object(q.jsx)(Yn.a,{align:"center",children:"Question Juste?"}),Object(q.jsx)(Yn.a,{align:"center",title:"Attention, cette note est \xe0 titre indicatif et ne concerne que cet essai",children:"Votre Note"})]})}),Object(q.jsx)(Xn.a,{children:n.tabQuestions.map((function(t,n){return Object(q.jsx)(pr,{question:t,indexQuestion:n,indexEssai:e.indexEssai})}))})]})})}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){r(ia(e.indexEssai)),u()},children:"Appliquer la correction"}),Object(q.jsx)(v.a,{onClick:u,children:"Fermer"})]})]})}var mr=function(e){return e.juste?Object(q.jsx)(nr.a,{}):Object(q.jsx)(ir.a,{})},pr=function(e){var t,n=br(),r=Object(a.useState)(!1),o=Object(j.a)(r,2),c=o[0],i=o[1],s=Object(Ne.b)(),u=Object(Ne.c)((t=e.question.num,function(e){return D.a.find(e.consulter.tabReponsesJustes,(function(e){return e.num===t}))})),l=function(t){s(oa({indexE:e.indexEssai,indexQ:e.indexQuestion,commentaire:t.target.value}))},d=function(){var t=0;return e.question.tabReponses.forEach((function(e){e.justeProf&&t++})),t},b=function(t,n,a){return Object(q.jsx)(Se.a,{onClick:function(a){return function(t,n){s(aa({indexE:e.indexEssai,indexQ:t,indexR:n}))}(t,n)},children:Object(q.jsx)(mr,{juste:a})})};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Kn.a,{children:[Object(q.jsx)(Yn.a,{align:"center",children:Object(q.jsx)(Se.a,{onClick:function(){return i(!c)},children:c?Object(q.jsx)(dr.a,{}):Object(q.jsx)(ur.a,{})})}),Object(q.jsx)(Yn.a,{align:"center",children:e.indexQuestion+1}),Object(q.jsx)(Yn.a,{align:"center",children:d()}),Object(q.jsx)(Yn.a,{align:"center",children:u.tabReponses.length}),Object(q.jsx)(Yn.a,{align:"center",children:Object(q.jsx)(mr,{juste:e.question.tabReponses.length===u.tabReponses.length&&d()===u.tabReponses.length})}),Object(q.jsx)(Yn.a,{align:"center",children:Object(q.jsx)(z.a,{className:n.noteTextField,align:"center",onChange:function(t){return n=t,void s(ca({indexE:e.indexEssai,indexQ:e.indexQuestion,note:n.target.value}));var n},value:e.question.note,InputProps:{className:n.noteInput}})})]}),Object(q.jsx)(Kn.a,{children:Object(q.jsx)(Yn.a,{className:n.boxReponses,colSpan:6,children:Object(q.jsx)(or.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(q.jsxs)(gn.a,{margin:1,children:[Object(q.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"Contenu de la question"}),rr()(u.contenu),Object(q.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"Reponses"}),Object(q.jsxs)(Gn.a,{size:"small",children:[Object(q.jsx)(Hn.a,{children:Object(q.jsxs)(Kn.a,{children:[Object(q.jsx)(Yn.a,{align:"center",children:"Valeur donn\xe9e"}),Object(q.jsx)(Yn.a,{align:"center",children:"Unit\xe9"}),Object(q.jsx)(Yn.a,{align:"center",children:"Valeur juste la plus proche"}),Object(q.jsx)(Yn.a,{align:"center",children:"Unit\xe9 juste"}),Object(q.jsx)(Yn.a,{align:"center",children:"Conseil de l'application"}),Object(q.jsx)(Yn.a,{align:"center",children:"Votre avis"})]})}),Object(q.jsx)(Xn.a,{children:e.question.tabReponses.map((function(t,n){return Object(q.jsxs)(Kn.a,{children:[Object(q.jsx)(Yn.a,{align:"center",padding:"none",children:t.value}),Object(q.jsx)(Yn.a,{align:"center",padding:"none",children:ga(t.unite)}),Object(q.jsx)(Yn.a,{align:"center",padding:"none",children:t.valueCorrection}),Object(q.jsx)(Yn.a,{align:"center",padding:"none",children:t.uniteCorrection}),Object(q.jsx)(Yn.a,{align:"center",padding:"none",children:Object(q.jsx)(mr,{juste:t.justeApp})}),Object(q.jsx)(Yn.a,{align:"center",padding:"none",children:b(e.indexQuestion,n,t.justeProf)})]})}))})]}),""!==e.question.justif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{variant:"h6",padding:5,children:"Justification de l'\xe9tudiant :"}),Object(q.jsx)("p",{children:e.question.justif})]}):Object(q.jsx)(p.a,{variant:"h6",children:"Pas de justification de l'\xe9tudiant"}),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{variant:"h6",padding:5,children:"Vos commentaires sur ce travail :"}),Object(q.jsx)(z.a,{value:e.question.commentProf,onChange:l,multiline:!0,rows:4,variant:"outlined",placeholder:"\xc9crivez vos commentaires",className:n.commentaire})]})]})})})})]})};function fr(e){var t=Object(m.a)((function(){return{messageField:{width:"100%"}}}))(),n=function(){e.setOpen(!1)};return Object(q.jsxs)(y.a,{open:e.open,maxWidth:"md",fullWidth:!0,onClose:n,rows:4,children:[Object(q.jsx)(C.a,{children:Object(q.jsxs)(p.a,{variant:"h6",children:["Message adress\xe9 \xe0 ",e.destinataire]})}),Object(q.jsx)(w.a,{children:Object(q.jsx)(z.a,{className:t.messageField,autoFocus:!0,multiline:!0,rows:4,variant:"outlined",placeholder:"Saisissez votre message",onChange:function(t){return n=t,void e.handleChangeMessage(n.target.value);var n},value:e.message})}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:n,children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){e.handleSend(),n()},children:"Envoyer"})]})]})}function xr(){var e=Object(m.a)((function(){return{messageBouton:{float:"right"}}}))(),t=Object(Ne.b)(),n=Object(Ne.c)(la),r=Object(Ne.c)(ba),o=Object(Ne.c)(da),c=Object(a.useState)(0),i=Object(j.a)(c,2),u=i[0],l=i[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),p=b[0],f=b[1],x=Object(a.useState)(!1),h=Object(j.a)(x,2),O=h[0],g=h[1],y=Object(Ne.c)(ja);qe((function(){t(Zn({idPromo:y.id_promo,idEtudiant:y.id_etudiant})),t(ea({idEtudiant:y.id_etudiant}))}));var C=function(e){var t=0;return n[e].tabQuestions.forEach((function(e){var n=D.a.findIndex(r,(function(t){return t.num===e.num}));if(-1!==n){for(var a=e.tabReponses.length===r[n].tabReponses.length,o=0;a&&o<e.tabReponses.length;)a=e.tabReponses[o].justeProf,o++;a&&t++}else console.error("Probl\xe8me pour le calcul du nombre de r\xe9ponses justes 'Consulter Etudiant'")})),t};return void 0===y.id_etudiant?Object(q.jsx)(s.a,{to:"/prof/gestion-correction"}):Object(q.jsxs)("div",{children:[Object(q.jsxs)(v.a,{className:e.messageBouton,variant:"contained",color:"primary",onClick:function(){g(!0)},children:[Object(q.jsx)(er.a,{}),"Envoyer un message \xe0 l'\xe9tudiant"]}),Object(q.jsxs)("h1",{children:["Etudiant : ",y.prenom+" "+y.nom]}),void 0===n||void 0===r?null:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Ha.a,{children:[Object(q.jsx)(Ka.a,{}),n.map((function(e,t){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Ya.a,{button:!0,onClick:function(e){return function(e){l(e),f(!0)}(t)},children:[Object(q.jsx)(Xa.a,{primary:"Essai du "+Ja()(e.dateEssai).format("DD/MM/YYYY"),secondary:"Questions justes : "+C(t)+"/"+r.length}),Object(q.jsx)($a.a,{children:(n=e.corrige,n?Object(q.jsx)(Ga.a,{color:"primary",children:Object(q.jsx)(nr.a,{})}):Object(q.jsx)(Ga.a,{color:"error",children:Object(q.jsx)(Ae.a,{})}))})]}),Object(q.jsx)(Ka.a,{})]});var n}))]}),Object(q.jsx)(jr,{indexEssai:u,open:p,setOpen:f})]}),Object(q.jsx)(fr,{open:O,destinataire:y.prenom+" "+y.nom,setOpen:g,message:o,handleChangeMessage:function(e){t(ra(e))},handleSend:function(){}})]})}function hr(e){var t=e.open,n=e.setClose,r=e.selectPromo,o=Object(Ne.c)(nn),c=Object(a.useState)(!1),i=Object(j.a)(c,2),s=i[0],u=i[1],l=Object(a.useState)(!1),d=Object(j.a)(l,2),b=d[0],m=d[1],p=Object(a.useState)(""),f=Object(j.a)(p,2),x=f[0],h=f[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(y.a,{open:t,onClose:function(){return n()},children:[Object(q.jsx)(C.a,{children:"Association \xe0 un mod\xe8le"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)(N.a,{children:"Associer une promotion \xe0 un mod\xe9le (empechera par la suite de modifier le mod\xe8le) ?"}),Object(q.jsxs)(Ve.a,{style:{width:200},children:[Object(q.jsx)(Je.a,{children:"Mod\xe8le selectionn\xe9"}),Object(q.jsx)(Ge.a,{value:x,onChange:function(e){return h(e.target.value)},input:Object(q.jsx)(He.a,{}),children:o.tabName.map((function(e,t){return Object(q.jsx)(Ke.a,{value:e.index,children:e.nom},t)}))})]})]}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return n()},color:"primary",children:"Abandonner"}),Object(q.jsx)(v.a,{disabled:""===x,onClick:function(){Object(ne.i)(r,x).then((function(){u(!0)})).catch((function(){m(!0)})),h(""),n()},color:"primary",autoFocus:!0,children:"Ok"})]})]}),Object(q.jsx)(Qe,{severity:"success",message:"Association r\xe9ussie",open:s,handleClose:function(){return u(!1)}}),Object(q.jsx)(Qe,{severity:"error",message:"Association \xe9chou\xe9e",open:b,handleClose:function(){return m(!1)}})]})}var Or=n(240);function gr(e){var t=e.open,n=e.setClose,r=e.selectPromo,o=Object(a.useState)(""),c=Object(j.a)(o,2),i=c[0],s=c[1],u=Object(a.useState)([]),l=Object(j.a)(u,2),d=l[0],b=l[1],m=Object(a.useState)(!1),p=Object(j.a)(m,2),f=p[0],x=p[1],h=Object(a.useState)(!1),O=Object(j.a)(h,2),g=O[0],F=O[1];return Object(q.jsxs)(q.Fragment,{children:[d.length>0?Object(q.jsx)(Or.CSVDownload,{data:d,separator:";"}):null,Object(q.jsxs)(y.a,{open:t,onClose:function(){return n()},children:[Object(q.jsx)(C.a,{children:"Charger une promotion"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)(N.a,{children:"Charger la liste excel de vos \xe9tudiants "}),Object(q.jsx)(Rn,{typeFile:".xlsx",compressImage:!1,changeFile:function(e){return s(e)},message:"Charger la liste des \xe9tudiants de la promotion"}),Object(q.jsx)(Qe,{severity:"success",message:"Etudiants ajout\xe9s \xe0 la promotion",open:f,handleClose:function(){return x(!1)}}),Object(q.jsx)(Qe,{severity:"error",message:"L'ajout de la promotion a \xe9chou\xe9",open:g,handleClose:function(){return F(!1)}})]}),Object(q.jsxs)(k.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return n()},color:"primary",children:"Abandonner"}),Object(q.jsx)(v.a,{disabled:""===i,onClick:function(){return function(){var e=new FormData;e.append("fileUploaded",i),Object(ne.n)(r,e).then((function(e){var t=[];e.data.forEach((function(e){t.push({Nom:e.nom,Prenom:e.prenom,Pseudo:e.username,"Mot de passe":e.pwd})})),b(t),n(),x(!0)})).catch((function(e){F(!0)}))}()},color:"primary",autoFocus:!0,children:"Charger"})]})]})]})}var vr=n(700),yr=n(721),Cr=n(242),wr=n.n(Cr);function Nr(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),c=Object(j.a)(o,2),i=c[0],s=c[1],u=Object(Ne.c)(Tn),l=[{id:"nom",label:"Nom",minWidth:170},{id:"prenom",label:"Pr\xe9nom",minWidth:170},{id:"mdp",label:"Mot de passe",minWidth:170,align:"right"},{id:"sujet",label:"Sujet n\xb0",minWidth:170,align:"right"},{id:"modele",label:"Mod\xe8le 3D",minWidth:170,align:"right"}],d=function(e,t){if("mdp"===e.id)return Object(q.jsx)(v.a,{variant:"outlined",color:"primary",children:"R\xe9initialiser mot de passe"});if("modele"!==e.id)return t[e.id];if(null!==t.id){var n=D.a.findIndex(u,(function(e){return e.id===t.id}));return-1===n?null:u[n].image1&&u[n].image2?Object(q.jsx)(v.a,{startIcon:Object(q.jsx)(nr.a,{}),variant:"outlined",color:"primary",children:"Ajouter les mod\xe8les 3D pour ce sujet"}):Object(q.jsx)(v.a,{startIcon:Object(q.jsx)(Ae.a,{}),variant:"outlined",color:"default",children:"Ajouter les mod\xe8les 3D pour ce sujet"})}},b=function(){return Object(q.jsxs)(vr.a,{children:[Object(q.jsx)(p.a,{style:{width:"98%"},variant:"h6",id:"tableTitle",component:"div",children:"Promotion"}),Object(q.jsx)(yr.a,{title:"filtrer les mod\xe8les d\xe9ja ajout\xe9s",children:Object(q.jsx)(Se.a,{onClick:function(){return s(!i)},"aria-label":"filter list",children:Object(q.jsx)(wr.a,{})})})]})};return Object(q.jsxs)(Vn.a,{children:[Object(q.jsx)(b,{}),Object(q.jsx)(Jn.a,{children:Object(q.jsxs)(Gn.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(q.jsx)(Hn.a,{children:Object(q.jsx)(Kn.a,{children:l.map((function(e){return Object(q.jsx)(Yn.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(q.jsx)(Xn.a,{children:u.filter((function(e){return!i||87===e.id})).slice(10*n,10*n+10).map((function(e){return Object(q.jsx)(Kn.a,{hover:!0,tabIndex:-1,children:l.map((function(t){return Object(q.jsx)(Yn.a,{align:t.align,children:d(t,e)},t.id)}))},e.nom)}))})]})}),Object(q.jsx)($n.a,{rowsPerPageOptions:[],component:"div",count:u.length,rowsPerPage:10,page:n,onChangePage:function(e,t){r(t)}})]})}function kr(){var e=Object(m.a)((function(e){return{mapDisplayEtu:{display:"flex",justifyContent:"space-around"},hr:{width:"80%",marginBottom:"2%"},divNomPromo:{display:"flex",flexDirection:"column",width:"20%",margin:"3% auto 0 auto"},button:{display:"block",margin:"20px auto"},divPromo:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"1% 0.5%",width:"80%",margin:"auto"},typo:{textAlign:"center"},form:{display:"flex",justifyContent:"center",marginBottom:20},formControl:{display:"block",margin:"30px auto",width:"100%"},divSelectPromo:{display:"grid",gridTemplateColumns:"1fr 1fr",margin:"auto",width:"18%",gridGap:20},labelSelectPromo:{position:"relative"},selectPromo:{width:200,marginTop:"0 !important"},menuItem:{color:e.palette.primary.main},fabDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}}}}))(),t=Object(Ne.b)(),n=Object(a.useState)([]),r=Object(j.a)(n,2),o=r[0],c=r[1],i=Object(a.useState)(""),s=Object(j.a)(i,2),u=s[0],l=s[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),x=b[0],h=b[1],O=Object(a.useState)(!1),g=Object(j.a)(O,2),y=g[0],C=g[1],w=Object(a.useState)(!1),N=Object(j.a)(w,2),k=N[0],F=N[1],E=Object(Ne.c)(_n),P=Object(Ne.c)(Bn);qe((function(){E||t(In())}));return Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"PROMOTION"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)("div",{className:e.divPromo,children:Object(q.jsx)("form",{className:e.form,children:Object(q.jsxs)(Ve.a,{className:e.formControl,children:[Object(q.jsxs)("div",{className:e.divSelectPromo,children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(Je.a,{className:e.labelSelectPromo,children:"Promotion selectionn\xe9e"}),Object(q.jsxs)(Ge.a,{className:e.selectPromo,value:u,onChange:function(e){return function(e){l(e.target.value),void 0!==e.target.value&&t(Qn(e.target.value.idPromo))}(e)},input:Object(q.jsx)(He.a,{}),children:[Object(q.jsx)(Ke.a,{className:e.menuItem,value:"ajoutPromo",children:"Ajouter promotion"}),void 0===P?Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}}):P.map((function(e,t){return Object(q.jsx)(Ke.a,{value:e,children:e.nom},t)}))]})]}),Object(q.jsx)(f.a,{className:e.fabDelete,size:"small","aria-label":"delete",disabled:""===u.idPromo||"ajoutPromo"===u,onClick:function(){return t(Un(u)).then((function(){return t(In())})),void l("")},children:Object(q.jsx)(J.a,{})})]}),"ajoutPromo"!==u?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(v.a,{className:e.button,disabled:""===u,variant:"contained",color:"primary",onClick:function(){return h(!0)},children:"Associer \xe0 un mod\xe8le"}),Object(q.jsx)(v.a,{className:e.button,disabled:""===u,variant:"contained",color:"primary",onClick:function(){return C(!0)},children:"Ajouter une liste d'\xe9tudiants"}),Object(q.jsx)(v.a,{className:e.button,disabled:""===u,variant:"contained",color:"primary",onClick:function(){Object(ne.m)(u.idPromo).then((function(e){F(!0)})).catch()},children:"Supprimer l'association"}),Object(q.jsx)(hr,{selectPromo:u.idPromo,open:x,setClose:function(){return h(!1)}}),Object(q.jsx)(gr,{selectPromo:u.idPromo,open:y,setClose:function(){return C(!1)}}),""!==u?Object(q.jsx)(Nr,{}):null]}):Object(q.jsxs)("div",{className:e.divNomPromo,children:[Object(q.jsx)(z.a,{autoFocus:!0,size:"small",label:"Nom de la promo",variant:"outlined",required:!0,value:o,onChange:function(e){return c(e.target.value)}}),Object(q.jsx)(v.a,{className:e.button,disabled:""===o,variant:"contained",color:"primary",onClick:function(){return t(zn(o)).then((function(){return t(In())})),void c("")},children:"Cr\xe9er"})]})]})})}),Object(q.jsx)(Qe,{severity:"success",message:"Suppression d'association r\xe9ussie",open:k,handleClose:function(){return F(!1)}})]})}function Fr(){var e=Object(m.a)((function(e){return{hr:{width:"80%",marginBottom:"2%"},tableauUnite:{width:"80%",margin:"auto",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},addButton:{marginLeft:"3%",marginBottom:"2%"},deleteButton:{backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},color:"white",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},modifButton:{backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.secondary.main},color:"black",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",marginRight:"10%"},tableCell:{textAlign:"center"},tableRow:{backgroundColor:e.palette.secondary.light}}}))(),t=Object(Ne.b)(),n=Object(Ne.c)(Vt),a=Object(Ne.c)(Jt),r=Object(Ne.c)(Gt),o=Object(Ne.c)(Ht);qe((function(){o||t(It())}));var c=function(){if(r<0)return!0;if(0===n[r].abrev.length||0===n[r].nom.length)return!1;for(var e=0;e<n.length;e++){if(!(e===r||n[e].nom!==n[r].nom&&n[e].abrev!==n[r].abrev))return!1}return!0},i=function(){t(zt(n)),Wt(!0)},s=function(e){"Sans Unit\xe9"!==n[e].nom&&t(Bt(e))},u=function(a){return"Sans Unit\xe9"!==n[a].nom?Object(q.jsxs)("div",{children:[Object(q.jsx)(Se.a,{className:e.modifButton,onClick:function(e){return function(e){t(_t(e))}(a)},disabled:!c(),children:Object(q.jsx)(A.a,{})}),Object(q.jsx)(Se.a,{className:e.deleteButton,onClick:function(e){return s(a)},children:Object(q.jsx)(J.a,{})})]}):null},l=function(n,a){return a!==r?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Yn.a,{className:e.tableCell,children:[" ",n.nom," "]}),Object(q.jsxs)(Yn.a,{className:e.tableCell,children:[" ",n.abrev," "]}),Object(q.jsxs)(Yn.a,{className:e.tableCell,children:[" ",u(a)," "]})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Yn.a,{className:e.tableCell,children:Object(q.jsx)(z.a,{value:n.nom,onChange:function(e){return function(e,n){t(Tt({index:e,value:n.target.value}))}(a,e)}})}),Object(q.jsx)(Yn.a,{className:e.tableCell,children:Object(q.jsx)(z.a,{value:n.abrev,onChange:function(e){return function(e,n){t(Lt({index:e,value:n.target.value}))}(a,e)}})}),Object(q.jsxs)(Yn.a,{className:e.tableCell,children:[Object(q.jsx)(Se.a,{onClick:function(e){t(_t(-1))},disabled:!c(),children:Object(q.jsx)(R.a,{})}),Object(q.jsx)(Se.a,{onClick:function(e){return s(a)},children:Object(q.jsx)(J.a,{})})]})]})};return a?Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"Gestion des unit\xe9s"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(v.a,{className:e.addButton,variant:"contained",color:"primary",onClick:function(){t(qt())},children:" Ajouter une unit\xe9 "}),Object(q.jsxs)(Gn.a,{className:e.tableauUnite,children:[Object(q.jsx)(Hn.a,{children:Object(q.jsxs)(Kn.a,{className:e.tableRow,children:[Object(q.jsx)(Yn.a,{className:e.tableCell,children:" Nom Complet "}),Object(q.jsx)(Yn.a,{className:e.tableCell,children:" Abr\xe9viation "}),Object(q.jsx)(Yn.a,{})," "]})}),Object(q.jsx)(Xn.a,{children:n.map((function(e,t){return Object(q.jsx)(Kn.a,{children:l(e,t)},t)}))})]}),Object(q.jsx)(Qe,{open:r<0&&!o,handleClose:function(){return i()},actionName:"enregistrer",action:function(){return i()},message:"Cliquez ici pour enregistrer les unit\xe9s",severity:"warning"})]}):Object(q.jsx)(h.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var Er=n(243),Pr=n(244),Sr=n.n(Pr),Rr=n(32);function Mr(e){var t=Object(m.a)((function(e){return{buttonDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},reponse:{margin:"5px 0px",display:"flex",alignItems:"center",columnGap:"10px"},inputAdornmentReponse:{width:"100px"}}}))(),n=Object(a.useState)(!1),r=Object(j.a)(n,2),o=r[0],c=r[1],i=Object(Ne.b)(),s=Object(Ne.c)(Object(Rr.k)(e.indexQuestion)),u=function(){i(Object(Rr.e)({indexQuestion:e.indexQuestion,indexReponse:e.num}))};return Object(q.jsxs)("div",{className:t.reponse,children:[Object(q.jsx)(z.a,{label:"Reponse "+(e.num+1),variant:"outlined",size:"small",value:e.reponse.value,onChange:function(t){return n=t.target.value,void i(Object(Rr.c)({indexQuestion:e.indexQuestion,indexReponse:e.num,value:n}));var n},onBlur:function(){"-"===e.reponse.value&&i(Object(Rr.c)({indexQuestion:e.indexQuestion,indexReponse:e.num,value:""}))},InputProps:{endAdornment:Object(q.jsx)(va.a,{className:t.inputAdornmentReponse,position:"start",children:ga(e.reponse.tabUnite)})}}),Object(q.jsx)(v.a,{size:"small",onClick:function(e){c(!0)},children:"Unite"}),Object(q.jsx)(wa,{open:o,unite:e.reponse.tabUnite,setTabUnite:function(t){i(Object(Rr.n)({indexQuestion:e.indexQuestion,indexReponse:e.num,newTab:t}))},handleClose:function(){c(!1)}}),s?Object(q.jsx)(f.a,{className:t.buttonDelete,size:"small","aria-label":"delete",onClick:u,children:Object(q.jsx)(J.a,{})}):null]})}function Ar(e){var t=Object(m.a)((function(){return{listeReponses:{display:"flex",flexDirection:"column",flexWrap:"wrap",rowGap:"30px",alignItems:"center"},listeQuestions:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"2% 3% 2% 3%"},enonce:{margin:"4% 0 0 8%",fontSize:"18px"},buttonAjouterReponse:{display:"block",margin:"20px auto"},hr:{border:"1px dashed",width:"50%",margin:"50px auto"},h2:{textAlign:"left",margin:"1%"}}}))(),n=Object(Ne.b)();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("hr",{className:t.hr}),Object(q.jsxs)("div",{className:t.listeQuestions,children:[Object(q.jsxs)("h2",{className:t.h2,children:["Question ",e.id+1," :"]}),Object(q.jsx)("div",{className:t.enonce,children:rr()(e.question.enonce)}),Object(q.jsx)(T,{style:{width:"100%",margin:"4% 0"},rows:4,label:"Justification",delayTimeout:300,value:e.question.justification,onChange:function(t){return n(Object(Rr.b)({indexQuestion:e.id,justif:t}))}}),Object(q.jsx)("div",{className:t.listeReponses,children:e.question.tabReponses.map((function(t,n){return Object(q.jsx)(Mr,{num:n,reponse:t,indexQuestion:e.id},n)}))}),e.question.nbMaxReponses>1?Object(q.jsx)(v.a,{variant:"contained",className:t.buttonAjouterReponse,color:"primary",onClick:function(){n(Object(Rr.a)(e.id))},disabled:e.question.tabReponses.length>=e.question.nbMaxReponses,children:"Ajouter R\xe9ponse"}):null]})]})}function Qr(){var e=Object(m.a)((function(){return{hr:{marginBottom:"2%"},contenant:{width:"80%",margin:"auto"},buttonFixed:{position:"absolute",top:"30px",right:"120px"},sujet:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"1% 2% 4% 2%",margin:"4%"},center:{textAlign:"center",display:"block",margin:"2% auto"},modeles:{display:"flex",justifyContent:"space-around"},image:{width:200}}}))(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(Ne.c)(Rr.l),i=Object(Ne.c)(Rr.m),s=Object(Ne.b)();qe((function(){i||s(Object(Rr.h)()).then((function(e){void 0!==e.payload[0]?s(Object(Rr.j)(e.payload[0].id_modele)).then((function(e){s(Object(Rr.g)(e.payload.id_auth)),s(Object(Rr.i)(e.payload.id_auth))})):alert("erreur, pas de sujet asosci\xe9")}))}));var u=Object(a.useCallback)((function(){s(Object(Rr.f)(c.tabQuestions)),o(!0)}),[s,c]);return i&&Object(q.jsxs)("div",{className:e.contenant,children:[Object(q.jsx)(p.a,{variant:"h1",children:"R\xe9ponses aux questions"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)("div",{className:e.buttonFixed,children:Object(q.jsxs)(v.a,{variant:"contained",color:"primary",onClick:function(){var e='<div id="sujetPDF"> '.concat(c.sujet,"<br/>");c.tabQuestions.forEach((function(t){e+="".concat(t.enonce,"<br/>")})),e+="</div>",(new Er.a).html(e,{callback:function(e){e.setFontSize(10),e.setFont("helvetica","normal"),e.addPage();var t=new Image;t.src=c.image1,e.addImage(t,"",50,30,100,100);var n=new Image;n.src=c.image2,e.addImage(n,"",50,150,100,100);for(var a=e.internal.getNumberOfPages(),r=1;r<=a;++r)e.setPage(r),e.text("N\xb0 \xe9tudiant : 1 - N\xb0 sujet : 14559",15,10),e.text("Sujet de Pierre Dupont",190,10,null,null,"right"),e.setDrawColor(136,139,141),e.setLineWidth(.5),e.line(10,280,200,280),e.text("Pierre Carillo",20,290),e.text("IUT du Limousin - GMP",105,290,null,null,"center"),e.text("Page ".concat(r," / ").concat(a),190,290,null,null,"right");e.save("sujet.pdf")},x:7,y:14})},children:[Object(q.jsx)(Sr.a,{}),"T\xe9l\xe9charger"]})}),Object(q.jsxs)("div",{className:e.sujet,children:[Object(q.jsx)("h2",{className:e.center,children:"Sujet"}),Object(q.jsx)("div",{id:"sujet",children:rr()(c.sujet)})]}),Object(q.jsxs)("div",{className:e.modeles,children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("img",{className:e.image,src:c.image1,alt:"img modele1"}),Object(q.jsx)("p",{className:e.center,children:"mod\xe8le 1"})]}),Object(q.jsxs)("div",{children:[Object(q.jsx)("img",{className:e.image,src:c.image2,alt:"img modele2"}),Object(q.jsx)("p",{className:e.center,children:"mod\xe8le 2"})]})]}),0===c.tabQuestions.length?Object(q.jsx)("div",{children:"Pas de questions pour l'instant"}):c.tabQuestions.map((function(e,t){return Object(q.jsx)(Ar,{question:e,id:t},e.indexQuestion)})),Object(q.jsx)(v.a,{variant:"contained",color:"primary",onClick:u,className:e.center,children:"Envoyer les r\xe9ponses"}),Object(q.jsx)(Qe,{severity:"success",message:"Envoie des r\xe9ponses r\xe9ussie",open:r,handleClose:function(){return o(!1)}})]})}var Ir=n(261),zr=n(705),Ur=n(245),Dr=n.n(Ur),qr=n(247),Tr=n.n(qr),Lr=n(246),Br=n.n(Lr),_r=n(31);function Wr(){var e=Object(m.a)((function(e){return{divMenuProfil:{position:"absolute",right:30,top:17.5,display:"flex",zIndex:10},avatar:{backgroundColor:e.palette.error.main}}}))(),t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],o=n[1],c=Object(a.useState)(!1),u=Object(j.a)(c,2),l=u[0],d=u[1],b=Object(Ne.b)(),f=Object(Ne.c)(_r.j),x=Object(Ne.c)(an),h=Object(Ne.c)(on),O=Object(Ne.c)(_n);return qe((function(){var e=window.localStorage;""!==f.name&&void 0===f.image&&null===e.getItem(f.name)&&b(Object(_r.c)(f.name)),!x&&f.isProf&&b(Yt()),O||b(In())})),Object(q.jsxs)("div",{className:e.divMenuProfil,children:[Object(q.jsx)(yr.a,{disableHoverListener:void 0===h,title:void 0!==h&&f.isProf?h.nom:"",children:Object(q.jsx)(Se.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return o(e.currentTarget)},children:void 0===f.image?Object(q.jsx)(Ga.a,{className:e.avatar,children:f.name.substring(0,1).toUpperCase()}):Object(q.jsx)(Ga.a,{src:f.image})})}),Object(q.jsxs)(Ir.a,{transformOrigin:{vertical:"bottom",horizontal:"center"},disableScrollLock:!0,id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return o(null)},children:[Object(q.jsxs)(Ke.a,{component:i.b,to:"/profil",onClick:function(){return o(null)},children:[Object(q.jsx)(zr.a,{children:Object(q.jsx)(Dr.a,{})}),Object(q.jsx)(p.a,{variant:"inherit",children:"Profil"})]}),f.isProf?Object(q.jsxs)(Ke.a,{onClick:function(e){return d(!0)},children:[Object(q.jsx)(zr.a,{children:Object(q.jsx)(Br.a,{})}),Object(q.jsx)(p.a,{variant:"inherit",children:"Mod\xe8le"})]}):null,Object(q.jsxs)(Ke.a,{onClick:function(e){return b(Object(_r.e)())},children:[Object(q.jsx)(zr.a,{children:Object(q.jsx)(Tr.a,{})}),Object(q.jsx)(p.a,{variant:"inherit",children:"D\xe9connexion"})]})]}),f.isProf?Object(q.jsx)(un,{tard:!0,setClose:function(){return d(!1)},open:l}):null,f.isLogin?null:Object(q.jsx)(s.a,{to:"/"})]})}function Vr(e){var t=Object(Ne.b)(),n=Object(Ne.c)(Rr.m),r=Object(a.useState)(!1),o=Object(j.a)(r,2),c=o[0],i=o[1];return qe((function(){n||t(Object(Rr.h)()).then((function(e){void 0!==e.payload[0]?t(Object(Rr.j)(e.payload[0].id_modele)).then((function(e){t(Object(Rr.g)(e.payload.id_auth)),t(Object(Rr.i)(e.payload.id_auth))})):i(!0)}))})),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Wr,{info:e.info}),Object(q.jsxs)(y.a,{open:c,onClose:function(){return i(!0)},children:[Object(q.jsx)(C.a,{children:"Sujet non attribu\xe9"}),Object(q.jsx)(w.a,{children:Object(q.jsx)(N.a,{children:"Ton sujet n'a pas encore \xe9t\xe9 attribu\xe9, contactes le professeur en cas de probl\xe8me ou reviens plus tard"})}),Object(q.jsx)(k.a,{children:Object(q.jsx)(v.a,{onClick:function(){return t(Object(_r.e)())},color:"primary",children:"Quitter"})})]})]})}var Jr=n(716),Gr=n(248),Hr=n.n(Gr),Kr=n(249),Yr=n.n(Kr);function Xr(e){var t=e.label,n=e.error,r=e.value,o=e.onChange,c=e.onKeyPress,i=Object(m.a)((function(e){return{divInputPassword:{margin:"auto",width:"max-content"},margin:{margin:e.spacing(.5)},textField:{width:225}}}))(),s=Object(a.useState)(!1),u=Object(j.a)(s,2),l=u[0],d=u[1];return Object(q.jsx)("div",{className:i.divInputPassword,children:Object(q.jsxs)(Ve.a,{size:"small",variant:"outlined",className:Object(ke.a)(i.margin,i.textField),children:[Object(q.jsx)(Je.a,{error:n,htmlFor:"outlined-adornment-password",required:!0,children:t}),Object(q.jsx)(Jr.a,{required:!0,label:t+"*",error:n,id:"outlined-adornment-password",type:l?"text":"password",value:r,onChange:function(e){return o(e)},onKeyPress:function(e){return void 0!==c?c(e):null},endAdornment:Object(q.jsx)(va.a,{position:"end",children:Object(q.jsx)(Se.a,{"aria-label":"toggle password visibility",onClick:function(){return d(!l)},size:"small",children:l?Object(q.jsx)(Hr.a,{}):Object(q.jsx)(Yr.a,{})})})})]})})}function $r(){var e=Object(m.a)((function(e){return{carteProfil:{display:"flex",width:"60%",height:"max-content",margin:"0 auto 2% auto",boxShadow:"-2px 5px 12px 4px rgba(0,0,0,0.62)"},imageProfil:Object(B.a)({width:220,height:"100",backgroundSize:"cover",backgroundPosition:"center"},e.breakpoints.down("sm"),{display:"none"}),wrapper:{height:"100%",width:"100%"},dropPhotoProfil:{height:"40%",width:"100%",margin:"auto"},buttonEnvoyerImageProfil:{display:"block",margin:"3% auto"},hr:{width:"70%"},divPasswordChange:{width:"max-content",display:"flex",flexDirection:"column",margin:"2% auto"},buttonChangePwd:{margin:"2% auto"},rootNewProf:{display:"flex",width:"max-content",flexDirection:"column",margin:"2% auto 4%",alignItems:"center"},marginNewProf:{margin:"4px"}}}))(),t=Object(Ne.c)(_r.j),n=Object(Ne.b)(),r=Object(a.useState)({message:"",severity:"",open:!1}),o=Object(j.a)(r,2),c=o[0],i=o[1],s=Object(a.useState)({oldPassword:"",newPassword:"",error:!1}),u=Object(j.a)(s,2),l=u[0],d=u[1],b=Object(a.useState)(""),f=Object(j.a)(b,2),x=f[0],h=f[1],O=Object(a.useState)({username:"",password:""}),g=Object(j.a)(O,2),y=g[0],C=g[1];return Object(q.jsxs)("div",{className:e.carteProfil,children:[void 0===t.image||""===t.image?null:Object(q.jsx)("div",{className:e.imageProfil,style:{backgroundImage:"url('"+t.image+"')"}}),Object(q.jsxs)("div",{className:e.wrapper,children:[Object(q.jsx)(p.a,{align:"center",gutterBottom:!0,variant:"h2",component:"h2",children:t.name.charAt(0).toUpperCase()+t.name.slice(1)}),Object(q.jsxs)("div",{className:e.dropPhotoProfil,children:[Object(q.jsx)(Rn,{typeFile:"image/*",compressImage:!0,changeFile:function(e){return h(e)},message:"Importer une nouvelle image de profil"}),Object(q.jsx)(v.a,{className:e.buttonEnvoyerImageProfil,variant:"contained",color:"primary",disabled:""===x,onClick:function(){n(Object(_r.m)({name:t.name,image:x})).then((function(){i({message:"L'image a \xe9t\xe9 ajout\xe9 avec succ\xe8s",severity:"success",open:!0})})).catch((function(){i({message:"\xc9chec de l'ajout de l'image",severity:"error",open:!0})}))},children:"Enregistrer l'image"}),Object(q.jsx)(v.a,{className:e.buttonEnvoyerImageProfil,variant:"contained",color:"primary",onClick:function(){n(Object(_r.b)()).then((function(){i({message:"L'image a \xe9t\xe9 suprim\xe9e avec succ\xe8s",severity:"success",open:!0})})).catch((function(){i({message:"\xc9chec de la suppression de l'image",severity:"error",open:!0})}))},children:"Supprimer l'image actuelle"})]}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsxs)("div",{className:e.divPasswordChange,id:"divPasswordChange",children:[Object(q.jsx)(Xr,{label:"Mot de passe actuel",error:l.error,onChange:function(e){return d({oldPassword:e.target.value,newPassword:l.newPassword,error:!1})}}),Object(q.jsx)(Xr,{label:"Nouveau mot de passe",error:l.error,onChange:function(e){return d({oldPassword:l.oldPassword,newPassword:e.target.value,error:!1})}}),Object(q.jsx)(v.a,{className:e.buttonChangePwd,variant:"contained",color:"primary",size:"small",onClick:function(){Object(ne.H)(t.name,{oldPassword:l.oldPassword,newPassword:l.newPassword}).then((function(){i({message:"Changement de mot de passe r\xe9ussi",severity:"success",open:!0})})).catch((function(){d({oldPassword:l.oldPassword,newPassword:l.newPassword,error:!0}),i({message:"\xc9chec du changement de mot de passe",severity:"error",open:!0})}))},children:"Changer de mot de passe"})]}),"root"===t.name?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("hr",{className:e.hr}),Object(q.jsxs)("div",{className:e.rootNewProf,children:[Object(q.jsx)(p.a,{align:"center",gutterBottom:!0,variant:"h5",component:"h5",children:"Cr\xe9ation d'un nouveau compte professeur"}),Object(q.jsx)(z.a,{style:{margin:"4px"},label:"Nom d'utilisateur",size:"small",variant:"outlined",onChange:function(e){return C({username:e.target.value,password:y.password})}}),Object(q.jsx)(Xr,{className:e.marginNewProf,label:"Mot de passe",onChange:function(e){return C({username:y.username,password:e.target.value})}}),Object(q.jsx)(v.a,{className:e.marginNewProf,variant:"contained",color:"primary",size:"small",disabled:""===y.username||""===y.password,onClick:function(){return console.log(y),void Object(ne.e)(y.username,y.password).then((function(){i({message:"Ajout d'un nouveau compte professeur r\xe9ussi",severity:"success",open:!0})})).catch((function(){i({message:"Ajout d'un nouveau compte professeur \xe9chou\xe9",severity:"error",open:!0})}))},children:"Ajouter le nouveau compte"})]})]}):null,Object(q.jsx)(Qe,{severity:c.severity,message:c.message,open:c.open,handleClose:function(){return i({message:"",severity:"success",open:!1})}})]})]})}var Zr=n(109),eo=n.n(Zr),to=n(250),no=n.n(to);function ao(){return Object(q.jsx)(xn.a,{style:{position:"absolute",opacity:"0.6",top:0},height:"100vh",width:"100%",params:{particles:{color:{value:"#000000"},line_linked:{color:{value:"#000000"}},number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}})}function ro(){var e=Object(m.a)((function(e){return{divLogin:{display:"flex",flexDirection:"column",height:"120px",margin:"30px auto"},backgroundLogin:{display:"block",margin:"10% auto 0 auto",border:"solid  2px",borderColor:e.palette.primary.main,borderRadius:"2%",padding:"2% 3%",backgroundColor:"rgba(255,255,255,0.6)",zIndex:2},buttonConnexion:{display:"block",margin:"20px auto 10px auto",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark},border:"none",color:"white"},fieldLogin:{display:"flex",marginTop:"20px"},textField:{width:225},iconLogin:{marginRight:"29px",marginTop:"8px"},iconPwd:{marginRight:"25px",marginTop:"10px"}}}))(),t=Object(Ne.b)(),n=Object(Ne.c)(_r.f),r=Object(Ne.c)(_r.h),o=Object(Ne.c)(_r.g),c=Object(a.useState)(!1),i=Object(j.a)(c,2),u=i[0],l=i[1],d=Object(a.useState)({user:"",pwd:""}),b=Object(j.a)(d,2),p=b[0],f=b[1];qe((function(){t(Object(_r.n)())})),Object(a.useEffect)((function(){n&&l(!0)}),[n]);var x=function(){t(Object(_r.d)({name:p.user,password:p.pwd}))};return void 0===o?null:Object(q.jsxs)("div",{className:e.divLogin,children:[Object(q.jsx)(ao,{}),Object(q.jsxs)("div",{className:e.backgroundLogin,children:[Object(q.jsxs)("div",{className:e.fieldLogin,children:[Object(q.jsx)(eo.a,{className:e.iconLogin}),Object(q.jsx)(Ve.a,{size:"small",variant:"outlined",children:Object(q.jsx)(z.a,{id:"outlined-login",className:e.textField,autoFocus:!0,size:"small",variant:"outlined",required:!0,error:n,value:p.user,label:"Login",onChange:function(e){return function(e){t(Object(_r.k)(!1)),f({user:e.target.value,pwd:p.pwd})}(e)},onKeyPress:function(e){"Enter"===e.code&&x()}})})]}),Object(q.jsxs)("div",{className:e.fieldLogin,children:[Object(q.jsx)(no.a,{className:e.iconPwd}),Object(q.jsx)(Xr,{label:"Mot de passe",error:n,onKeyPress:function(e){"Enter"===e.code&&x()},value:p.pwd,onChange:function(e){return function(e){t(Object(_r.k)(!1)),f({user:p.user,pwd:e.target.value})}(e)}})]}),Object(q.jsx)(v.a,{type:"submit",className:e.buttonConnexion,variant:"outlined",onClick:function(){return x()},children:"Connexion"}),Object(q.jsx)(Qe,{severity:"error",message:"Identification invalide",open:u,handleClose:function(){return l(!1)}})]}),o?r?Object(q.jsx)(s.a,{push:!0,to:"/prof/home"}):Object(q.jsx)(s.a,{push:!0,to:"/etu/home"}):null]})}var oo=n(262),co=n(712),io=n(161),so=n.n(io),uo=n(254),lo=n.n(uo),bo=n(162),jo=n.n(bo),mo=n(258),po=n.n(mo),fo=n(257),xo=n.n(fo),ho=n(256),Oo=n.n(ho),go=n(251),vo=n.n(go),yo=n(253),Co=n.n(yo),wo=n(252),No=n.n(wo),ko=n(255),Fo=n.n(ko);function Eo(){var e=Object(m.a)((function(e){return{divNavigation:{padding:"5px 10px",zIndex:99},divider:{margin:"3% 0"},deconnexionNav:{backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},borderRadius:"3px"},deconnexionText:{color:"white"},deconnexionIcon:{color:"white"},divNavBar:{marginBottom:100},burger:{position:"fixed",left:"20px",top:"20px",zIndex:10}}}))(),t=Object(Ne.c)(_r.j),n=Object(Ne.b)(),r=Object(a.useState)(!1),o=Object(j.a)(r,2),c=o[0],s=o[1],u=[{icon:Object(q.jsx)(so.a,{}),nom:"Accueil",route:"/prof/home"},{icon:Object(q.jsx)(eo.a,{}),nom:"Profil",route:"/profil",divider:!0},{icon:Object(q.jsx)(vo.a,{}),nom:"Architecture",route:"/prof/architecture"},{icon:Object(q.jsx)(No.a,{}),nom:"Promotion",route:"/prof/promo"},{icon:Object(q.jsx)(Co.a,{}),nom:"Cr\xe9ation variables al\xe9atoires",route:"/prof/variable-aleatoires"},{icon:Object(q.jsx)(lo.a,{}),nom:"Enregistrement des formules",route:"/prof/formules"},{icon:Object(q.jsx)(Fo.a,{}),nom:"G\xe9rer les unit\xe9s",route:"/prof/unites"},{icon:Object(q.jsx)(Oo.a,{}),nom:"Cr\xe9ation des \xe9nonc\xe9s",route:"/prof/enonces",divider:!0},{icon:Object(q.jsx)(jo.a,{}),nom:"Gestion de la correction",route:"/prof/gestion-correction",divider:!0}],l=[{icon:Object(q.jsx)(so.a,{}),nom:"Accueil",route:"/etu/home"},{icon:Object(q.jsx)(eo.a,{}),nom:"Profil",route:"/profil"},{icon:Object(q.jsx)(jo.a,{}),nom:"R\xe9pondre aux Questions",route:"/etu/repondre-questions",divider:!0}],d=t.isProf?u:l;return Object(q.jsxs)("div",{className:e.divNavBar,children:[Object(q.jsx)(Se.a,{className:e.burger,onClick:function(e){return s(!0)},children:Object(q.jsx)(po.a,{fontSize:"large"})}),Object(q.jsx)(co.a,{onOpen:function(){return s(!0)},open:c,onClose:function(){return s(!1)},children:Object(q.jsx)("nav",{className:e.divNavigation,children:Object(q.jsxs)(Ha.a,{children:[d.map((function(t){return Object(q.jsxs)("div",{children:[Object(q.jsxs)(Ya.a,{button:!0,component:i.b,to:t.route,children:[Object(q.jsx)(zr.a,{children:t.icon}),Object(q.jsx)(Xa.a,{children:t.nom})]}),null==t.divider?null:Object(q.jsx)(Ka.a,{className:e.divider})]},t.nom)})),Object(q.jsxs)(Ya.a,{className:e.deconnexionNav,button:!0,onClick:function(){return n(Object(_r.e)())},children:[Object(q.jsx)(zr.a,{children:Object(q.jsx)(xo.a,{className:e.deconnexionIcon})}),Object(q.jsx)(Xa.a,{className:e.deconnexionText,children:"D\xe9connexion"})]})]})})})]})}function Po(e){var t=e.forProf,n=e.component,a=Object(oo.a)(e,["forProf","component"]),r=Object(Ne.b)(),o=Object(Ne.c)(_r.j),c=Object(Ne.c)(_r.i);return Object(q.jsx)(s.b,Object(kn.a)(Object(kn.a)({},a),{},{render:function(e){return function(e){if(c&&void 0!==o.isLogin||(r(Object(_r.n)()),Object(_r.l)(!1)),void 0!==o.isLogin)return o.isProf===t||void 0===t?Object(q.jsxs)("div",{children:[Object(q.jsx)(Eo,{}),Object(q.jsx)(Wr,{}),Object(q.jsx)(n,Object(kn.a)({},e))]}):Object(q.jsx)(q.Fragment,{children:window.location.href="/"})}(e)}}))}var So=Object(te.a)({reducer:{user:_r.a,formule:we,modele:cn,variableAleatoire:mt,reponse:Rr.d,enonce:Qt,promo:Wn,consulter:ma,unite:Kt},middleware:Object(te.d)({serializableCheck:!1})}),Ro=n(708);function Mo(){var e=Object(u.a)({palette:{primary:{light:"#c0dff8",main:"#075b72"},secondary:{main:"#cfcfcf"},error:{main:"#c51150"},warning:{main:"#ffa016",dark:"#b75c08"},success:{main:"#5bb65f",dark:"#244826"}},typography:{fontFamily:"Amaranth",h1:{fontSize:28,fontWeight:"bold",textAlign:"center",textTransform:"uppercase",color:"#393939"},button:{height:36,width:"max-content"}}},b.a);return Object(q.jsx)(l.a,{theme:e,children:Object(q.jsxs)(Ne.a,{store:So,children:[Object(q.jsx)(Ro.a,{}),Object(q.jsx)(i.a,{children:Object(q.jsxs)(s.d,{children:[Object(q.jsx)(s.b,{exact:!0,path:"/",component:ro}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/home",component:wn}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/gestion-sujets",component:wn}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/promo",component:kr}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/unites",component:Fr}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/enonces",component:Ia}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/formules",component:pn}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/architecture",component:Mn}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/gestion-correction",component:fa}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/variable-aleatoires",component:Wa}),Object(q.jsx)(Po,{forProf:!0,exact:!0,path:"/prof/correction/:value",component:xr}),Object(q.jsx)(Po,{forProf:!1,exact:!0,path:"/etu/home",component:Vr}),Object(q.jsx)(Po,{forProf:!1,exact:!0,path:"/etu/repondre-questions",component:Qr}),Object(q.jsx)(Po,{exact:!0,path:"/profil",component:$r}),Object(q.jsx)(s.b,{render:function(){return Object(q.jsx)(s.a,{to:"/"})}})]})})]})})}var Ao=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,1095)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(q.jsx)(r.a.StrictMode,{children:Object(q.jsx)(Mo,{})}),document.getElementById("root")),Ao()}},[[628,1,2]]]);
//# sourceMappingURL=main.c376b7aa.chunk.js.map