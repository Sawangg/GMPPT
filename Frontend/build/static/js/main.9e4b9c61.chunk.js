(this["webpackJsonpgmp-frontend"]=this["webpackJsonpgmp-frontend"]||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"v",(function(){return u})),n.d(t,"D",(function(){return l})),n.d(t,"t",(function(){return d})),n.d(t,"C",(function(){return b})),n.d(t,"E",(function(){return j})),n.d(t,"F",(function(){return m})),n.d(t,"r",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return x})),n.d(t,"o",(function(){return O})),n.d(t,"d",(function(){return h})),n.d(t,"x",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return C})),n.d(t,"B",(function(){return y})),n.d(t,"e",(function(){return w})),n.d(t,"p",(function(){return k})),n.d(t,"u",(function(){return N})),n.d(t,"h",(function(){return F})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return P})),n.d(t,"w",(function(){return R})),n.d(t,"g",(function(){return S})),n.d(t,"A",(function(){return Q})),n.d(t,"G",(function(){return A})),n.d(t,"f",(function(){return M})),n.d(t,"q",(function(){return I})),n.d(t,"l",(function(){return z})),n.d(t,"m",(function(){return U})),n.d(t,"n",(function(){return T})),n.d(t,"z",(function(){return q})),n.d(t,"y",(function(){return D})),n.d(t,"s",(function(){return L}));var a=n(27),r=n.n(a),o=window.host,i=window.port,c={withCredentials:!0},s=window.location.href.split("/")[0];function u(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/auth"),c)}function l(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/auth/logout"),c)}function d(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/auth/").concat(e,"/profilepic"),c)}function b(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/auth/login"),{username:e,password:t},c)}function j(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/auth/").concat(e,"/profilepic/new"),t,c)}function m(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/auth/").concat(e,"/changepwd"),{passwords:t},c)}function p(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/categories"),c)}function f(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/categories/new"),t,c)}function x(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/delete"),c)}function O(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/modele"),c)}function h(e){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/modele/new"),{nommodele:e},c)}function g(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/etudiant/").concat(e,"/modeles"),c)}function v(e){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/architecture/").concat(e.sujet,"/modeles/new"),e.images,c)}function C(e){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/architecture/new"),e,c)}function y(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/architecture/attribued_without_modeles/excel"),c)}function w(e){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/promo/new"),{nomPromo:e},c)}function k(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/promo/"),c)}function N(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/promo/").concat(e),c)}function F(e,t){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/promo/").concat(e,"/").concat(t,"/attribution"),c)}function E(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/promo/").concat(e,"/delete"),c)}function P(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/promo/").concat(e,"/desatribution"),c)}function R(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/promo/modele"),c)}function S(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/variables/new"),t,c)}function Q(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/variables"),c)}function A(e,t,n){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/questions/new"),{tabQuestions:n,enonce:t},c)}function M(e){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/unite/new"),{tabUnites:e},c)}function I(){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/unite/"),c)}function z(e,t){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/etudiant/").concat(e,"/new"),t,c)}function U(e){return r.a.post("".concat(s,"//").concat(o,":").concat(i,"/etudiant/reponses/new"),{tabQuestions:e},c)}function T(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/etudiant/").concat(e,"/variables"),c)}function q(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/modele/").concat(e,"/sujet"),c)}function D(e,t){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/correction/").concat(e,"/").concat(t),c)}function L(e){return r.a.get("".concat(s,"//").concat(o,":").concat(i,"/etudiant/").concat(e,"/reponses"),c)}},271:function(e,t,n){},31:function(e,t,n){"use strict";(function(e){n.d(t,"m",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return b})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return C})),n.d(t,"f",(function(){return y})),n.d(t,"e",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"h",(function(){return N}));var a,r=n(12),o=n(11),i=n.n(o),c=n(21),s=n(15),u=n(14),l=Object(s.b)("users/getInfoUser",Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.v)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),d=Object(s.b)("users/logout",Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.D)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),b=Object(s.b)("users/login",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.C)(t.name,t.password);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j=Object(s.b)("users/setUserImage",function(){var e=Object(c.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("profilePic",t.image),e.next=4,Object(u.E)(t.name,n);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(s.b)("users/getUserImage",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.t)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=window.localStorage,f=Object(s.c)({name:"user",initialState:{name:"",password:"",image:void 0,isProf:!1,isLogin:void 0,error:!1,justLogin:!1},reducers:{setUser:function(e,t){var n=t.payload,a=n.name,r=n.password,o=n.isProf;e.name=a,e.password=r,e.isProf=o},setError:function(e,t){e.error=t.payload},setJustLogin:function(e,t){e.justLogin=t.payload}},extraReducers:(a={},Object(r.a)(a,l.rejected,(function(e){x(e)})),Object(r.a)(a,l.fulfilled,(function(e,t){O(e,t)})),Object(r.a)(a,b.rejected,(function(e){e.error=!0})),Object(r.a)(a,b.fulfilled,(function(e,t){O(e,t),e.justLogin=!0})),Object(r.a)(a,d.rejected,(function(e){x(e)})),Object(r.a)(a,d.fulfilled,(function(e){x(e)})),Object(r.a)(a,j.pending,(function(e,t){e.image=URL.createObjectURL(t.meta.arg.image);var n=new FileReader,a=e.name;n.readAsDataURL(t.meta.arg.image),n.onloadend=function(){var e=n.result;p.setItem(a,e)}})),Object(r.a)(a,m.fulfilled,(function(t,n){var a="data:image/jpeg;base64,"+e.from(n.payload.profilepic).toString("base64");t.image=a,p.setItem(t.name,a)})),a)}),x=function(e){e.name="",e.password="",e.isLogin=!1,e.isProf=void 0,e.image=void 0},O=function(e,t){e.name=t.payload.username,e.isProf=1===t.payload.isProf,e.isLogin=!0,void 0===e.image&&(e.image=null===p.getItem(t.payload.username)?void 0:p.getItem(t.payload.username))},h=f.actions,g=(h.setUser,h.changeUserName,h.setError),v=h.setJustLogin,C=function(e){return e.user},y=function(e){return e.user.isLogin},w=function(e){return e.user.error},k=function(e){return e.user.isProf},N=function(e){return e.user.justLogin};t.a=f.reducer}).call(this,n(122).Buffer)},32:function(e,t,n){"use strict";(function(e){n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"i",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return v})),n.d(t,"n",(function(){return C})),n.d(t,"b",(function(){return y})),n.d(t,"l",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"m",(function(){return N}));var a,r=n(12),o=n(11),i=n.n(o),c=n(21),s=n(15),u=n(14),l=n(42),d=n.n(l),b=Object(s.b)("etudiant/getEtudiantModele",Object(c.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.w)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),j=Object(s.b)("etudiant/getSujet",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.z)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(s.b)("etudiant/enregistrerReponses",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.m)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(s.b)("etudiant/etudiantVariables",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.n)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=Object(s.b)("etudiant/getModele3D",function(){var e=Object(c.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.x)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(s.c)({name:"reponse",initialState:{tabQuestions:[{indexQuestion:0,enonce:"",justification:"",nbMaxReponses:5,tabReponses:[{value:"",tabUnite:[{abr:" ",puissance:1}]}]}],sujet:"",sujetEnregistre:!1,id_auth:"",image1:"",image2:""},reducers:{addReponse:function(e,t){var n=t.payload,a=e.tabQuestions[t.payload].tabReponses.length-1;e.tabQuestions[n].tabReponses.push({value:"",tabUnite:d.a.cloneDeep(e.tabQuestions[n].tabReponses[a].tabUnite)})},changeReponse:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse,o=n.value;isNaN(o)&&"-"!==o||(e.tabQuestions[a].tabReponses[r].value=o)},deleteReponse:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse;e.tabQuestions[a].tabReponses.length>1&&e.tabQuestions[a].tabReponses.splice(r,1)},changeUniteForAllReponses:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.tab;e.tabQuestions[a].tabReponses.map((function(e){return e.tabUnite=d.a.cloneDeep(r)}))},changeUniteReponses:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse,o=n.tab;e.tabQuestions[a].tabReponses[r].tabUnite=o},changeJustification:function(e,t){e.tabQuestions[t.payload.indexQuestion].justification=t.payload.justif},setUnite:function(e,t){var n=t.payload,a=n.indexQuestion,r=n.indexReponse,o=n.newTab;e.tabQuestions[a].tabReponses[r].tabUnite=o}},extraReducers:(a={},Object(r.a)(a,j.fulfilled,(function(e,t){e.tabQuestions=[],e.sujet=t.payload.enonce,t.payload.questions.forEach((function(t){var n=[];void 0!==t.reponse?t.reponses.forEach((function(e){n.push({value:e.value,tabUnite:e.tabUnite})})):n.push({value:"",tabUnite:[]}),e.tabQuestions.push({indexQuestion:t.id_question,enonce:t.contenu,nbMaxReponses:5,justification:"",tabReponses:n})})),e.id_auth=t.payload.id_auth,e.sujetEnregistre=!0})),Object(r.a)(a,m.fulfilled,(function(e){e.sujetEnregistre=!0})),Object(r.a)(a,p.fulfilled,(function(e,t){var n=e.sujet;t.payload.forEach((function(t){var a=new RegExp("\\$\\{\\s*"+t.nom+"\\s*\\}","g");n=n.replaceAll(a,t.valeur),e.tabQuestions.forEach((function(e){e.enonce=e.enonce.replaceAll(a,t.valeur)}))})),e.sujet=n})),Object(r.a)(a,f.fulfilled,(function(t,n){t.image1="data:image/jpeg;base64,"+e.from(n.payload.image1).toString("base64"),t.image2="data:image/jpeg;base64,"+e.from(n.payload.image2).toString("base64")})),a)}),O=x.actions,h=O.addReponse,g=O.changeReponse,v=O.deleteReponse,C=(O.changeUniteReponses,O.changeUniteForAllReponses,O.setUnite),y=O.changeJustification,w=function(e){return e.reponse},k=function(e){return function(t){return t.reponse.tabQuestions[e].tabReponses.length>1}},N=function(e){return e.reponse.sujetEnregistre};t.d=x.reducer}).call(this,n(122).Buffer)},557:function(e,t){},575:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),i=n.n(o),c=(n(271),n(57)),s=n(38),u=n(646),l=n(647),d=n(249),b=n.n(d),j=n(10),m=n(620),p=n(86),f=n(623),x=n(77),O=n.n(x),h=n(95),g=n.n(h),v=n(622),C=n(624),y=n(625),w=n(626),k=n(627),N=n(628),F=n(658),E=n(630),P=n(631),R=n(93),S=n.n(R),Q=n(94),A=n.n(Q),M=n(133),I=n.n(M),z=n(655),U=n(42),T=n.n(U),q=n(1);function D(e){var t=e.label,n=e.typeNumber,r=e.onChange,o=e.delay,i=e.value,c=e.style,s=e.rows,u=Object(a.useState)(i),l=Object(j.a)(u,2),d=l[0],b=l[1],m=Object(a.useRef)(T.a.debounce((function(e){return r(e)}),o)).current,p=function(e){b(e.target.value),m(e.target.value)};return Object(q.jsx)(z.a,{style:c,multiline:!0,rows:s,variant:"outlined",size:"small",label:t,onChange:function(e){void 0===n||!1===n?p(e):isNaN(e.target.value)&&"-"!==e.target.value||p(e)},value:d})}var L,B=n(12),_=n(151),W=n.n(_),V=n(41),J=n.n(V),G=n(221),H=n.n(G),K=n(222),Y=n.n(K),X=n(621),$=n(11),Z=n.n($),ee=n(21),te=n(15),ne=n(14),ae=Object(te.b)("formule/getCategoriesFormules",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.r)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),re=Object(te.b)("formule/enregistrerFormules",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.b)(t.idModele,t.tab);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),oe=Object(te.c)({name:"formule",initialState:{tab:[{nom:"",modif:!0,tabFormule:[{nomFormule:"",formule:"",modif:!0}],saveElement:{elem:null,indexCategorie:void 0,indexFormule:void 0}}],actualise:!1,enregistre:!1,changement:!1},reducers:{addCategorie:function(e){e.tab.push({nom:"",modif:!0,tabFormule:[{nomFormule:"",formule:"",modif:!0}]}),e.enregistre=!1},changeNom:function(e,t){e.tab[t.payload.index].nom=t.payload.event,e.enregistre=!1},removeCategorie:function(e,t){e.tab.splice(t.payload,1),e.enregistre=!1,e.changement=!0},changeModifCategorie:function(e,t){e.tab[t.payload].modif=!e.tab[t.payload].modif,e.enregistre=!1},addFormule:function(e,t){e.tab[t.payload].tabFormule[e.tab[t.payload].tabFormule.length-1].modif=!1,e.tab[t.payload].tabFormule.push({nomFormule:"",formule:"",modif:!0}),e.enregistre=!1},changeNomFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule,o=n.event;e.tab[a].tabFormule[r].nomFormule=o},changeFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule,o=n.event;e.tab[a].tabFormule[r].formule=o},changeModifFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule;e.tab[a].tabFormule[r].modif=!e.tab[a].tabFormule[r].modif,e.enregistre=!1},removeFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule;e.saveElement={elem:e.tab[a].tabFormule[r],indexCategorie:a,indexFormule:r},e.tab[a].tabFormule.splice(r,1),e.enregistre=!1,e.changement=!0},undoFormule:function(e){e.tab[e.saveElement.indexCategorie].tabFormule.splice(e.saveElement.indexFormule,0,{nomFormule:e.saveElement.elem.nomFormule,formule:e.saveElement.elem.formule,modif:e.saveElement.elem.modif}),e.changement=!0},changePositionFormule:function(e,t){var n=t.payload,a=n.indexCategorie,r=n.indexFormule,o=n.up;if(o&&r>0||!o&&r<e.tab[a].tabFormule.length-1){var i=o?-1:1,c=e.tab[a].tabFormule[r+i];e.tab[a].tabFormule[r+i]=e.tab[a].tabFormule[r],e.tab[a].tabFormule[r]=c}e.enregistre=!1,e.changement=!0},enregistre:function(e){e.enregistre=!0}},extraReducers:(L={},Object(B.a)(L,ae.pending,(function(e){e.actualise=!1})),Object(B.a)(L,ae.rejected,(function(e,t){"Request failed with status code 404"===t.error.message&&(e.tab=[{nom:"",modif:!0,tabFormule:[{nomFormule:"",formule:"",modif:!0}]}],e.actualise=!0,e.enregistre=!0,e.changement=!1)})),Object(B.a)(L,ae.fulfilled,(function(e,t){var n=[];t.payload.forEach((function(e){var t=[];e.formules.forEach((function(e){t.push({nomFormule:e.nom,formule:e.contenu,modif:!1})})),n.push({nom:e.nom,modif:!1,tabFormule:t,saveTabFormule:t})})),e.actualise=!0,e.enregistre=!0,e.changement=!1,e.tab=n})),Object(B.a)(L,re.fulfilled,(function(e){e.enregistre=!0})),L)}),ie=oe.actions,ce=(ie.setActualise,ie.changeNom),se=ie.addCategorie,ue=ie.removeCategorie,le=ie.changeModifCategorie,de=ie.addFormule,be=ie.undoFormule,je=ie.changeNomFormule,me=ie.changeFormule,pe=ie.changeModifFormule,fe=ie.removeFormule,xe=ie.changePositionFormule,Oe=function(e){return e.formule.tab},he=function(e){return e.formule.actualise},ge=function(e){return e.formule.enregistre},ve=function(e){return e.formule.tab.length},Ce=function(e){return e.formule.tab[0].tabFormule[0].nomFormule},ye=function(e){return e.formule.changement},we=oe.reducer,ke=n(5),Ne=n(4),Fe=function(e){var t=e.indexCategorie,n=e.indexFormule,a=e.length,r=e.onRemove,o=Object(m.a)((function(e){return{affichageFormule:{display:"flex"},nomForm:{width:"30%"},center:{display:"block",margin:"auto"},formule:{width:"40%",marginLeft:"2%"},buttonSave:{backgroundColor:e.palette.primary.light},typoNomFormule:{overflowWrap:"break-word",width:"30%"},typoFormule:{overflowWrap:"break-word",width:"40%",marginLeft:"2%"},buttonModif:{backgroundColor:e.palette.primary.light},containerFormules:Object(B.a)({display:"grid",gridTemplateColumns:"0.5fr 3.5fr 2fr 0.75fr 0.75fr",gridTemplateRows:"1fr",gap:"0px 15px",margin:"0px 1% 3%"},e.breakpoints.down("sm"),{gridTemplateColumns:"0.5fr 3.5fr 2fr",gap:"0, 10px"}),fabDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}}}}))(),i=Object(ke.b)(),c=Object(X.a)("(min-width:960px)"),s=Object(ke.c)(function(e,t){return function(n){return n.formule.tab[e].tabFormule[t]}}(t,n)),u=function(){i(pe({indexCategorie:t,indexFormule:n}))};return Object(q.jsxs)("div",{className:o.containerFormules,children:[Object(q.jsx)(f.a,{className:Object(Ne.a)(o.fabDelete,o.center),disabled:1===a,size:"small","aria-label":"add",onClick:function(){i(fe({indexCategorie:t,indexFormule:n})),r()},children:Object(q.jsx)(J.a,{className:o.center})}),s.modif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:o.affichageFormule,children:[Object(q.jsx)(D,{label:"Nom formule",delay:300,value:s.nomFormule,onChange:function(e){return i(je({indexCategorie:t,indexFormule:n,event:e}))}}),Object(q.jsx)(W.a,{className:o.center}),Object(q.jsx)(D,{label:"Formule",delay:250,value:s.formule,onChange:function(e){return i(me({indexCategorie:t,indexFormule:n,event:e}))}})]}),Object(q.jsx)(v.a,{className:Object(Ne.a)(o.buttonSave,o.center),variant:"contained",onClick:function(){return u()},disabled:""===s.nomFormule||""===s.formule,children:"Enregistrer"})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{className:o.affichageFormule,children:[Object(q.jsx)(p.a,{className:Object(Ne.a)(o.typoNomFormule,o.center),children:s.nomFormule}),Object(q.jsx)(W.a,{className:o.center}),Object(q.jsx)(p.a,{className:Object(Ne.a)(o.typoFormule,o.center),children:s.formule})]}),Object(q.jsx)(v.a,{className:Object(Ne.a)(o.buttonModif,o.center),variant:"contained",onClick:function(){return u()},children:"Modifier"})]}),c?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{color:"primary",variant:"extended",size:"small",onClick:function(e){return i(xe({indexCategorie:t,indexFormule:n,up:!0}))},children:Object(q.jsx)(H.a,{})}),Object(q.jsx)(f.a,{color:"primary",variant:"extended",size:"small",onClick:function(){return i(xe({indexCategorie:t,indexFormule:n,up:!1}))},children:Object(q.jsx)(Y.a,{})})]}):null]})},Ee=r.a.memo(Fe),Pe=n(654),Re=n(578),Se=n(650),Qe=n(92),Ae=n.n(Qe);function Me(e){var t=e.open,n=e.handleClose,a=e.actionName,r=e.severity,o=e.pos,i=e.action,c=e.message,s=e.disabled,u=Object(m.a)((function(){return{snackbar:{zIndex:10}}}))();return Object(q.jsx)("div",{children:Object(q.jsx)(Pe.a,{className:u.snackbar,anchorOrigin:{vertical:"bottom",horizontal:void 0!==o?o:"left"},open:t,autoHideDuration:6e3,onClose:n,children:Object(q.jsx)(Se.a,{onClose:n,severity:r,action:null!==a?Object(q.jsx)(v.a,{disabled:null!==s&&s,color:"primary",onClick:function(){return i()},children:a}):Object(q.jsx)(Re.a,{color:"inherit",size:"small",onClick:function(){return n()},children:Object(q.jsx)(Ae.a,{fontSize:"inherit"})}),children:c})})})}var Ie=function(e){var t,n=e.indexCategorie,r=Object(m.a)((function(){return{buttonAjouterFormule:{display:"block",margin:"6% auto 0 auto"}}}))(),o=Object(a.useState)(!1),i=Object(j.a)(o,2),c=i[0],s=i[1],u=Object(ke.b)(),l=Object(ke.c)((t=n,function(e){return e.formule.tab[t].tabFormule.length})),d=Object(a.useCallback)((function(){u(de(n))}),[u,n]);return Object(q.jsxs)("div",{children:[Array(l).fill(0).map((function(e,t){return Object(q.jsx)(Ee,{onRemove:function(){return s(!0)},indexFormule:t,length:l,indexCategorie:n},t)})),Object(q.jsx)(v.a,{className:r.buttonAjouterFormule,disabled:l>=20,variant:"contained",color:"primary",onClick:function(){return d()},children:"Ajouter des formules"}),Object(q.jsx)(Me,{message:"Formule supprim\xe9e",actionName:"RETOUR",action:function(){return u(be()),void s(!1)},open:c,handleClose:function(){return s(!1)},pos:"right"})]})},ze=r.a.memo(Ie),Ue=function(e){var t=e.index,n=e.length,r=Object(m.a)((function(e){return{fieldNomCategorie:{width:"30%"},textNomCategorie:{width:"30%",marginTop:"8px"},fabModif:{backgroundColor:e.palette.primary.light},divItemAccordeon:{display:"block",margin:"0 auto 2% auto",width:"70%",minWidth:"420px",borderRadius:"3px",padding:"2% 3%",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},enteteItemAccordeon:{display:"flex",justifyContent:"space-between"},buttonDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},accordion:{marginTop:15},accordionDetails:{display:"flex",flexDirection:"column"}}}))(),o=Object(a.useState)(!0),i=Object(j.a)(o,2),c=i[0],s=i[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],x=Object(ke.b)(),O=Object(ke.c)(function(e){return function(t){return t.formule.tab[e]}}(t)),h=Object(a.useCallback)((function(){x(le(t))}),[x,t]),g=Object(a.useCallback)((function(){b(!1),d&&x(ue(t))}),[x,t,d]);return Object(q.jsxs)("div",{className:r.divItemAccordeon,children:[Object(q.jsxs)("div",{className:r.enteteItemAccordeon,children:[O.modif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(D,{label:"Nom Cat\xe9gorie",delayTimeout:250,value:O.nom,onChange:function(e){return x(ce({index:t,event:e}))}}),Object(q.jsx)(f.a,{disabled:""===O.nom,size:"small",color:"primary","aria-label":"add",onClick:function(){return h()},children:Object(q.jsx)(S.a,{})})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{className:r.textNomCategorie,children:O.nom}),Object(q.jsx)(f.a,{className:r.fabModif,size:"small","aria-label":"add",onClick:function(){return h()},children:Object(q.jsx)(A.a,{})})]}),Object(q.jsx)(v.a,{className:r.buttonDelete,disabled:1===n,variant:"contained",onClick:function(e){return b(!0)},children:"Supprimer la cat\xe9gorie"}),Object(q.jsxs)(C.a,{open:d,onClose:function(){return b(!1)},children:[Object(q.jsx)(y.a,{children:"Suppression"}),Object(q.jsx)(w.a,{children:Object(q.jsx)(k.a,{children:"Voulez-vous vraiment supprimer la cat\xe9gorie ?"})}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return b(!1)},color:"primary",children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){return g()},color:"primary",autoFocus:!0,children:"OK"})]})]})]}),Object(q.jsxs)(F.a,{className:r.accordion,square:!0,expanded:c,onChange:function(){return s(!c)},children:[Object(q.jsx)(E.a,{expandIcon:Object(q.jsx)(I.a,{})}),Object(q.jsx)(P.a,{className:r.accordionDetails,children:Object(q.jsx)(ze,{indexCategorie:t})})]})]})},Te=r.a.memo(Ue);function qe(e){Object(a.useState)(e)}function De(e){var t=function(t){e&&t.preventDefault()};Object(a.useEffect)((function(){return window.addEventListener("beforeunload",t),function(){window.removeEventListener("beforeunload",t)}}))}var Le,Be,_e,We,Ve=n(616),Je=n(657),Ge=n(651),He=n(613),Ke=n(632),Ye=n(76),Xe=n.n(Ye),$e=Object(te.b)("variable/getAllVariables",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.A)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ze=Object(te.b)("variable/setVariables",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.g)(t.idModele,t.tab);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),et=Object(te.c)({name:"variableAleatoire",initialState:{tab:[{nom:"",min:0,max:0,precision:0,modif:!0}],saveElement:{elem:null,index:void 0},actualise:!1,enregistre:!1},reducers:{addVariable:function(e){e.tab.push({nom:"",min:0,max:0,precision:0,modif:!0}),e.enregistre=!1},changeNom:function(e,t){e.tab[t.payload.index].nom=t.payload.event},changeMin:function(e,t){e.tab[t.payload.index].min=t.payload.event},changeMax:function(e,t){e.tab[t.payload.index].max=t.payload.event},removeVariable:function(e,t){e.tab.length>1&&(e.saveElement={elem:e.tab[t.payload],index:t.payload},e.tab.splice(t.payload,1),e.enregistre=!1)},changeModif:function(e,t){e.tab[t.payload].modif=!e.tab[t.payload].modif,e.enregistre=!1},changePrecision:function(e,t){e.tab[t.payload.index].precision=t.payload.precision},undoVariable:function(e){e.tab.splice(e.saveElement.index,0,{nom:e.saveElement.elem.nom,min:e.saveElement.elem.min,max:e.saveElement.elem.max,precision:e.saveElement.elem.precision,modif:e.saveElement.elem.modif})}},extraReducers:(Le={},Object(B.a)(Le,$e.pending,(function(e){e.actualise=!1})),Object(B.a)(Le,$e.rejected,(function(e,t){"Request failed with status code 404"===t.error.message&&(e.tab=[{nom:"",min:0,max:0,precision:0,modif:!0}],e.actualise=!0,e.enregistre=!0)})),Object(B.a)(Le,$e.fulfilled,(function(e,t){var n=[];t.payload.forEach((function(e){n.push({nom:e.nom,min:e.min,max:e.max,precision:e.precision,modif:!1})})),e.actualise=!0,e.enregistre=!0,e.tab=n})),Object(B.a)(Le,Ze.fulfilled,(function(e){e.enregistre=!0})),Le)}),tt=et.actions,nt=tt.addVariable,at=tt.changeNom,rt=tt.removeVariable,ot=tt.changeModif,it=tt.changePrecision,ct=tt.changeMin,st=tt.changeMax,ut=tt.undoVariable,lt=function(e){return e.variableAleatoire.tab},dt=function(e){return e.variableAleatoire.actualise},bt=function(e){return e.variableAleatoire.enregistre},jt=function(e){return e.variableAleatoire.tab.length},mt=et.reducer,pt=Object(te.b)("enonce/getSujet",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.z)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ft=Object(te.b)("enonce/setQuestions",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.G)(t.idModele,t.enonce,t.tabQuestions);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),xt=Object(te.c)({name:"enonce",initialState:{enonceContenu:"",question:[{contenu:void 0,reponse:[{selectCat:"",selectForm:"",margeErreur:5,unite:[{abr:" ",puissance:1}]}]}],actualise:!1,enregistre:!1},reducers:{addQuestion:function(e,t){e.question.push({contenu:"",reponse:[{selectCat:0,selectForm:t.payload,margeErreur:5,unite:[{abr:" ",puissance:1}]}]})},removeQuestion:function(e,t){e.question.splice(t.payload,1),e.enregistre=!1},handleChangeQuestion:function(e,t){e.question[t.payload.index].contenu=t.payload.contenu,e.enregistre=!1},handleChangeSelect:function(e,t){e.question[t.payload.index].reponse=t.payload.reponse,e.enregistre=!1},handleChangeUnite:function(e,t){e.question[t.payload.idQuestion].reponse[t.payload.idReponse].unite=t.payload.tabUnite,e.enregistre=!1},addReponse:function(e,t){e.question[t.payload.id].reponse.push({selectCat:0,selectForm:t.payload.formule1,margeErreur:5,unite:[{abr:" ",puissance:1}]}),e.enregistre=!1},enregistre:function(e){e.enregistre=!0},handleChangeCat:function(e,t){e.question[t.payload.idQuestion].reponse[t.payload.idReponse].selectCat=t.payload.value,e.question[t.payload.idQuestion].reponse[t.payload.idReponse].selectForm=t.payload.formule1,e.enregistre=!1},handleChangeForm:function(e,t){e.question[t.payload.idQuestion].reponse[t.payload.idReponse].selectForm=t.payload.value,e.enregistre=!1},handleChangeMargeErreur:function(e,t){e.question[t.payload.indexQuestion].reponse[t.payload.indexReponse].margeErreur=t.payload.marge,e.enregistre=!1},handleChangeEnonce:function(e,t){e.enonceContenu=t.payload,e.enregistre=!1},removeReponse:function(e,t){e.question[t.payload.indexQuestion].reponse.splice(t.payload.indexReponse,1),e.enregistre=!1}},extraReducers:(Be={},Object(B.a)(Be,pt.pending,(function(e){e.actualise=!1})),Object(B.a)(Be,pt.rejected,(function(e){e.enonceContenu="",e.question=[{contenu:"",reponse:[{selectCat:"",selectForm:"",margeErreur:5,unite:[{abr:" ",puissance:1}]}]}],e.actualise=!0,e.enregistre=!0})),Object(B.a)(Be,pt.fulfilled,(function(e,t){var n=[];e.enonceContenu=t.payload.enonce,t.payload.questions.forEach((function(e){var t=[];e.reponses.forEach((function(e){t.push({selectCat:e.selectCat,selectForm:e.selectForm,margeErreur:e.margeErreur,unite:e.unite})})),n.push({contenu:e.contenu,reponse:t})})),e.question=n,e.actualise=!0,e.enregistre=!0})),Object(B.a)(Be,ft.fulfilled,(function(e){e.enregistre=!0})),Be)}),Ot=xt.actions,ht=Ot.handleChangeEnonce,gt=Ot.removeReponse,vt=Ot.handleChangeMargeErreur,Ct=Ot.addQuestion,yt=Ot.removeQuestion,wt=Ot.handleChangeQuestion,kt=(Ot.handleChangeSelect,Ot.addReponse),Nt=Ot.handleChangeUnite,Ft=Ot.handleChangeCat,Et=Ot.handleChangeForm,Pt=function(e){return e.enonce},Rt=function(e){return e.enonce.actualise},St=function(e){return e.enonce.enregistre},Qt=function(e){return e.enonce.question.length},At=function(e){return e.enonce.enonceContenu},Mt=xt.reducer,It=Object(te.b)("unite/getAllUnite",Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.q)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),zt=Object(te.b)("unite/addunite",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.f)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ut=Object(te.c)({name:"unite",initialState:{tabUnites:[],indexEnModif:-1,actualise:!1,enregistre:!1},reducers:{addUnite:function(e){var t=e.tabUnites.push({nom:"",abrev:""});e.indexEnModif=t-1,e.enregistre=!1},changeNomComplet:function(e,t){var n=t.payload,a=n.index,r=n.value;e.tabUnites[a].nom=r,e.enregistre=!1},changeAbreviation:function(e,t){var n=t.payload,a=n.index,r=n.value;e.tabUnites[a].abrev=r,e.enregistre=!1},deleteUnite:function(e,t){var n=t.payload;e.indexEnModif=-1,e.enregistre=!1,e.tabUnites.splice(n,1)},setIndexEnModif:function(e,t){e.indexEnModif=t.payload},setEnregistre:function(e,t){e.enregistre=t.payload},setTest:function(e){e.tabUnites=[{nom:"Sans Unit\xe9",abrev:" "},{nom:"Gramme",abrev:"g"},{nom:"Newton",abrev:"N"}]}},extraReducers:(_e={},Object(B.a)(_e,It.fulfilled,(function(e,t){e.tabUnites=[];var n=T.a.remove(t.payload,(function(e){return"Sans Unit\xe9"===e.nom}));e.tabUnites.push(n[0]),t.payload.forEach((function(t){e.tabUnites.push({nom:t.nom,abrev:t.abrev})})),e.actualise=!0,e.enregistre=!0})),Object(B.a)(_e,It.pending,(function(e,t){e.actualise=!1})),Object(B.a)(_e,zt.fulfilled,(function(e,t){e.indexEnModif=-1,e.enregistre=!0})),_e)}),Tt=Ut.actions,qt=(Tt.setTest,Tt.addUnite),Dt=Tt.changeNomComplet,Lt=Tt.changeAbreviation,Bt=Tt.deleteUnite,_t=Tt.setIndexEnModif,Wt=Tt.setEnregistre,Vt=function(e){return e.unite.tabUnites},Jt=function(e){return e.unite.actualise},Gt=function(e){return e.unite.indexEnModif},Ht=function(e){return e.unite.enregistre},Kt=Ut.reducer,Yt=Object(te.b)("modele/getAllModele",Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.o)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Xt=Object(te.b)("modele/removeModele",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.i)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),$t=Object(te.b)("modele/new",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.d)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Zt=window.localStorage,en=Object(te.c)({name:"modele",initialState:{tabName:[],idModeleSelectionne:Zt.getItem("modele"),actualise:!1},reducers:{selectionnerModele:function(e,t){e.idModeleSelectionne=t.payload,Zt.setItem("modele",t.payload)}},extraReducers:(We={},Object(B.a)(We,Yt.rejected,(function(e){e.actualise=!0})),Object(B.a)(We,Yt.fulfilled,(function(e,t){e.actualise||(t.payload.forEach((function(t){e.tabName[t.id_modele]={nom:t.nom_modele,index:t.id_modele}})),e.actualise=!0,e.chargementSuppression=!1)})),Object(B.a)(We,Xt.pending,(function(e,t){e.tabName.splice(t.meta.arg,1)})),Object(B.a)(We,$t.fulfilled,(function(e,t){e.tabName[t.payload.insertId]={nom:t.meta.arg,index:t.payload.insertId}})),We)}),tn=en.actions.selectionnerModele,nn=function(e){return e.modele},an=function(e){return e.modele.actualise},rn=function(e){return e.modele.idModeleSelectionne},on=function(e){return e.modele.tabName[e.modele.idModeleSelectionne]},cn=en.reducer,sn=function(e){var t=e.setClose,n=e.open,r=e.tard,o=Object(m.a)((function(e){return{divNouveauModele:{display:"grid",gridTemplateColumns:"80% 20%",gridGap:"7%",marginTop:30},fabAdd:{marginLeft:"5%"},form:{display:"flex",justifyContent:"center",marginBottom:20},divSelectModele:{display:"grid",gridTemplateColumns:"80% 20%",gridGap:"7%",marginTop:15},selectModele:{width:200},menuItem:{color:e.palette.primary.main},fabDelete:{margin:"5%",color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},dialogActions:{marginBottom:"3%",justifyContent:"space-around"},buttonLater:{backgroundColor:e.palette.primary.light}}}))(),i=Object(ke.b)(),c=Object(ke.c)(nn),s=Object(ke.c)(an),u=Object(a.useState)(null===c.idModeleSelectionne?"":c.idModeleSelectionne),l=Object(j.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)({etat:!1,nom:"",error:!1}),x=Object(j.a)(p,2),O=x[0],h=x[1],F=Object(a.useState)(!1),E=Object(j.a)(F,2),P=E[0],R=E[1];return Object(q.jsxs)("div",{children:[Object(q.jsxs)(C.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:n,onClose:function(){return t()},children:[Object(q.jsx)(y.a,{children:"Selection du mod\xe8le de sujet"}),Object(q.jsx)(w.a,{children:Object(q.jsx)("form",{className:o.form,children:Object(q.jsxs)(Ve.a,{children:[Object(q.jsx)(Je.a,{children:"Mod\xe8le"}),Object(q.jsxs)("div",{className:o.divSelectModele,children:[Object(q.jsxs)(Ge.a,{className:o.selectModele,value:d,onChange:function(e){b(e.target.value),"Cr\xe9er nouveau mod\xe8le"===e.target.value?h({etat:!0,nom:O.nom,error:!1}):h({etat:!1,nom:O.nom,error:!1})},input:Object(q.jsx)(He.a,{}),children:[Object(q.jsx)(Ke.a,{className:o.menuItem,value:"Cr\xe9er nouveau mod\xe8le",children:"Cr\xe9er nouveau mod\xe8le"}),s?c.tabName.map((function(e){return Object(q.jsx)(Ke.a,{value:e.index,children:e.nom},e.index)})):Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}})]}),Object(q.jsx)(f.a,{className:o.fabDelete,size:"small","aria-label":"delete",disabled:""===d||O.etat,onClick:function(){return R(!0)},children:Object(q.jsx)(J.a,{})})]}),O.etat?Object(q.jsxs)("div",{className:o.divNouveauModele,children:[Object(q.jsx)(z.a,{autoFocus:!0,size:"small",label:"Nom du mod\xe8le",variant:"outlined",required:!0,error:O.error,value:O.nom,onChange:function(e){return function(e){h({etat:!0,nom:e.target.value,error:!1})}(e)}}),Object(q.jsx)(f.a,{className:o.fabAdd,size:"small",color:"primary","aria-label":"add",disabled:""===O.nom,onClick:function(){c.tabName.includes(O.nom)?h({etat:!0,nom:O.nom,error:!0}):(i($t(O.nom)),h({etat:!0,nom:"",error:!1}))},children:Object(q.jsx)(g.a,{})})]}):null]})})}),Object(q.jsxs)(N.a,{className:o.dialogActions,children:[r?Object(q.jsx)(v.a,{className:o.buttonLater,variant:"contained",onClick:function(){return t()},children:"Choisir plus tard"}):null,Object(q.jsx)(v.a,{disabled:""===d||"Cr\xe9er nouveau mod\xe8le"===d,onClick:function(e){return d!==c.idModeleSelectionne&&(i(tn(d)),i(ae(d)),i($e(d)),i(pt(d)),i(It())),void t()},variant:"contained",color:"primary",children:"Ok"})]})]}),Object(q.jsxs)(C.a,{open:P,onClose:function(){return R(!1)},children:[Object(q.jsx)(y.a,{children:"Suppression"}),Object(q.jsx)(w.a,{children:Object(q.jsx)(k.a,{children:"Voulez-vous vraiment supprimer ce mod\xe8le ?"})}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return R(!1)},color:"primary",children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){return i(Xt(d))},disabled:""===d,color:"primary",autoFocus:!0,children:"OK"})]})]})]})},un=r.a.memo(sn),ln=n(85);var dn=function(e){var t=e.isEnregistre,n=e.action,r=e.disabled,o=Object(a.useState)(!0),i=Object(j.a)(o,2),c=i[0],s=i[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1],m=Object(a.useState)([]),p=Object(j.a)(m,2),f=p[0],x=p[1],O=Object(ke.b)(),h=function(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],o=function(e){(window.navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&83===e.keyCode?(e.preventDefault(),r(!0),setInterval((function(){r(!1)}),500)):r(!1)};return Object(a.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}})),n}();De(!t),Object(a.useEffect)((function(){return s(!0)}),[t]);var g=Object(a.useCallback)((function(){t||r||O(n).then((function(e){"rejected"===e.meta.requestStatus&&"Request failed with status code 405"===e.error.message&&(0===f.length&&Object(ne.w)().then((function(e){x(e.data)})),b(!0))}))}),[O,n,t,r,f]);return Object(a.useEffect)((function(){h&&g()}),[h,g]),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Me,{severity:t?"success":"warning",message:t?"Enregistr\xe9":"Enregistrer les modifications",actionName:t?null:"Enregistrer",action:function(){t||g()},disabled:r,open:c,handleClose:function(){t&&s(!1)},pos:"left"}),Object(q.jsxs)(C.a,{open:d,onClose:function(){return b(!1)},children:[Object(q.jsx)(y.a,{children:"Attention"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)(k.a,{children:"Apr\xe8s v\xe9rification, le sujet que vous voulez modifier est d\xe9ja associ\xe9 \xe0 une architecture, que voulez-vous faire ?"}),f.map((function(e,t){return Object(q.jsxs)("div",{style:{display:"flex"},children:[Object(q.jsx)("p",{style:{margin:"auto 0"},children:e.nom_promo}),Object(q.jsx)(v.a,{onClick:function(){return function(e){Object(ne.k)(e.id_promo);var t=Object(ln.a)(f);t.splice(f.indexOf(e),1),x(t)}(e)},size:"small",variant:"contained",style:{marginLeft:20},children:"Supprimer l'association"})]},t)}))]}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return b(!1)},color:"primary",children:"Abandonner"}),Object(q.jsx)(v.a,{onClick:function(){g(),b(!1)},disabled:f.length>0,color:"primary",autoFocus:!0,children:"Enregistrer"})]})]})]})},bn=r.a.memo(dn),jn=function(){var e=Object(ke.c)(ge),t=Object(ke.c)(rn),n=Object(ke.c)(Oe);return Object(q.jsx)(bn,{isEnregistre:e,action:re({tab:n,idModele:t}),disabled:n.some((function(e){return e.modif}))||n.some((function(e){return e.tabFormule.some((function(e){return e.modif}))}))})},mn=r.a.memo(jn);function pn(){var e=Object(m.a)((function(){return{hr:{width:"80%",marginBottom:"2%"},fab:{marginLeft:"3%",marginBottom:"2%"}}}))(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],o=n[1],i=Object(ke.b)(),c=Object(ke.c)(ve),s=Object(ke.c)(he),u=Object(ke.c)(ge),l=Object(ke.c)(rn);qe((function(){u||(null===l?o(!0):i(ae(l)))})),De(!u);return null===l?Object(q.jsx)(un,{tard:!1,setClose:function(){return o(!1)},open:r}):s?Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"FORMULES"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(f.a,{className:e.fab,disabled:c>=30,size:"small",color:"primary","aria-label":"add",onClick:function(){return i(se())},children:Object(q.jsx)(g.a,{})}),Array(c).fill(0).map((function(e,t){return Object(q.jsx)(Te,{index:t,length:c},t)})),Object(q.jsx)(mn,{})]}):Object(q.jsx)(O.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var fn=n(134),xn=n.n(fn);function On(){return Object(q.jsx)(xn.a,{style:{position:"absolute",opacity:"0.6",top:0},height:"100vh",width:"100%",params:{particles:{number:{value:35,density:{enable:!0,value_area:1969.2792437967696}},color:{value:"#043f4f"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:6},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:4,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:126.03387160299326,color:"#00ff74",opacity:1,width:1.7329657345411573},move:{enable:!0,speed:.8,direction:"bottom-left",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:1024.0252067743202,rotateY:945.2540370224496}}}}})}function hn(){var e=Object(ke.b)(),t=Object(ke.c)(rn),n=Object(ke.c)(bt),a=Object(ke.c)(ge),r=Object(ke.c)(St),o=Object(ke.c)(Ht);return qe((function(){null!==t&&(a||e(ae(t)),n||e($e(t)),r||e(pt(t)),o||e(It()))})),Object(q.jsx)("div",{children:Object(q.jsx)(On,{})})}var gn,vn=n(79),Cn=n(250),yn=n(225),wn=n.n(yn),kn=n(224);function Nn(e){var t=Object(m.a)((function(e){return{divDrop:Object(B.a)({"&:hover":{backgroundColor:e.palette.secondary.light},border:"dashed 2px",borderColor:e.palette.primary.main,textAlign:"center",cursor:"pointer",padding:"0 2%",width:"40%",minWidth:"250px",margin:"auto",height:175,position:"relative",zIndex:10},e.breakpoints.down("sm"),{width:"90%",marginBottom:"2%"}),cloudIcon:{fontSize:"400%"}}}))(),n=Object(a.useCallback)((function(t){t.forEach(function(){var t=Object(ee.a)(Z.a.mark((function t(n){var a;return Z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.compressImage){t.next=8;break}return t.next=3,Object(kn.a)(n,{maxSizeMB:1,maxWidthOrHeight:800,useWebWorker:!0});case 3:return a=t.sent,t.next=6,e.changeFile(a);case 6:t.next=9;break;case 8:e.changeFile(n);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[e]),r=Object(Cn.a)({onDrop:n,accept:e.typeFile,maxFiles:1}),o=r.acceptedFiles,i=r.getRootProps,c=r.getInputProps,s=o.map((function(e){return Object(q.jsx)("p",{children:e.path.length>20?e.path.substring(0,20)+"...":e.path},e.path)}));return Object(q.jsxs)("div",Object(vn.a)(Object(vn.a)({},i()),{},{className:t.divDrop,children:[Object(q.jsx)("input",Object(vn.a)({},c())),Object(q.jsx)("p",{children:e.message}),Object(q.jsx)(wn.a,{className:t.cloudIcon}),s]}))}function Fn(){var e=Object(m.a)((function(e){return{root:{paddingBottom:"2%"},hr:{width:"80%",marginBottom:"2%"},divImportModele:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",width:"80%",margin:"auto",padding:"2%"},divDropModele:Object(B.a)({display:"flex",justifyContent:"space-around"},e.breakpoints.down("sm"),{flexWrap:"wrap"}),divNumSujet:{display:"flex",justifyContent:"center",marginTop:"3%"},saveButton1:{display:"block",margin:"20px auto"},saveButton2:{marginLeft:20},button:{marginLeft:20},buttonVariable:{display:"block",margin:"0 auto 2%"}}}))(),t=Object(a.useState)(""),n=Object(j.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(""),c=Object(j.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)(""),d=Object(j.a)(l,2),b=d[0],f=d[1],x=Object(a.useState)(""),O=Object(j.a)(x,2),h=O[0],g=O[1];return Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(p.a,{variant:"h1",children:"Architecture"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(v.a,{className:e.buttonVariable,variant:"contained",color:"primary",onClick:function(){Object(ne.B)()},children:"R\xe9cupere la liste des variables d'architecture"}),Object(q.jsxs)("div",{children:[Object(q.jsx)(Nn,{typeFile:".xlsx",compressImage:!1,changeFile:function(e){return g(e)},message:"Charger la liste des architectures"}),Object(q.jsx)(v.a,{className:e.saveButton1,disabled:""===h,variant:"contained",color:"primary",onClick:function(){return function(){var e=new FormData;e.append("excel",h),Object(ne.a)(e)}()},children:"Enregistrer"})]}),Object(q.jsxs)("div",{className:e.divImportModele,children:[Object(q.jsxs)("div",{className:e.divDropModele,children:[Object(q.jsx)(Nn,{typeFile:"image/*",compressImage:!1,changeFile:function(e){return u(e)},message:"Importer la PREMIERE image du mod\xe8le 3D"}),Object(q.jsx)(Nn,{typeFile:"image/*",compressImage:!0,changeFile:function(e){return f(e)},message:"Importer la SECONDE image du mod\xe8le 3D"})]}),Object(q.jsxs)("div",{className:e.divNumSujet,children:[Object(q.jsx)(z.a,{autoFocus:!0,size:"small",label:"Num\xe9ro du sujet",variant:"outlined",required:!0,value:r,onChange:function(e){return function(e){isNaN(e.target.value)||o(e.target.value)}(e)}}),Object(q.jsx)(v.a,{className:e.saveButton2,disabled:""===s||""===b||""===r,variant:"contained",color:"primary",onClick:function(){return function(){var e=new FormData;e.append("image1",s),e.append("image2",b),Object(ne.c)({sujet:r,images:e})}()},children:"Enregistrer"})]})]})]})}var En,Pn=Object(te.b)("promo/getEtudiants",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.u)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Rn=Object(te.b)("promo/getAllPromo",Object(ee.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.p)();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Sn=Object(te.b)("promo/addPromo",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.e)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Qn=Object(te.b)("promo/remove",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.j)(t.idPromo);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),An=Object(te.c)({name:"promo",initialState:{tabPromo:[],tabEtudiants:[],idPromo:void 0,enregistre:!1},reducers:{setEtudiantsForTests:function(e){e.tabEtudiants=[{id:0,prenom:"Florian",nom:"TORIBIO",avancement:10,note:4},{id:1,prenom:"Raphael",nom:"GAUTHIER",avancement:80,note:17},{id:2,prenom:"L\xe9ana",nom:"RENON",avancement:50,note:16},{id:5,prenom:"L\xe9o",nom:"MERCIER",avancement:40,note:11},{id:9,prenom:"Sylvain",nom:"FREDIANI",avancement:90,note:16},{id:15,prenom:"Test",nom:"TEST",avancement:100,note:20}]},setIdPromo:function(e,t){e.idPromo=t.payload}},extraReducers:(gn={},Object(B.a)(gn,Pn.fulfilled,(function(e,t){e.tabEtudiants=[],t.payload.forEach((function(t){e.tabEtudiants.push({id:t.id_auth,prenom:t.prenom,nom:t.nom,avancement:50,note:16})}))})),Object(B.a)(gn,Rn.fulfilled,(function(e,t){var n=[];t.payload.forEach((function(e){return n.push({idPromo:e.id_promo,nom:e.nom_promo})})),e.tabPromo=n,e.enregistre=!0})),gn)}),Mn=An.actions,In=(Mn.setEtudiantsForTests,Mn.setIdPromo),zn=function(e){return e.promo.tabEtudiants},Un=function(e){return e.promo.idPromo},Tn=function(e){return e.promo.tabPromo},qn=function(e){return e.promo.enregistre},Dn=An.reducer,Ln=n(577),Bn=n(633),_n=n(634),Wn=n(635),Vn=n(636),Jn=n(637),Gn=n(638),Hn=n(653),Kn=Object(te.b)("correction/getReponsesCorDB",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.y)(t.idPromo,t.idEtudiant);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Yn=Object(te.b)("correction/getEssaisDB",function(){var e=Object(ee.a)(Z.a.mark((function e(t){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ne.s)(t.idEtudiant);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Xn=Object(te.c)({name:"consulter",initialState:{etudiant:{id_promo:void 0,nom:"",prenom:"",id_etudiant:void 0},tabEssais:void 0,tabReponsesJustes:void 0,message:""},reducers:{changeReponseJuste:function(e,t){var n=t.payload,a=n.indexE,r=n.indexQ,o=n.indexR;e.tabEssais[a].tabQuestions[r].tabReponses[o].justeProf=!e.tabEssais[a].tabQuestions[r].tabReponses[o].justeProf},setEssaisForTest:function(e){e.tabEssais=[{dateEssai:"05/01/2020",corrige:!1,tabQuestions:[{num:1,justif:"Scotland Forever\udb40\udc67\udb40\udc62",commentProf:"",note:"",tabReponses:[{justeApp:!0,justeProf:!1,value:12,unite:"N^12",ecart:"0.3"}]}]},{dateEssai:"05/01/2020",corrige:!1,tabQuestions:[{num:1,justif:"",commentProf:"",note:"",tabReponses:[{justeApp:!1,justeProf:!1,value:11,unite:"N^11",ecart:"1.3"}]}]}]},changeMessage:function(e,t){e.message=t.payload},changeCommentaire:function(e,t){var n=t.payload,a=n.indexE,r=n.indexQ,o=n.commentaire;e.tabEssais[a].tabQuestions[r].commentProf=o},changeNote:function(e,t){var n=t.payload,a=n.indexE,r=n.indexQ,o=n.note;(!isNaN(o)&&o<=100&&o>=0||""===o)&&(e.tabEssais[a].tabQuestions[r].note=o)},setCorrigeTrue:function(e,t){var n=t.payload;e.tabEssais[n].corrige=!0},setEtudiantConsulter:function(e,t){var n=t.payload,a=n.id_promo,r=n.id_etudiant,o=n.prenom,i=n.nom;e.etudiant={id_promo:a,id_etudiant:r,prenom:o,nom:i}},setAvisApplication:function(e){e.tabEssais.forEach((function(t){t.tabQuestions.forEach((function(t){var n=T.a.find(e.tabReponsesJustes,(function(e){return e.num===t.num}));n.tabReponses.forEach((function(e){var n=T.a.find(t.tabReponses,(function(t){return!t.justeApp&&t.value>=e.value*(1-e.margeErreur/100)&&t.value<=e.value*(1+e.margeErreur/100)}));void 0!==n&&(n.justeApp=!0,n.ecart=Math.abs(n.value-e.value))})),T.a.filter(t.tabReponses,(function(e){return!e.justeApp})).forEach((function(e){var t=void 0;n.tabReponses.forEach((function(n){t=void 0===t?Math.abs(e.value-n.value):Math.min(t,Math.abs(e.value-n.value))})),e.ecart=t}))}))}))}},extraReducers:(En={},Object(B.a)(En,Kn.fulfilled,(function(e,t){e.tabReponsesJustes=[],t.payload.forEach((function(t){var n=e.tabReponsesJustes.push({contenu:t.contenu,num:t.id_question,tabReponses:[]})-1;t.reponses.forEach((function(t){e.tabReponsesJustes[n].tabReponses.push({value:t.value,margeErreur:t.margeErreur,tabUnites:t.tabUnites})}))}))})),Object(B.a)(En,Kn.rejected,(function(e,t){e.tabReponsesJustes=void 0})),Object(B.a)(En,Yn.fulfilled,(function(e,t){var n=t.payload;e.tabEssais=[],n.forEach((function(t){var n=T.a.find(e.tabEssais,(function(e){return e.dateEssai===t.date}));if(void 0===n){var a=e.tabEssais.push({corrige:!1,dateEssai:t.date,tabQuestions:[]});n=e.tabEssais[a-1]}var r=n.tabQuestions.push({justif:"",commentProf:"",note:"",num:t.id_question,tabReponses:[]})-1,o=n.tabQuestions[r];t.reponses.forEach((function(e){o.tabReponses.push({justeApp:!1,justeProf:!1,ecart:"",value:e.value,unite:e.tabUnites})}))}))})),Object(B.a)(En,Yn.rejected,(function(e,t){e.tabEssais=void 0})),En)}),$n=Xn.actions,Zn=($n.setEssaisForTest,$n.changeReponseJuste),ea=$n.changeMessage,ta=$n.changeCommentaire,na=$n.changeNote,aa=$n.setCorrigeTrue,ra=$n.setEtudiantConsulter,oa=$n.setAvisApplication,ia=function(e){return e.consulter.tabEssais},ca=function(e){return e.consulter.message},sa=function(e){return e.consulter.tabReponsesJustes},ua=function(e){return e.consulter.etudiant},la=Xn.reducer;function da(){var e=Object(m.a)((function(){return{linkConsulter:{textDecoration:"none",color:"white"}}}))(),t=Object(ke.b)(),n=Object(a.useState)(0),r=Object(j.a)(n,2),o=r[0],i=r[1],s=Object(ke.c)(zn),u=Object(ke.c)(Un),l=[{id:"nom",label:"Nom",minWidth:170},{id:"prenom",label:"Pr\xe9nom",minWidth:170},{id:"avancement",label:"Avancement",minWidth:170,align:"right"},{id:"note",label:"Note actuelle",minWidth:170,align:"right"},{id:"sujet",label:"Sujet de l'\xe9leve",minWidth:170,align:"right"}],d=l[l.length-1],b=function(e){var t;switch(e){case"note":t="/20";break;case"avancement":t="%";break;default:t=""}return t};return Object(q.jsxs)(Ln.a,{children:[Object(q.jsx)(Bn.a,{children:Object(q.jsxs)(_n.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(q.jsx)(Wn.a,{children:Object(q.jsx)(Vn.a,{children:l.map((function(e){return Object(q.jsx)(Jn.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(q.jsx)(Gn.a,{children:s.slice(10*o,10*o+10).map((function(n){return Object(q.jsx)(Vn.a,{hover:!0,tabIndex:-1,children:l.map((function(a){return"sujet"!==a.id?Object(q.jsxs)(Jn.a,{align:a.align,children:[n[a.id],b(a.id)]},a.id):Object(q.jsx)(Jn.a,{align:d.align,children:Object(q.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(e){var a;t(ra({id_promo:u,id_etudiant:(a=n).id,prenom:a.prenom,nom:a.nom}))},children:Object(q.jsx)(c.b,{className:e.linkConsulter,to:"/prof/correction/"+n.id,children:"Consulter"})})},"sujet")}))},n.nom)}))})]})}),Object(q.jsx)(Hn.a,{rowsPerPageOptions:[],component:"div",count:s.length,rowsPerPage:10,page:o,onChangePage:function(e,t){i(t)}})]})}function ba(){var e=Object(m.a)((function(){return{hr:{width:"80%",marginBottom:"2%"},divTable:{width:"90%",margin:"0 auto 2% auto",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},choixPromoDiv:{width:"200px",margin:"auto"},choixPromoField:{width:"100%"}}}))(),t=Object(ke.c)(Un),n=Object(ke.c)(qn),a=Object(ke.c)(Tn),r=Object(ke.b)();qe((function(){n||r(Rn())}));return Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"Correction"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)("div",{className:e.choixPromoDiv,children:Object(q.jsx)(z.a,{select:!0,value:t,onChange:function(e){return function(e){r(In(e.target.value)),r(Pn(e.target.value))}(e)},className:e.choixPromoField,helperText:"Choisissez la promotion",children:a.map((function(e){return Object(q.jsx)(Ke.a,{value:e.idPromo,children:e.nom},e.idPromo)}))})}),void 0!==t?Object(q.jsx)("div",{className:e.divTable,children:Object(q.jsx)(da,{})}):null]})}var ja=n(136),ma=n.n(ja);n(205);function pa(e){var t=e.index,n=e.handleChange,a=Object(m.a)((function(){return{divQuestion:{display:"block",margin:"auto",width:"100%",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.3)"}}}))(),r=Object(ke.c)(function(e){return function(t){return t.enonce.question[e].contenu}}(t));return Object(q.jsx)("div",{className:a.divQuestion,children:Object(q.jsx)(ma.a,{defaultValue:r,onChange:n,setOptions:{buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["table","list"],["removeFormat"]]},lang:"fr",placeholder:"Tapez votre question ici...",height:"200",setDefaultStyle:"background-color: lightgrey"})})}function fa(e){return Object(q.jsx)("div",{children:e.map((function(e,t){return Object(q.jsxs)("var",{children:[e.abr,Object(q.jsxs)("sup",{children:[" ",1!==e.puissance&&" "!==e.abr?e.puissance:null," "]})]},t)}))})}var xa=n(640),Oa=n(226),ha=n.n(Oa);function ga(e){var t=Object(m.a)((function(e){return{alignementHorizontal:{display:"flex",flexDirection:"row",justifyContent:"center",columnGap:"20px",alignItems:"center",flexWrap:"wrap"},buttonDelete:{color:e.palette.error.main,"&:hover":{color:e.palette.error.dark}},buttonGap:{display:"flex",justifyContent:"center",columnGap:"10px"},choixInput:{marginBottom:"10px"},puissance:{width:"40px"}}}))(),n=Object(a.useState)(!1),r=Object(j.a)(n,2),o=r[0],i=r[1],c=Object(a.useState)([{abr:"",puissance:1}]),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(ke.b)(),b=Object(ke.c)(Vt);qe((function(){0===b.length&&d(It())}));var p=function(e,t){var n=Object(ln.a)(u);n[e].puissance=t,l(n)},f=function(){T.a.remove(u,(function(e){return""===e.abr})),0===u.length&&u.push({abr:"",puissance:1})},x=function(e,n){return Object(q.jsxs)("div",{className:t.choixInput,children:[Object(q.jsx)("div",{className:t.buttonGap,children:u.length>1?Object(q.jsx)(Re.a,{className:t.buttonDelete,size:"small",onClick:function(e){return function(e){var t=Object(ln.a)(u);t.splice(e,1),l(t)}(n)},children:Object(q.jsx)(J.a,{})}):null}),Object(q.jsx)(z.a,{select:!0,value:e.abr,onChange:function(e){return function(e,t){var n=Object(ln.a)(u);n[e].abr=t.target.value,l(n)}(n,e)},children:b.map((function(e){return Object(q.jsx)(Ke.a,{value:e.abrev,children:e.nom},e.abrev)}))}),""!==e.abr?Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(z.a,{value:e.puissance,className:t.puissance,onChange:function(e){return function(e,t){var n=t.target.value;(!isNaN(n)&&Math.abs(n)<100||"-"===n)&&p(e,n)}(n,e)},onBlur:function(e){return function(e){var t=u[e].puissance;0!==parseInt(t)&&"-"!==t&&""!==t||p(e,1)}(n)},InputProps:{startAdornment:Object(q.jsx)(xa.a,{position:"start",children:"^"})}})}):null]})};return Object(q.jsxs)(C.a,{open:e.open,maxWidth:"lg",fullWidth:!1,children:[void(e.open&&!o?(l(T.a.cloneDeep(e.unite)),i(!0)):!e.open&&o&&i(!1)),Object(q.jsx)(y.a,{className:t.alignementHorizontal,children:"Choix de l'unit\xe9"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)("div",{className:t.alignementHorizontal,children:u.map((function(e,t){return Object(q.jsx)("div",{children:x(e,t)},t)}))}),Object(q.jsxs)("div",{className:t.alignementHorizontal,children:[Object(q.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){var e=[].concat(Object(ln.a)(u),[{abr:"",puissance:1}]);l(e)},disabled:u.length>=6,children:"Ajouter Unite"}),Object(q.jsx)(Re.a,{size:"small",color:"primary",onClick:function(){l([{abr:"",puissance:1}])},title:"remettre \xe0 0",children:Object(q.jsx)(ha.a,{})})]})]}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){e.handleClose()},children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){f(),e.setTabUnite(u),e.handleClose()},children:"Appliquer"})]})]})}var va=n(659),Ca=function(e){var t=e.indexQuestion,n=e.indexReponse,r=Object(m.a)((function(){return{divSlideBar:{width:"70%",margin:"5% auto 0 auto"}}}))(),o=Object(ke.b)(),i=Object(ke.c)(function(e,t){return function(n){return n.enonce.question[e].reponse[t].margeErreur}}(t,n)),c=Object(a.useCallback)((function(e){o(vt({indexQuestion:t,indexReponse:n,marge:e}))}),[o,t,n]);return Object(q.jsxs)("div",{className:r.divSlideBar,children:[Object(q.jsx)(p.a,{variant:"caption",gutterBottom:!0,children:"Marge d'erreur autoris\xe9e"}),Object(q.jsx)(va.a,{defaultValue:i,marks:[{value:0,label:"0%"},{value:100,label:"100%"}],step:5,min:0,max:100,onChangeCommitted:function(e,t){return c(t)},valueLabelDisplay:"auto","aria-labelledby":"discrete-slider-always"})]})},ya=r.a.memo(Ca),wa=function(e){var t=e.indexReponse,n=e.indexQuestion,r=Object(m.a)((function(e){return{divReponse:{marginTop:20,display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"0 1%",border:"solid 1px",borderColor:e.palette.primary.light,borderRadius:3,padding:"2% 1% 2% 2%"},select:{width:200,maxHeight:"38px !important",top:26},divUniteMarge:{height:40,position:"relative",margin:"auto",gridColumn:3,marginLeft:"15%"},affichageUnite:{textAlign:"center",position:"relative",bottom:10},divMarge:{gridColumn:4},buttonAjouterUnite:{display:"block",backgroundColor:e.palette.primary.light},center:{textAlign:"center"}}}))(),o=Object(ke.c)(he),i=Object(ke.b)(),c=Object(a.useState)(!1),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(ke.c)(function(e,t){return function(n){return n.enonce.question[e].reponse[t]}}(n,t)),b=Object(ke.c)(Oe),p=Object(a.useCallback)((function(e){i(Ft({idQuestion:n,idReponse:t,value:e.target.value,formule1:b[e.target.value].tabFormule[0].nomFormule}))}),[i,n,t,b]),f=Object(a.useCallback)((function(e){i(Et({idQuestion:n,idReponse:t,value:e.target.value}))}),[i,n,t]);return Object(q.jsxs)("div",{className:r.divReponse,children:[Object(q.jsx)(Ge.a,{className:r.select,value:d.selectCat,onChange:function(e){return p(e)},input:Object(q.jsx)(He.a,{}),children:o?b.map((function(e,t){return Object(q.jsx)(Ke.a,{value:t,children:e.nom},t)})):Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}})}),Object(q.jsx)(Ge.a,{className:r.select,value:d.selectForm,onChange:function(e){return f(e)},input:Object(q.jsx)(He.a,{}),children:void 0===b[d.selectCat]?null:b[d.selectCat].tabFormule.map((function(e,t){return Object(q.jsx)(Ke.a,{value:e.nomFormule,children:e.nomFormule},t)}))}),Object(q.jsxs)("div",{className:r.divUniteMarge,children:[Object(q.jsx)(v.a,{variant:"contained",className:r.buttonAjouterUnite,onClick:function(){return l(!0)},children:"Choisir les unit\xe9s"}),Object(q.jsx)("div",{className:r.center,children:fa(d.unite)})]}),Object(q.jsx)(ga,{open:u,handleClose:function(){return l(!1)},unite:d.unite,setTabUnite:function(e){return i(Nt({idQuestion:n,idReponse:t,tabUnite:e}))}}),Object(q.jsx)("div",{className:r.divMarge,children:Object(q.jsx)(ya,{indexQuestion:n,indexReponse:t},t)})]},t)},ka=r.a.memo(wa),Na=function(e){var t=e.index,n=Object(m.a)((function(e){return{divListeReponses:{width:"100%",marginTop:"1%"},buttonSupprimerReponse:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},"&:disabled":{backgroundColor:e.palette.secondary.main},position:"absolute",right:"2.5%"},accordionDetails:{display:"flex",flexDirection:"column",justifyContent:"space-around"},divReponse:{marginTop:20}}}))(),r=Object(ke.b)(),o=Object(ke.c)(ge),i=Object(ke.c)(function(e){return function(t){return t.enonce.question[e].reponse}}(t)),c=Object(a.useState)(!0),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(ke.c)(function(e){return function(t){return t.enonce.question[e].reponse.length}}(t)),b=Object(ke.c)(Ce),p=Object(a.useCallback)((function(){r(kt({id:t,formule1:b}))}),[r,t,b]),x=Object(a.useCallback)((function(e){r(gt({indexQuestion:t,indexReponse:e}))}),[r,t]);return Object(q.jsx)("div",{className:n.divListeReponses,children:Object(q.jsxs)(F.a,{square:!0,expanded:u,onChange:function(){return l(!u)},children:[Object(q.jsxs)(E.a,{expandIcon:Object(q.jsx)(I.a,{}),children:["R\xe9ponses \xe0 la question ",t+1]}),Object(q.jsxs)(P.a,{className:n.accordionDetails,children:[Object(q.jsx)(v.a,{disabled:i.length>=10,variant:"contained",color:"primary",onClick:function(){return p()},children:"Ajouter une r\xe9ponse"}),o?Array(d).fill(0).map((function(e,a){return Object(q.jsxs)("div",{className:n.divReponse,children:[Object(q.jsx)(f.a,{className:n.buttonSupprimerReponse,size:"small","aria-label":"delete",disabled:1===i.length,onClick:function(){return x(a)},children:Object(q.jsx)(J.a,{})}),Object(q.jsx)(ka,{indexReponse:a,indexQuestion:t},a)]},a)})):Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}})]})]})})},Fa=r.a.memo(Na),Ea=function(e){var t=e.handleChange,n=e.value;return Object(q.jsx)("div",{children:Object(q.jsx)(ma.a,{onChange:t,defaultValue:n,setOptions:{buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["table","list"],["removeFormat"],["outdent","indent"],["fullScreen"]]},lang:"fr",placeholder:""===n?null:"Tapez votre \xe9nonc\xe9 ici...",height:"300",setDefaultStyle:"background-color: lightgrey"})})},Pa=function(){var e=Object(ke.c)(St),t=Object(ke.c)(rn),n=Object(ke.c)(Pt);return Object(q.jsx)(bn,{isEnregistre:e,action:ft({idModele:t,enonce:n.enonceContenu,tabQuestions:n.question})})},Ra=r.a.memo(Pa);function Sa(){var e=Object(a.useState)(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(m.a)((function(e){return{hr:{width:"80%",marginBottom:"2%"},enonceSujet:{width:"70%",margin:"auto"},divQuestion:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",width:"80%",margin:"40px auto",padding:"1% 2% 2%"},divQuestionReponse:{marginTop:40,display:"flex",justifyContent:"space-around",flexWrap:"wrap"},buttonAddQuestion:{display:"block",margin:"50px auto"},fabDelete:{float:"right",marginLeft:20,color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}}}}))(),i=Object(ke.b)(),c=Object(ke.c)(rn),s=Object(ke.c)(Rt),u=Object(ke.c)(St),l=Object(ke.c)(ge),d=Object(ke.c)(Ce),b=Object(ke.c)(Qt),x=Object(ke.c)(At),h=Object(ke.c)(ye);qe((function(){u||(null===c&&r(!0),l||i(ae(c)),u||i(pt(c)))})),Object(a.useEffect)((function(){h&&i(ae(c))}),[h,i,c]),De(!u);var g=Object(a.useCallback)((function(e){i(yt(e))}),[i]);return null===c?Object(q.jsx)(un,{tard:!1,setClose:function(){return r(!1)},open:n}):s?Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"\xe9nonc\xe9"}),Object(q.jsx)("hr",{className:o.hr}),Object(q.jsx)("div",{className:o.enonceSujet,children:Object(q.jsx)(Ea,{value:x,handleChange:function(e){return i(ht(e))}})}),Array(b).fill(0).map((function(e,t){return Object(q.jsxs)("div",{className:o.divQuestion,children:[Object(q.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(q.jsxs)("p",{style:{fontSize:"200%",margin:"auto 0"},children:["Question ",t+1]}),Object(q.jsx)(f.a,{className:o.fabDelete,size:"small","aria-label":"delete",disabled:1===b,onClick:function(){return g()},children:Object(q.jsx)(J.a,{})})]}),Object(q.jsxs)("div",{className:o.divQuestionReponse,children:[Object(q.jsx)(pa,{index:t,handleChange:function(e){return i(wt({contenu:e,index:t}))}}),Object(q.jsx)(Fa,{index:t,idModele:c})]})]},t)})),Object(q.jsx)(v.a,{disabled:b>=20,className:o.buttonAddQuestion,variant:"contained",color:"primary",onClick:function(){return i(Ct(d))},children:"Ajouter une question"}),Object(q.jsx)(Ra,{})]}):Object(q.jsx)(O.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var Qa=n(154),Aa=n.n(Qa),Ma=function(e){var t=e.index,n=Object(m.a)((function(){return{root:{width:120}}}))(),r=Object(ke.b)(),o=Object(ke.c)(function(e){return function(t){return t.variableAleatoire.tab[e].precision}}(t)),i=function(e){return 0!==e?"10^".concat(e):0},c=Object(a.useCallback)((function(e){r(it({index:t,precision:e}))}),[r,t]);return Object(q.jsxs)("div",{className:n.root,children:[Object(q.jsx)(va.a,{defaultValue:o,min:-6,step:1,max:6,getAriaValueText:i,valueLabelFormat:i,onChangeCommitted:function(e,t){return c(t)},valueLabelDisplay:"auto","aria-labelledby":"non-linear-slider"}),Object(q.jsx)(p.a,{gutterBottom:!0,children:"Pr\xe9cision"})]})},Ia=r.a.memo(Ma),za=function(e){var t=e.index,n=e.length,r=e.onRemove,o=Object(m.a)((function(e){return{typo:{marginTop:8},containerVariables:Object(B.a)({display:"grid",gridTemplateColumns:"0.25fr 1fr 0.10fr 0.5fr 0.5fr 0.5fr 0.25fr",gridTemplateRows:"1fr",gap:"0px 30px",margin:"auto",width:"90%",marginTop:"3%"},e.breakpoints.down("sm"),{gap:"0px 12px",width:"95%",marginTop:"5%"}),center:{margin:"auto",display:"block"},fabDelete:{backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},color:"white"},fabSave:{backgroundColor:e.palette.primary.light},fabModif:{backgroundColor:e.palette.primary.light}}}))(),i=Object(ke.b)(),c=Object(ke.c)(function(e){return function(t){return t.variableAleatoire.tab[e]}}(t)),s=Object(a.useCallback)((function(){i(rt(t)),r()}),[i,t,r]),u=Object(a.useCallback)((function(){return i(ot(t))}),[i,t]);return Object(q.jsxs)("div",{className:o.containerVariables,children:[c.modif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{className:o.fabSave,size:"small","aria-label":"add",disabled:""===c.nom||parseFloat(c.min)>parseFloat(c.max),onClick:function(){return u()},children:Object(q.jsx)(S.a,{})}),Object(q.jsx)(D,{label:"Nom formule",delay:300,value:c.nom,onChange:function(e){return i(at({index:t,event:e}))}}),Object(q.jsx)(Aa.a,{fontSize:"large"}),Object(q.jsx)(D,{typeNumber:!0,label:"Min",delayTimeout:300,value:c.min,onChange:function(e){return i(ct({index:t,event:e}))}}),Object(q.jsx)(D,{typeNumber:!0,label:"Max",delayTimeout:300,value:c.max,onChange:function(e){return i(st({index:t,event:e}))}}),Object(q.jsx)(Ia,{index:t})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{className:o.fabModif,size:"small","aria-label":"add",onClick:function(){return u()},children:Object(q.jsx)(A.a,{})}),Object(q.jsx)(p.a,{className:o.typo,children:c.nom}),Object(q.jsx)(Aa.a,{fontSize:"large"}),Object(q.jsxs)(p.a,{align:"center",children:["Min ",Object(q.jsx)("br",{}),c.min]}),Object(q.jsxs)(p.a,{align:"center",children:["Max ",Object(q.jsx)("br",{}),c.max," "]}),Object(q.jsxs)(p.a,{align:"center",children:["Pr\xe9cision ",Object(q.jsx)("br",{}),"10^",c.precision]})]}),Object(q.jsx)(f.a,{className:o.fabDelete,disabled:n<=1,size:"small","aria-label":"add",onClick:function(){return s()},children:Object(q.jsx)(J.a,{className:o.center})})]})},Ua=r.a.memo(za),Ta=function(){var e=Object(ke.c)(lt),t=Object(ke.c)(rn),n=Object(ke.c)(bt);return Object(q.jsx)(bn,{isEnregistre:n,action:Ze({tab:e,idModele:t}),disabled:e.some((function(e){return e.modif}))})},qa=r.a.memo(Ta);function Da(){var e=Object(m.a)((function(e){return{root:{paddingBottom:"2%"},hr:{width:"80%",marginBottom:"2%"},fab:{marginLeft:"3%",marginBottom:"2%"},divItemvariable:Object(B.a)({boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"2% 3% 4% 3%",width:"80%",margin:"auto"},e.breakpoints.down("sm"),{width:"90%"})}}))(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),c=Object(j.a)(i,2),s=c[0],u=c[1],l=Object(ke.b)(),d=Object(ke.c)(jt),b=Object(ke.c)(bt),x=Object(ke.c)(dt),h=Object(ke.c)(rn);qe((function(){b||(null===h?u(!0):l($e(h)))}));return null===h?Object(q.jsx)(un,{tard:!1,setClose:function(){return u(!1)},open:s}):x?Object(q.jsxs)("div",{className:e.root,children:[Object(q.jsx)(p.a,{variant:"h1",children:"Variables al\xe9atoires"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(f.a,{className:e.fab,disabled:d>=75,size:"small",color:"primary","aria-label":"add",onClick:function(){return l(nt())},children:Object(q.jsx)(g.a,{})}),Object(q.jsxs)("div",{className:e.divItemvariable,children:[Array(d).fill(0).map((function(e,t){return Object(q.jsx)(Ua,{onRemove:function(){return o(!0)},length:d,index:t},t)})),Object(q.jsx)(Me,{message:"Variable supprim\xe9e",actionName:"RETOUR",action:function(){return l(ut()),void o(!1)},open:r,handleClose:function(){return o(!1)},pos:"right"})]}),Object(q.jsx)(qa,{})]}):Object(q.jsx)(O.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var La=n(137),Ba=n.n(La),_a=n(660),Wa=n(619),Va=n(641),Ja=n(580),Ga=n(642),Ha=n(643),Ka=n(230),Ya=n.n(Ka),Xa=n(97),$a=n.n(Xa),Za=n(96),er=n.n(Za),tr=n(629),nr=n(649),ar=n(227),rr=n.n(ar),or=n(229),ir=n.n(or),cr=n(228),sr=n.n(cr),ur=Object(m.a)((function(){return{boxReponses:{paddingBottom:0,paddingTop:0,backgroundColor:"#f2f2f2"},commentaire:{width:"100%"},noteTextField:{width:"30px"},noteInput:{textAlign:"center",fontWeight:"bold"}}}));function lr(e){var t,n=Object(ke.c)((t=e.indexEssai,function(e){return e.consulter.tabEssais[t]})),r=Object(ke.b)(),o=Object(a.useState)(!1),i=Object(j.a)(o,2),c=i[0],s=i[1];Object(a.useEffect)((function(){e.open&&(c||(r(oa()),s(!0)))}),[c,r,e.open]);var u=function(){s(!1),e.setOpen(!1)};return void 0===n?null:Object(q.jsxs)(C.a,{open:e.open,maxWidth:"md",fullWidth:!0,onClose:u,children:[Object(q.jsxs)(y.a,{children:["Essai du ",Ba()(n.dateEssai).format("DD/MM/YYYY")]}),Object(q.jsx)(w.a,{children:Object(q.jsx)(Bn.a,{component:Ln.a,children:Object(q.jsxs)(_n.a,{children:[Object(q.jsx)(Wn.a,{children:Object(q.jsxs)(Vn.a,{children:[Object(q.jsx)(Jn.a,{align:"center"}),Object(q.jsx)(Jn.a,{align:"center",children:"Num\xe9ro Question"}),Object(q.jsx)(Jn.a,{align:"center",children:"R\xe9ponses Justes"}),Object(q.jsx)(Jn.a,{align:"center",children:"R\xe9ponses Attendues"}),Object(q.jsx)(Jn.a,{align:"center",children:"Question Juste?"}),Object(q.jsx)(Jn.a,{align:"center",title:"Attention, cette note est \xe0 titre indicatif et ne concerne que cet essai",children:"Votre Note"})]})}),Object(q.jsx)(Gn.a,{children:n.tabQuestions.map((function(t,n){return Object(q.jsx)(br,{question:t,indexQuestion:n,indexEssai:e.indexEssai})}))})]})})}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){r(aa(e.indexEssai)),u()},children:"Appliquer la correction"}),Object(q.jsx)(v.a,{onClick:u,children:"Fermer"})]})]})}var dr=function(e){return e.juste?Object(q.jsx)($a.a,{}):Object(q.jsx)(rr.a,{})},br=function(e){var t,n=ur(),r=Object(a.useState)(!1),o=Object(j.a)(r,2),i=o[0],c=o[1],s=Object(ke.b)(),u=Object(ke.c)((t=e.question.num,function(e){return T.a.find(e.consulter.tabReponsesJustes,(function(e){return e.num===t}))})),l=function(t){s(ta({indexE:e.indexEssai,indexQ:e.indexQuestion,commentaire:t.target.value}))},d=function(){var t=0;return e.question.tabReponses.forEach((function(e){e.justeProf&&t++})),t},b=function(t,n,a){return Object(q.jsx)(Re.a,{onClick:function(a){return function(t,n){s(Zn({indexE:e.indexEssai,indexQ:t,indexR:n}))}(t,n)},children:Object(q.jsx)(dr,{juste:a})})};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Vn.a,{children:[Object(q.jsx)(Jn.a,{align:"center",children:Object(q.jsx)(Re.a,{onClick:function(){return c(!i)},children:i?Object(q.jsx)(sr.a,{}):Object(q.jsx)(ir.a,{})})}),Object(q.jsx)(Jn.a,{align:"center",children:e.indexQuestion+1}),Object(q.jsx)(Jn.a,{align:"center",children:d()}),Object(q.jsx)(Jn.a,{align:"center",children:u.tabReponses.length}),Object(q.jsx)(Jn.a,{align:"center",children:Object(q.jsx)(dr,{juste:e.question.tabReponses.length===u.tabReponses.length&&d()===u.tabReponses.length})}),Object(q.jsx)(Jn.a,{align:"center",children:Object(q.jsx)(z.a,{className:n.noteTextField,align:"center",onChange:function(t){return n=t,void s(na({indexE:e.indexEssai,indexQ:e.indexQuestion,note:n.target.value}));var n},value:e.question.note,InputProps:{className:n.noteInput}})})]}),Object(q.jsx)(Vn.a,{children:Object(q.jsx)(Jn.a,{className:n.boxReponses,colSpan:6,children:Object(q.jsx)(tr.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(q.jsxs)(nr.a,{margin:1,children:[Object(q.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"Contenu de la question"}),er()(u.contenu),Object(q.jsx)(p.a,{variant:"h6",gutterBottom:!0,children:"Reponses"}),Object(q.jsxs)(_n.a,{size:"small",children:[Object(q.jsx)(Wn.a,{children:Object(q.jsxs)(Vn.a,{children:[Object(q.jsx)(Jn.a,{align:"center",children:"Valeur donn\xe9e"}),Object(q.jsx)(Jn.a,{align:"center",children:"Ecart avec la bonne valeur"}),Object(q.jsx)(Jn.a,{align:"center",children:"Conseil de l'application"}),Object(q.jsx)(Jn.a,{align:"center",children:"Votre avis"})]})}),Object(q.jsx)(Gn.a,{children:e.question.tabReponses.map((function(t,n){return Object(q.jsxs)(Vn.a,{children:[Object(q.jsx)(Jn.a,{align:"center",padding:"none",children:t.value}),Object(q.jsx)(Jn.a,{align:"center",padding:"none",children:t.ecart}),Object(q.jsx)(Jn.a,{align:"center",padding:"none",children:Object(q.jsx)(dr,{juste:t.justeApp})}),Object(q.jsx)(Jn.a,{align:"center",padding:"none",children:b(e.indexQuestion,n,t.justeProf)})]})}))})]}),""!==e.question.justif?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{variant:"h6",padding:5,children:"Justification de l'\xe9tudiant :"}),Object(q.jsx)("p",{children:e.question.justif})]}):Object(q.jsx)(p.a,{variant:"h6",children:"Pas de justification de l'\xe9tudiant"}),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(p.a,{variant:"h6",padding:5,children:"Vos commentaires sur ce travail :"}),Object(q.jsx)(z.a,{value:e.question.commentProf,onChange:l,multiline:!0,rows:4,variant:"outlined",placeholder:"\xc9crivez vos commentaires",className:n.commentaire})]})]})})})})]})};function jr(e){var t=Object(m.a)((function(){return{messageField:{width:"100%"}}}))(),n=function(){e.setOpen(!1)};return Object(q.jsxs)(C.a,{open:e.open,maxWidth:"md",fullWidth:!0,onClose:n,rows:4,children:[Object(q.jsx)(y.a,{children:Object(q.jsxs)(p.a,{variant:"h6",children:["Message adress\xe9 \xe0 ",e.destinataire]})}),Object(q.jsx)(w.a,{children:Object(q.jsx)(z.a,{className:t.messageField,autoFocus:!0,multiline:!0,rows:4,variant:"outlined",placeholder:"Saisissez votre message",onChange:function(t){return n=t,void e.handleChangeMessage(n.target.value);var n},value:e.message})}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:n,children:"Annuler"}),Object(q.jsx)(v.a,{onClick:function(){e.handleSend(),n()},children:"Envoyer"})]})]})}function mr(){var e=Object(m.a)((function(){return{messageBouton:{float:"right"}}}))(),t=Object(ke.b)(),n=Object(ke.c)(ia),r=Object(ke.c)(sa),o=Object(ke.c)(ca),i=Object(a.useState)(0),c=Object(j.a)(i,2),u=c[0],l=c[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),p=b[0],f=b[1],x=Object(a.useState)(!1),O=Object(j.a)(x,2),h=O[0],g=O[1],C=Object(ke.c)(ua);qe((function(){t(Kn({idPromo:C.id_promo,idEtudiant:C.id_etudiant})),t(Yn({idEtudiant:C.id_etudiant}))}));var y=function(e){var t=0;return n[e].tabQuestions.forEach((function(e){for(var n=T.a.findIndex(r,(function(t){return t.num===e.num})),a=e.tabReponses.length===r[n].tabReponses.length,o=0;a&&o<e.tabReponses.length;)a=e.tabReponses[o].justeProf,o++;a&&t++})),t};return void 0===C.id_etudiant?Object(q.jsx)(s.a,{to:"/prof/gestion-correction"}):Object(q.jsxs)("div",{children:[Object(q.jsxs)(v.a,{className:e.messageBouton,variant:"contained",color:"primary",onClick:function(){g(!0)},children:[Object(q.jsx)(Ya.a,{}),"Envoyer un message \xe0 l'\xe9tudiant"]}),Object(q.jsxs)("h1",{children:["Etudiant : ",C.prenom+" "+C.nom]}),void 0===n||void 0===r?null:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Wa.a,{children:[Object(q.jsx)(Va.a,{}),n.map((function(e,t){return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Ja.a,{button:!0,onClick:function(e){return function(e){l(e),f(!0)}(t)},children:[Object(q.jsx)(Ga.a,{primary:"Essai du "+Ba()(e.dateEssai).format("DD/MM/YYYY"),secondary:"Questions justes : "+y(t)+"/"+r.length}),Object(q.jsx)(Ha.a,{children:(n=e.corrige,n?Object(q.jsx)(_a.a,{color:"primary",children:Object(q.jsx)($a.a,{})}):Object(q.jsx)(_a.a,{color:"error",children:Object(q.jsx)(Ae.a,{})}))})]}),Object(q.jsx)(Va.a,{})]});var n}))]}),Object(q.jsx)(lr,{indexEssai:u,open:p,setOpen:f})]}),Object(q.jsx)(jr,{open:h,destinataire:C.prenom+" "+C.nom,setOpen:g,message:o,handleChangeMessage:function(e){t(ea(e))},handleSend:function(){}})]})}function pr(e){var t=e.open,n=e.setClose,r=e.selectPromo,o=Object(ke.c)(nn),i=Object(a.useState)(!1),c=Object(j.a)(i,2),s=c[0],u=c[1],l=Object(a.useState)(""),d=Object(j.a)(l,2),b=d[0],m=d[1];return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(C.a,{open:t,onClose:function(){return n()},children:[Object(q.jsx)(y.a,{children:"Association \xe0 un mod\xe8le"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)(k.a,{children:"Associer une promotion \xe0 un mod\xe9le (empechera par la suite de modifier le mod\xe8le) ?"}),Object(q.jsxs)(Ve.a,{style:{width:200},children:[Object(q.jsx)(Je.a,{children:"Mod\xe8le selectionn\xe9"}),Object(q.jsx)(Ge.a,{value:b,onChange:function(e){return m(e.target.value)},input:Object(q.jsx)(He.a,{}),children:o.tabName.map((function(e,t){return Object(q.jsx)(Ke.a,{value:e.index,children:e.nom},t)}))})]})]}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return n()},color:"primary",children:"Abandonner"}),Object(q.jsx)(v.a,{disabled:""===b,onClick:function(){Object(ne.h)(r,b),m(""),u(!0),n()},color:"primary",autoFocus:!0,children:"Ok"})]})]}),Object(q.jsx)(Me,{severity:"success",message:"Association r\xe9ussie",open:s,handleClose:function(){return u(!1)}})]})}function fr(e){var t=e.open,n=e.setClose,r=e.selectPromo,o=Object(a.useState)(""),i=Object(j.a)(o,2),c=i[0],s=i[1],u=Object(a.useState)(!1),l=Object(j.a)(u,2),d=l[0],b=l[1];return Object(q.jsxs)(C.a,{open:t,onClose:function(){return n()},children:[Object(q.jsx)(y.a,{children:"Charger une promotion"}),Object(q.jsxs)(w.a,{children:[Object(q.jsx)(k.a,{children:"Charger la liste excel de vos \xe9tudiants "}),Object(q.jsx)(Nn,{typeFile:".xlsx",compressImage:!1,changeFile:function(e){return s(e)},message:"Charger la liste des \xe9tudiants de la promotion"}),Object(q.jsx)(Me,{severity:"success",message:"Etudiants ajout\xe9s \xe0 la promotion",open:d,handleClose:function(){return b(!1)}})]}),Object(q.jsxs)(N.a,{children:[Object(q.jsx)(v.a,{onClick:function(){return n()},color:"primary",children:"Abandonner"}),Object(q.jsx)(v.a,{disabled:""===c,onClick:function(){return function(){var e=new FormData;e.append("fileUploaded",c),Object(ne.l)(r,e),b(!0)}()},color:"primary",autoFocus:!0,children:"Charger"})]})]})}var xr=n(639),Or=n(661),hr=n(232),gr=n.n(hr);function vr(){var e=Object(a.useState)(0),t=Object(j.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),i=Object(j.a)(o,2),c=i[0],s=i[1],u=Object(ke.c)(zn),l=[{id:"nom",label:"Nom",minWidth:170},{id:"prenom",label:"Pr\xe9nom",minWidth:170},{id:"mdp",label:"Mot de passe",minWidth:170,align:"right"},{id:"id",label:"Sujet n\xb0",minWidth:170,align:"right"},{id:"modele",label:"Mod\xe8le 3D",minWidth:170,align:"right"}],d=function(e,t){return"mdp"===e.id?Object(q.jsx)(v.a,{variant:"outlined",color:"primary",children:"R\xe9initialiser mot de passe"}):"modele"===e.id?Object(q.jsx)(v.a,{startIcon:t.id%2===0?Object(q.jsx)($a.a,{}):Object(q.jsx)(Ae.a,{}),variant:"outlined",color:t.id%2===0?"primary":"default",children:"Ajouter les mod\xe8les 3D pour ce sujet"}):t[e.id]},b=function(){return Object(q.jsxs)(xr.a,{children:[Object(q.jsx)(p.a,{style:{width:"98%"},variant:"h6",id:"tableTitle",component:"div",children:"Promotion"}),Object(q.jsx)(Or.a,{title:"filtrer les mod\xe8les d\xe9ja ajout\xe9s",children:Object(q.jsx)(Re.a,{onClick:function(){return s(!c)},"aria-label":"filter list",children:Object(q.jsx)(gr.a,{})})})]})};return Object(q.jsxs)(Ln.a,{children:[Object(q.jsx)(b,{}),Object(q.jsx)(Bn.a,{children:Object(q.jsxs)(_n.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(q.jsx)(Wn.a,{children:Object(q.jsx)(Vn.a,{children:l.map((function(e){return Object(q.jsx)(Jn.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(q.jsx)(Gn.a,{children:u.filter((function(e){return!c||87===e.id})).slice(10*n,10*n+10).map((function(e){return Object(q.jsx)(Vn.a,{hover:!0,tabIndex:-1,children:l.map((function(t){return Object(q.jsx)(Jn.a,{align:t.align,children:d(t,e)},t.id)}))},e.nom)}))})]})}),Object(q.jsx)(Hn.a,{rowsPerPageOptions:[],component:"div",count:u.length,rowsPerPage:10,page:n,onChangePage:function(e,t){r(t)}})]})}function Cr(){var e=Object(m.a)((function(e){return{mapDisplayEtu:{display:"flex",justifyContent:"space-around"},hr:{width:"80%",marginBottom:"2%"},divNomPromo:{display:"flex",justifyContent:"center",marginTop:"3%"},button:{display:"block",margin:"20px auto"},divPromo:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"1% 0.5%",width:"80%",margin:"auto"},typo:{textAlign:"center"},form:{display:"flex",justifyContent:"center",marginBottom:20},formControl:{display:"block",margin:"30px auto",width:"100%"},divSelectPromo:{display:"grid",gridTemplateColumns:"1fr 1fr",margin:"auto",width:"18%",gridGap:20},labelSelectPromo:{position:"relative"},selectPromo:{width:200,marginTop:"0 !important"},menuItem:{color:e.palette.primary.main},fabDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}}}}))(),t=Object(ke.b)(),n=Object(a.useState)([]),r=Object(j.a)(n,2),o=r[0],i=r[1],c=Object(a.useState)(""),s=Object(j.a)(c,2),u=s[0],l=s[1],d=Object(a.useState)(!1),b=Object(j.a)(d,2),x=b[0],O=b[1],h=Object(a.useState)(!1),g=Object(j.a)(h,2),C=g[0],y=g[1],w=Object(ke.c)(qn),k=Object(ke.c)(Tn);qe((function(){w||t(Rn())}));return Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"PROMOTION"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)("div",{className:e.divPromo,children:Object(q.jsx)("form",{className:e.form,children:Object(q.jsxs)(Ve.a,{className:e.formControl,children:[Object(q.jsxs)("div",{className:e.divSelectPromo,children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(Je.a,{className:e.labelSelectPromo,children:"Promotion selectionn\xe9e"}),Object(q.jsxs)(Ge.a,{className:e.selectPromo,value:u,onChange:function(e){return function(e){l(e.target.value),t(Pn(e.target.value.idPromo))}(e)},input:Object(q.jsx)(He.a,{}),children:[Object(q.jsx)(Ke.a,{className:e.menuItem,value:"ajoutPromo",children:"Ajouter promotion"}),void 0===k?Object(q.jsx)(Xe.a,{size:15,color:"rgb(7, 91, 114)",css:{margin:"30px auto",display:"flex",justifyContent:"center"}}):k.map((function(e,t){return Object(q.jsx)(Ke.a,{value:e,children:e.nom},t)}))]})]}),Object(q.jsx)(f.a,{className:e.fabDelete,size:"small","aria-label":"delete",disabled:""===u.idPromo||"ajoutPromo"===u,onClick:function(){return t(Qn(u)).then((function(){return t(Rn())})),void l("")},children:Object(q.jsx)(J.a,{})})]}),"ajoutPromo"!==u?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(v.a,{className:e.button,disabled:""===u,variant:"contained",color:"primary",onClick:function(){return O(!0)},children:"Associer \xe0 un mod\xe8le"}),Object(q.jsx)(v.a,{className:e.button,disabled:""===u,variant:"contained",color:"primary",onClick:function(){return y(!0)},children:"Ajouter une liste d'\xe9tudiants"}),Object(q.jsx)(pr,{selectPromo:u.idPromo,open:x,setClose:function(){return O(!1)}}),Object(q.jsx)(fr,{selectPromo:u.idPromo,open:C,setClose:function(){return y(!1)}}),""!==u?Object(q.jsx)(vr,{}):null]}):Object(q.jsxs)("div",{className:e.divNomPromo,children:[Object(q.jsx)(z.a,{autoFocus:!0,size:"small",label:"Nom de la promo",variant:"outlined",required:!0,value:o,onChange:function(e){return i(e.target.value)}}),Object(q.jsx)(v.a,{className:e.button,disabled:""===o,variant:"outlined",onClick:function(){return t(Sn(o)).then((function(){return t(Rn())})),void i("")},children:"Cr\xe9er"})]})]})})})]})}function yr(){var e=Object(m.a)((function(e){return{hr:{width:"80%",marginBottom:"2%"},tableauUnite:{width:"80%",margin:"auto",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},addButton:{marginLeft:"3%",marginBottom:"2%"},deleteButton:{backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},color:"white",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)"},modifButton:{backgroundColor:e.palette.primary.light,"&:hover":{backgroundColor:e.palette.secondary.main},color:"black",boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",marginRight:"10%"},tableCell:{textAlign:"center"},tableRow:{backgroundColor:e.palette.secondary.light}}}))(),t=Object(ke.b)(),n=Object(ke.c)(Vt),a=Object(ke.c)(Jt),r=Object(ke.c)(Gt),o=Object(ke.c)(Ht);qe((function(){o||t(It())}));var i=function(){if(r<0)return!0;if(0===n[r].abrev.length||0===n[r].nom.length)return!1;for(var e=0;e<n.length;e++){if(!(e===r||n[e].nom!==n[r].nom&&n[e].abrev!==n[r].abrev))return!1}return!0},c=function(){t(zt(n)),Wt(!0)},s=function(e){"Sans Unit\xe9"!==n[e].nom&&t(Bt(e))},u=function(a){return"Sans Unit\xe9"!==n[a].nom?Object(q.jsxs)("div",{children:[Object(q.jsx)(Re.a,{className:e.modifButton,onClick:function(e){return function(e){t(_t(e))}(a)},disabled:!i(),children:Object(q.jsx)(A.a,{})}),Object(q.jsx)(Re.a,{className:e.deleteButton,onClick:function(e){return s(a)},children:Object(q.jsx)(J.a,{})})]}):null},l=function(n,a){return a!==r?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(Jn.a,{className:e.tableCell,children:[" ",n.nom," "]}),Object(q.jsxs)(Jn.a,{className:e.tableCell,children:[" ",n.abrev," "]}),Object(q.jsxs)(Jn.a,{className:e.tableCell,children:[" ",u(a)," "]})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Jn.a,{className:e.tableCell,children:Object(q.jsx)(z.a,{value:n.nom,onChange:function(e){return function(e,n){t(Dt({index:e,value:n.target.value}))}(a,e)}})}),Object(q.jsx)(Jn.a,{className:e.tableCell,children:Object(q.jsx)(z.a,{value:n.abrev,onChange:function(e){return function(e,n){t(Lt({index:e,value:n.target.value}))}(a,e)}})}),Object(q.jsxs)(Jn.a,{className:e.tableCell,children:[Object(q.jsx)(Re.a,{onClick:function(e){t(_t(-1))},disabled:!i(),children:Object(q.jsx)(S.a,{})}),Object(q.jsx)(Re.a,{onClick:function(e){return s(a)},children:Object(q.jsx)(J.a,{})})]})]})};return a?Object(q.jsxs)("div",{children:[Object(q.jsx)(p.a,{variant:"h1",children:"Gestion des unit\xe9s"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)(v.a,{className:e.addButton,variant:"contained",color:"primary",onClick:function(){t(qt())},children:" Ajouter une unit\xe9 "}),Object(q.jsxs)(_n.a,{className:e.tableauUnite,children:[Object(q.jsx)(Wn.a,{children:Object(q.jsxs)(Vn.a,{className:e.tableRow,children:[Object(q.jsx)(Jn.a,{className:e.tableCell,children:" Nom Complet "}),Object(q.jsx)(Jn.a,{className:e.tableCell,children:" Abr\xe9viation "}),Object(q.jsx)(Jn.a,{})," "]})}),Object(q.jsx)(Gn.a,{children:n.map((function(e,t){return Object(q.jsx)(Vn.a,{children:l(e,t)},t)}))})]}),Object(q.jsx)(Me,{open:r<0&&!o,handleClose:function(){return c()},actionName:"enregistrer",action:function(){return c()},message:"Cliquez ici pour enregistrer les unit\xe9s",severity:"warning"})]}):Object(q.jsx)(O.a,{size:50,color:"rgb(7, 91, 114)",css:{margin:"auto",display:"flex",justifyContent:"center"}})}var wr=n(233),kr=n.n(wr),Nr=n(234),Fr=n.n(Nr),Er=n(32);function Pr(e){var t=Object(m.a)((function(e){return{buttonDelete:{color:"white",backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark}},reponse:{margin:"5px 0px",display:"flex",alignItems:"center",columnGap:"10px"},inputAdornmentReponse:{width:"100px"}}}))(),n=Object(a.useState)(!1),r=Object(j.a)(n,2),o=r[0],i=r[1],c=Object(ke.b)(),s=Object(ke.c)(Object(Er.k)(e.indexQuestion)),u=function(){c(Object(Er.e)({indexQuestion:e.indexQuestion,indexReponse:e.num}))};return Object(q.jsxs)("div",{className:t.reponse,children:[Object(q.jsx)(z.a,{label:"Reponse "+(e.num+1),variant:"outlined",size:"small",value:e.reponse.value,onChange:function(t){return n=t.target.value,void c(Object(Er.c)({indexQuestion:e.indexQuestion,indexReponse:e.num,value:n}));var n},onBlur:function(){"-"===e.reponse.value&&c(Object(Er.c)({indexQuestion:e.indexQuestion,indexReponse:e.num,value:""}))},InputProps:{endAdornment:Object(q.jsx)(xa.a,{className:t.inputAdornmentReponse,position:"start",children:fa(e.reponse.tabUnite)})}}),Object(q.jsx)(v.a,{size:"small",onClick:function(e){i(!0)},children:"Unite"}),Object(q.jsx)(ga,{open:o,unite:e.reponse.tabUnite,setTabUnite:function(t){c(Object(Er.n)({indexQuestion:e.indexQuestion,indexReponse:e.num,newTab:t}))},handleClose:function(){i(!1)}}),s?Object(q.jsx)(f.a,{className:t.buttonDelete,size:"small","aria-label":"delete",onClick:u,children:Object(q.jsx)(J.a,{})}):null]})}function Rr(e){var t=Object(m.a)((function(){return{listeReponses:{display:"flex",flexDirection:"column",flexWrap:"wrap",rowGap:"30px",alignItems:"center"},listeQuestions:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"2% 3% 2% 3%"},enonce:{margin:"4% 0 0 8%",fontSize:"18px"},buttonAjouterReponse:{display:"block",margin:"20px auto"},hr:{border:"1px dashed",width:"50%",margin:"50px auto"},h2:{textAlign:"left",margin:"1%"}}}))(),n=Object(ke.b)();return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("hr",{className:t.hr}),Object(q.jsxs)("div",{className:t.listeQuestions,children:[Object(q.jsxs)("h2",{className:t.h2,children:["Question ",e.id+1," :"]}),Object(q.jsx)("div",{className:t.enonce,children:er()(e.question.enonce)}),Object(q.jsx)(D,{style:{width:"100%",margin:"4% 0"},rows:4,label:"Justification",delayTimeout:300,value:e.question.justification,onChange:function(t){return n(Object(Er.b)({indexQuestion:e.id,justif:t}))}}),Object(q.jsx)("div",{className:t.listeReponses,children:e.question.tabReponses.map((function(t,n){return Object(q.jsx)(Pr,{num:n,reponse:t,indexQuestion:e.id},n)}))}),e.question.nbMaxReponses>1?Object(q.jsx)(v.a,{variant:"contained",className:t.buttonAjouterReponse,color:"primary",onClick:function(){n(Object(Er.a)(e.id))},disabled:e.question.tabReponses.length>=e.question.nbMaxReponses,children:"Ajouter R\xe9ponse"}):null]})]})}function Sr(){var e=Object(m.a)((function(){return{hr:{marginBottom:"2%"},contenant:{width:"80%",margin:"auto"},buttonFixed:{position:"absolute",top:"30px",right:"120px"},sujet:{boxShadow:"0px 8px 20px -5px rgba(0,0,0,0.69)",padding:"1% 2% 4% 2%",margin:"4%"},center:{textAlign:"center",display:"block",margin:"2% auto"},modeles:{display:"flex",justifyContent:"space-around"},image:{width:200}}}))(),t=Object(ke.c)(Er.l),n=Object(ke.c)(Er.m),r=Object(ke.b)();qe((function(){n||r(Object(Er.h)()).then((function(e){void 0!==e.payload[0]?r(Object(Er.j)(e.payload[0].id_modele)).then((function(e){r(Object(Er.g)(e.payload.id_auth)),r(Object(Er.i)(e.payload.id_auth))})):alert("erreur, pas de sujet asosci\xe9")}))}));var o=Object(a.useCallback)((function(){r(Object(Er.f)(t.tabQuestions))}),[r,t]);return n&&Object(q.jsxs)("div",{className:e.contenant,children:[Object(q.jsx)(p.a,{variant:"h1",children:"R\xe9ponses aux questions"}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsx)("div",{className:e.buttonFixed,children:Object(q.jsxs)(v.a,{variant:"contained",color:"primary",onClick:function(){var e=15,n='<p style="font-family: sans-serif; display : block; margin : auto;">'+t.sujet+"</p><br/><br/><br/><br/><hr>";t.tabQuestions.forEach((function(e,t){n+="<p>Question ".concat(t+1," :</p><br/>").concat(e.enonce,"<br/><br/>")}));var a=new kr.a("p","mm","a4"),r={pagesplit:!0,width:180,height:257};a.fromHTML(n,e,30,r),a.addPage(),(new Image).src=t.image1;for(var o=a.internal.getNumberOfPages(),i=1;i<=o;++i)a.setPage(i),a.text(e,20,"N\xb0 \xe9tudiant : 1 - N\xb0 sujet : 14582"),a.text(195,20,"Sujet de Pierre Dupont","right"),a.setLineWidth(.5),a.line(e,272,195,272),a.text(e,277,"Pierre Carillo"),a.text(105,277,"IUT du Limousin - GMP","center"),a.text(195,277,"Page "+i+"/"+o,"right");a.save("sujet.pdf")},children:[Object(q.jsx)(Fr.a,{}),"T\xe9l\xe9charger"]})}),Object(q.jsxs)("div",{className:e.sujet,children:[Object(q.jsx)("h2",{className:e.center,children:"Sujet"}),Object(q.jsx)("div",{id:"sujet",children:er()(t.sujet)})]}),Object(q.jsxs)("div",{className:e.modeles,children:[Object(q.jsxs)("div",{children:[Object(q.jsx)("img",{className:e.image,src:t.image1,alt:"img modele1"}),Object(q.jsx)("p",{className:e.center,children:"mod\xe8le 1"})]}),Object(q.jsxs)("div",{children:[Object(q.jsx)("img",{className:e.image,src:t.image2,alt:"img modele2"}),Object(q.jsx)("p",{className:e.center,children:"mod\xe8le 2"})]})]}),0===t.tabQuestions.length?Object(q.jsx)("div",{children:"Pas de questions pour l'instant"}):t.tabQuestions.map((function(e,t){return Object(q.jsx)(Rr,{question:e,id:t},e.indexQuestion)})),Object(q.jsx)(v.a,{variant:"contained",color:"primary",onClick:o,className:e.center,children:"Envoyer les r\xe9ponses"})]})}var Qr=n(645),Ar=n(251),Mr=n(644),Ir=n(235),zr=n.n(Ir),Ur=n(237),Tr=n.n(Ur),qr=n(236),Dr=n.n(qr),Lr=n(31);function Br(){var e=Object(m.a)((function(e){return{divMenuProfil:{position:"absolute",right:30,top:17.5,display:"flex",zIndex:10},avatar:{backgroundColor:e.palette.error.main}}}))(),t=Object(a.useState)(null),n=Object(j.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)(!1),u=Object(j.a)(i,2),l=u[0],d=u[1],b=Object(ke.b)(),f=Object(ke.c)(Lr.i),x=Object(ke.c)(an),O=Object(ke.c)(on),h=Object(ke.c)(qn);return qe((function(){var e=window.localStorage;""!==f.name&&void 0===f.image&&null===e.getItem(f.name)&&b(Object(Lr.b)(f.name)),!x&&f.isProf&&b(Yt()),h||b(Rn())})),Object(q.jsxs)("div",{className:e.divMenuProfil,children:[Object(q.jsx)(Or.a,{disableHoverListener:void 0===O,title:void 0!==O&&f.isProf?O.nom:"",children:Object(q.jsx)(Re.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){return o(e.currentTarget)},children:void 0===f.image?Object(q.jsx)(_a.a,{className:e.avatar,children:f.name.substring(0,1).toUpperCase()}):Object(q.jsx)(_a.a,{src:f.image})})}),Object(q.jsxs)(Ar.a,{transformOrigin:{vertical:"bottom",horizontal:"center"},disableScrollLock:!0,id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:function(){return o(null)},children:[Object(q.jsxs)(Ke.a,{component:c.b,to:"/profil",onClick:function(){return o(null)},children:[Object(q.jsx)(Mr.a,{children:Object(q.jsx)(zr.a,{})}),Object(q.jsx)(p.a,{variant:"inherit",children:"Profil"})]}),f.isProf?Object(q.jsxs)(Ke.a,{onClick:function(e){return d(!0)},children:[Object(q.jsx)(Mr.a,{children:Object(q.jsx)(Dr.a,{})}),Object(q.jsx)(p.a,{variant:"inherit",children:"Mod\xe8le"})]}):null,Object(q.jsxs)(Ke.a,{onClick:function(e){return b(Object(Lr.d)())},children:[Object(q.jsx)(Mr.a,{children:Object(q.jsx)(Tr.a,{})}),Object(q.jsx)(p.a,{variant:"inherit",children:"D\xe9connexion"})]})]}),f.isProf?Object(q.jsx)(un,{tard:!0,setClose:function(){return d(!1)},open:l}):null,f.isLogin?null:Object(q.jsx)(s.a,{to:"/"})]})}function _r(e){var t=Object(m.a)((function(){return{divProgress:{width:"50%",margin:"auto"}}}))(),n=Object(ke.b)(),r=Object(ke.c)(Er.m),o=Object(a.useState)(!1),i=Object(j.a)(o,2),c=i[0],s=i[1];return qe((function(){r||n(Object(Er.h)()).then((function(e){void 0!==e.payload[0]?n(Object(Er.j)(e.payload[0].id_modele)).then((function(e){n(Object(Er.g)(e.payload.id_auth)),n(Object(Er.i)(e.payload.id_auth))})):s(!0)}))})),Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(Br,{info:e.info}),Object(q.jsxs)("div",{className:t.divProgress,children:[Object(q.jsx)("p",{children:"Progression dans le traitement du sujet"}),Object(q.jsx)(Qr.a,{variant:"determinate",value:10}),Object(q.jsx)("p",{children:"Date limite de rendu : 10/01/21"})]})]}),Object(q.jsxs)(C.a,{open:c,onClose:function(){return s(!1)},children:[Object(q.jsx)(y.a,{children:"Sujet non attribu\xe9"}),Object(q.jsx)(w.a,{children:Object(q.jsx)(k.a,{children:"Ton sujet n'a pas encore \xe9t\xe9 attribu\xe9, contactes le professeur en cas de probl\xe8me ou reviens plus tard"})}),Object(q.jsx)(N.a,{children:Object(q.jsx)(v.a,{onClick:function(){return n(Object(Lr.d)())},color:"primary",children:"Quitter"})})]})]})}var Wr=n(656),Vr=n(238),Jr=n.n(Vr),Gr=n(239),Hr=n.n(Gr);function Kr(e){var t=e.label,n=e.error,r=e.value,o=e.onChange,i=e.onKeyPress,c=Object(m.a)((function(e){return{divInputPassword:{margin:"auto",width:"max-content"},margin:{margin:e.spacing(.5)},textField:{width:225}}}))(),s=Object(a.useState)(!1),u=Object(j.a)(s,2),l=u[0],d=u[1];return Object(q.jsx)("div",{className:c.divInputPassword,children:Object(q.jsxs)(Ve.a,{size:"small",variant:"outlined",className:Object(Ne.a)(c.margin,c.textField),children:[Object(q.jsx)(Je.a,{error:n,htmlFor:"outlined-adornment-password",required:!0,children:t}),Object(q.jsx)(Wr.a,{required:!0,label:t+"*",error:n,id:"outlined-adornment-password",type:l?"text":"password",value:r,onChange:function(e){return o(e)},onKeyPress:function(e){return void 0!==i?i(e):null},endAdornment:Object(q.jsx)(xa.a,{position:"end",children:Object(q.jsx)(Re.a,{"aria-label":"toggle password visibility",onClick:function(){return d(!l)},size:"small",children:l?Object(q.jsx)(Jr.a,{}):Object(q.jsx)(Hr.a,{})})})})]})})}function Yr(){var e=Object(m.a)((function(e){return{carteProfil:{display:"flex",width:"60%",height:"max-content",margin:"0 auto 2% auto",boxShadow:"-2px 5px 12px 4px rgba(0,0,0,0.62)"},imageProfil:Object(B.a)({width:220,height:"100",backgroundSize:"cover",backgroundPosition:"center"},e.breakpoints.down("sm"),{display:"none"}),wrapper:{height:"100%",width:"100%"},dropPhotoProfil:{height:"40%",width:"100%",margin:"auto"},buttonEnvoyerImageProfil:{display:"block",margin:"3% auto"},hr:{width:"70%"},divPasswordChange:{width:"max-content",display:"flex",flexDirection:"column",margin:"2% auto"},buttonChangePwd:{margin:"2% auto"}}}))(),t=Object(ke.c)(Lr.i),n=Object(ke.b)(),r=Object(a.useState)(!1),o=Object(j.a)(r,2),i=o[0],c=o[1],s=Object(a.useState)({oldPassword:"",newPassword:"",error:!1}),u=Object(j.a)(s,2),l=u[0],d=u[1],b=Object(a.useState)(""),f=Object(j.a)(b,2),x=f[0],O=f[1];return Object(q.jsxs)("div",{className:e.carteProfil,children:[void 0===t.image||""===t.image?null:Object(q.jsx)("div",{className:e.imageProfil,style:{backgroundImage:"url('"+t.image+"')"}}),Object(q.jsxs)("div",{className:e.wrapper,children:[Object(q.jsx)(p.a,{align:"center",gutterBottom:!0,variant:"h2",component:"h2",children:t.name.charAt(0).toUpperCase()+t.name.slice(1)}),Object(q.jsxs)("div",{className:e.dropPhotoProfil,children:[Object(q.jsx)(Nn,{typeFile:"image/*",compressImage:!0,changeFile:function(e){return O(e)},message:"Importer une nouvelle image de profil"}),Object(q.jsx)(v.a,{className:e.buttonEnvoyerImageProfil,variant:"contained",color:"primary",disabled:""===x,onClick:function(){return n(Object(Lr.l)({name:t.name,image:x}))},children:"Enregistrer l'image"})]}),Object(q.jsx)("hr",{className:e.hr}),Object(q.jsxs)("div",{className:e.divPasswordChange,id:"divPasswordChange",children:[Object(q.jsx)(Kr,{label:"Mot de passe actuel",error:l.error,onChange:function(e){return d({oldPassword:e.target.value,newPassword:l.newPassword,error:!1})}}),Object(q.jsx)(Kr,{label:"Nouveau mot de passe",error:l.error,onChange:function(e){return d({oldPassword:l.oldPassword,newPassword:e.target.value,error:!1})}}),Object(q.jsx)(v.a,{className:e.buttonChangePwd,variant:"contained",color:"primary",size:"small",onClick:function(e){Object(ne.F)(t.name,{oldPassword:l.oldPassword,newPassword:l.newPassword}).then((function(){c(!0)})).catch((function(){d({oldPassword:l.oldPassword,newPassword:l.newPassword,error:!0})}))},children:"Changer de mot de passe"})]}),Object(q.jsx)(Me,{severity:"success",message:"Changement de mot de passe r\xe9ussi",open:i,handleClose:function(e){return c(!1)}})]})]})}var Xr=n(105),$r=n.n(Xr),Zr=n(240),eo=n.n(Zr);function to(){return Object(q.jsx)(xn.a,{style:{position:"absolute",opacity:"0.6",top:0},height:"100vh",width:"100%",params:{particles:{color:{value:"#000000"},line_linked:{color:{value:"#000000"}},number:{value:50},size:{value:3}},interactivity:{events:{onhover:{enable:!0,mode:"repulse"}}}}})}function no(){var e=Object(m.a)((function(e){return{divLogin:{display:"flex",flexDirection:"column",height:"120px",margin:"30px auto"},backgroundLogin:{display:"block",margin:"10% auto 0 auto",border:"solid  2px",borderColor:e.palette.primary.main,borderRadius:"2%",padding:"2% 3%",backgroundColor:"rgba(255,255,255,0.6)",zIndex:2},buttonConnexion:{display:"block",margin:"20px auto 10px auto",backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark},border:"none",color:"white"},fieldLogin:{display:"flex",marginTop:"20px"},textField:{width:225},iconLogin:{marginRight:"29px",marginTop:"8px"},iconPwd:{marginRight:"25px",marginTop:"10px"}}}))(),t=Object(ke.b)(),n=Object(ke.c)(Lr.e),r=Object(ke.c)(Lr.g),o=Object(ke.c)(Lr.f),i=Object(a.useState)(!1),c=Object(j.a)(i,2),u=c[0],l=c[1],d=Object(a.useState)({user:"",pwd:""}),b=Object(j.a)(d,2),p=b[0],f=b[1];qe((function(){t(Object(Lr.m)())})),Object(a.useEffect)((function(){n&&l(!0)}),[n]);var x=function(){t(Object(Lr.c)({name:p.user,password:p.pwd}))};return void 0===o?null:Object(q.jsxs)("div",{className:e.divLogin,children:[Object(q.jsx)(to,{}),Object(q.jsxs)("div",{className:e.backgroundLogin,children:[Object(q.jsxs)("div",{className:e.fieldLogin,children:[Object(q.jsx)($r.a,{className:e.iconLogin}),Object(q.jsx)(Ve.a,{size:"small",variant:"outlined",children:Object(q.jsx)(z.a,{id:"outlined-login",className:e.textField,autoFocus:!0,size:"small",variant:"outlined",required:!0,error:n,value:p.user,label:"Login",onChange:function(e){return function(e){t(Object(Lr.j)(!1)),f({user:e.target.value,pwd:p.pwd})}(e)},onKeyPress:function(e){"Enter"===e.code&&x()}})})]}),Object(q.jsxs)("div",{className:e.fieldLogin,children:[Object(q.jsx)(eo.a,{className:e.iconPwd}),Object(q.jsx)(Kr,{label:"Mot de passe",error:n,onKeyPress:function(e){"Enter"===e.code&&x()},value:p.pwd,onChange:function(e){return function(e){t(Object(Lr.j)(!1)),f({user:p.user,pwd:e.target.value})}(e)}})]}),Object(q.jsx)(v.a,{type:"submit",className:e.buttonConnexion,variant:"outlined",onClick:function(){return x()},children:"Connexion"}),Object(q.jsx)(Me,{severity:"error",message:"Identification invalide",open:u,handleClose:function(){return l(!1)}})]}),o?r?Object(q.jsx)(s.a,{push:!0,to:"/prof/home"}):Object(q.jsx)(s.a,{push:!0,to:"/etu/home"}):null]})}var ao=n(252),ro=n(652),oo=n(155),io=n.n(oo),co=n(244),so=n.n(co),uo=n(156),lo=n.n(uo),bo=n(248),jo=n.n(bo),mo=n(247),po=n.n(mo),fo=n(246),xo=n.n(fo),Oo=n(241),ho=n.n(Oo),go=n(243),vo=n.n(go),Co=n(242),yo=n.n(Co),wo=n(245),ko=n.n(wo);function No(){var e=Object(m.a)((function(e){return{divNavigation:{padding:"5px 10px",zIndex:99},divider:{margin:"3% 0"},deconnexionNav:{backgroundColor:e.palette.error.main,"&:hover":{backgroundColor:e.palette.error.dark},borderRadius:"3px"},deconnexionText:{color:"white"},deconnexionIcon:{color:"white"},divNavBar:{marginBottom:100},burger:{position:"fixed",left:"20px",top:"20px",zIndex:10}}}))(),t=Object(ke.c)(Lr.i),n=Object(ke.b)(),r=Object(a.useState)(!1),o=Object(j.a)(r,2),i=o[0],s=o[1],u=[{icon:Object(q.jsx)(io.a,{}),nom:"Accueil",route:"/prof/home"},{icon:Object(q.jsx)($r.a,{}),nom:"Profil",route:"/profil",divider:!0},{icon:Object(q.jsx)(ho.a,{}),nom:"Architecture",route:"/prof/architecture"},{icon:Object(q.jsx)(yo.a,{}),nom:"Promotion",route:"/prof/promo"},{icon:Object(q.jsx)(vo.a,{}),nom:"Cr\xe9ation variables al\xe9atoires",route:"/prof/variable-aleatoires"},{icon:Object(q.jsx)(so.a,{}),nom:"Enregistrement des formules",route:"/prof/formules"},{icon:Object(q.jsx)(ko.a,{}),nom:"G\xe9rer les unit\xe9s",route:"/prof/unites"},{icon:Object(q.jsx)(xo.a,{}),nom:"Cr\xe9ation des \xe9nonc\xe9s",route:"/prof/enonces",divider:!0},{icon:Object(q.jsx)(lo.a,{}),nom:"Gestion de la correction",route:"/prof/gestion-correction",divider:!0}],l=[{icon:Object(q.jsx)(io.a,{}),nom:"Accueil",route:"/etu/home"},{icon:Object(q.jsx)($r.a,{}),nom:"Profil",route:"/profil"},{icon:Object(q.jsx)(lo.a,{}),nom:"R\xe9pondre aux Questions",route:"/etu/repondre-questions",divider:!0}],d=t.isProf?u:l;return Object(q.jsxs)("div",{className:e.divNavBar,children:[Object(q.jsx)(Re.a,{className:e.burger,onClick:function(e){return s(!0)},children:Object(q.jsx)(jo.a,{fontSize:"large"})}),Object(q.jsx)(ro.a,{onOpen:function(){return s(!0)},open:i,onClose:function(){return s(!1)},children:Object(q.jsx)("nav",{className:e.divNavigation,children:Object(q.jsxs)(Wa.a,{children:[d.map((function(t){return Object(q.jsxs)("div",{children:[Object(q.jsxs)(Ja.a,{button:!0,component:c.b,to:t.route,children:[Object(q.jsx)(Mr.a,{children:t.icon}),Object(q.jsx)(Ga.a,{children:t.nom})]}),null==t.divider?null:Object(q.jsx)(Va.a,{className:e.divider})]},t.nom)})),Object(q.jsxs)(Ja.a,{className:e.deconnexionNav,button:!0,onClick:function(){return n(Object(Lr.d)())},children:[Object(q.jsx)(Mr.a,{children:Object(q.jsx)(po.a,{className:e.deconnexionIcon})}),Object(q.jsx)(Ga.a,{className:e.deconnexionText,children:"D\xe9connexion"})]})]})})})]})}function Fo(e){var t=e.forProf,n=e.component,a=Object(ao.a)(e,["forProf","component"]),r=Object(ke.b)(),o=Object(ke.c)(Lr.i),i=Object(ke.c)(Lr.h);return Object(q.jsx)(s.b,Object(vn.a)(Object(vn.a)({},a),{},{render:function(e){return function(e){if(i&&void 0!==o.isLogin||(r(Object(Lr.m)()),Object(Lr.k)(!1)),void 0!==o.isLogin)return o.isProf===t||void 0===t?Object(q.jsxs)("div",{children:[Object(q.jsx)(No,{}),Object(q.jsx)(Br,{}),Object(q.jsx)(n,Object(vn.a)({},e))]}):Object(q.jsx)(q.Fragment,{children:window.location.href="/"})}(e)}}))}var Eo=Object(te.a)({reducer:{user:Lr.a,formule:we,modele:cn,variableAleatoire:mt,reponse:Er.d,enonce:Mt,promo:Dn,consulter:la,unite:Kt},middleware:Object(te.d)({serializableCheck:!1})}),Po=n(648);function Ro(){var e=Object(u.a)({palette:{primary:{light:"#c0dff8",main:"#075b72"},secondary:{main:"#cfcfcf"},error:{main:"#c51150"},warning:{main:"#ffa016",dark:"#b75c08"},success:{main:"#5bb65f",dark:"#244826"}},typography:{fontFamily:"Amaranth",h1:{fontSize:28,fontWeight:"bold",textAlign:"center",textTransform:"uppercase",color:"#393939"},button:{height:36,width:"max-content"}}},b.a);return Object(q.jsx)(l.a,{theme:e,children:Object(q.jsxs)(ke.a,{store:Eo,children:[Object(q.jsx)(Po.a,{}),Object(q.jsx)(c.a,{children:Object(q.jsxs)(s.d,{children:[Object(q.jsx)(s.b,{exact:!0,path:"/",component:no}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/home",component:hn}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/gestion-sujets",component:hn}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/promo",component:Cr}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/unites",component:yr}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/enonces",component:Sa}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/formules",component:pn}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/architecture",component:Fn}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/gestion-correction",component:ba}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/variable-aleatoires",component:Da}),Object(q.jsx)(Fo,{forProf:!0,exact:!0,path:"/prof/correction/:value",component:mr}),Object(q.jsx)(Fo,{forProf:!1,exact:!0,path:"/etu/home",component:_r}),Object(q.jsx)(Fo,{forProf:!1,exact:!0,path:"/etu/repondre-questions",component:Sr}),Object(q.jsx)(Fo,{exact:!0,path:"/profil",component:Yr}),Object(q.jsx)(s.b,{render:function(){return Object(q.jsx)(s.a,{to:"/"})}})]})})]})})}var So=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,663)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};i.a.render(Object(q.jsx)(r.a.StrictMode,{children:Object(q.jsx)(Ro,{})}),document.getElementById("root")),So()}},[[575,1,2]]]);
//# sourceMappingURL=main.9e4b9c61.chunk.js.map